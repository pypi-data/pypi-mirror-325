<blockquote>
<p>docs for <a
href="https://github.com/mivanit/lmcat"><code>lmcat</code></a>
v0.1.2</p>
</blockquote>
<h2 id="contents">Contents</h2>
<h1 id="lmcat">lmcat</h1>
<p>A Python tool for concatenating files and directory structures into a
single document, perfect for sharing code with language models. It
respects <code>.gitignore</code> and <code>.lmignore</code> patterns and
provides configurable output formatting.</p>
<h2 id="features">Features</h2>
<ul>
<li>Tree view of directory structure with file statistics (lines,
characters, tokens)</li>
<li>Includes file contents with clear delimiters</li>
<li>Respects <code>.gitignore</code> patterns (can be disabled)</li>
<li>Supports custom ignore patterns via <code>.lmignore</code></li>
<li>Configurable via <code>pyproject.toml</code>,
<code>lmcat.toml</code>, or <code>lmcat.json</code>
<ul>
<li>you can specify <code>glob_process</code> or
<code>decider_process</code> to run on files, like if you want to
convert a notebook to a markdown file</li>
</ul></li>
</ul>
<h2 id="installation">Installation</h2>
<p>Install from PyPI:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install lmcat</span></code></pre></div>
<p>or, install with support for counting tokens:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install lmcat<span class="pp">[</span><span class="ss">tokenizers</span><span class="pp">]</span></span></code></pre></div>
<h2 id="usage">Usage</h2>
<p>Basic usage - concatenate current directory:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Only show directory tree</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> lmcat <span class="at">--tree-only</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Write output to file</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> lmcat <span class="at">--output</span> summary.md</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Print current configuration</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> lmcat <span class="at">--print-cfg</span></span></code></pre></div>
<p>The output will include a directory tree and the contents of each
non-ignored file.</p>
<h3 id="command-line-options">Command Line Options</h3>
<ul>
<li><code>-t</code>, <code>--tree-only</code>: Only print the directory
tree, not file contents</li>
<li><code>-o</code>, <code>--output</code>: Specify an output file
(defaults to stdout)</li>
<li><code>-h</code>, <code>--help</code>: Show help message</li>
</ul>
<h3 id="configuration">Configuration</h3>
<p>lmcat is best configured via a <code>tool.lmcat</code> section in
<code>pyproject.toml</code>:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode toml"><code class="sourceCode toml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[tool.lmcat]</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Tree formatting</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="dt">tree_divider</span> <span class="op">=</span> <span class="st">&quot;│   &quot;</span>    <span class="co"># Vertical lines in tree</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="dt">tree_indent</span> <span class="op">=</span> <span class="st">&quot; &quot;</span>        <span class="co"># Indentation</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="dt">tree_file_divider</span> <span class="op">=</span> <span class="st">&quot;├── &quot;</span>  <span class="co"># File/directory entries</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="dt">content_divider</span> <span class="op">=</span> <span class="st">&quot;``````&quot;</span>  <span class="co"># File content delimiters</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Processing pipeline</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="dt">tokenizer</span> <span class="op">=</span> <span class="st">&quot;gpt2&quot;</span>  <span class="co"># or &quot;whitespace-split&quot;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="dt">tree_only</span> <span class="op">=</span> <span class="cn">false</span>   <span class="co"># Only show tree structure</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="dt">on_multiple_processors</span> <span class="op">=</span> <span class="st">&quot;except&quot;</span>  <span class="co"># Behavior when multiple processors match</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># File handling</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="dt">ignore_patterns</span> <span class="op">=</span> <span class="op">[</span><span class="st">&quot;*.tmp&quot;</span><span class="op">,</span> <span class="st">&quot;*.log&quot;</span><span class="op">]</span>  <span class="co"># Additional patterns to ignore</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="dt">ignore_patterns_files</span> <span class="op">=</span> <span class="op">[</span><span class="st">&quot;.gitignore&quot;</span><span class="op">,</span> <span class="st">&quot;.lmignore&quot;</span><span class="op">]</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># processors</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="kw">[tool.lmcat.glob_process]</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="dt">&quot;[mM]akefile&quot;</span> <span class="op">=</span> <span class="st">&quot;makefile_recipes&quot;</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="dt">&quot;*.ipynb&quot;</span> <span class="op">=</span> <span class="st">&quot;ipynb_to_md&quot;</span></span></code></pre></div>
<h2 id="development">Development</h2>
<h3 id="setup">Setup</h3>
<ol type="1">
<li>Clone the repository:</li>
</ol>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/mivanit/lmcat</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> lmcat</span></code></pre></div>
<ol start="2" type="1">
<li>Set up the development environment:</li>
</ol>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> setup</span></code></pre></div>
<h3 id="development-commands">Development Commands</h3>
<p>The project uses <code>make</code> for common development tasks:</p>
<ul>
<li><code>make dep</code>: Install/update dependencies</li>
<li><code>make format</code>: Format code using ruff and pycln</li>
<li><code>make test</code>: Run tests</li>
<li><code>make typing</code>: Run type checks</li>
<li><code>make check</code>: Run all checks (format, test, typing)</li>
<li><code>make clean</code>: Clean temporary files</li>
<li><code>make docs</code>: Generate documentation</li>
<li><code>make build</code>: Build the package</li>
<li><code>make publish</code>: Publish to PyPI (maintainers only)</li>
</ul>
<p>Run <code>make help</code> to see all available commands.</p>
<h3 id="running-tests">Running Tests</h3>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> test</span></code></pre></div>
<p>For verbose output:</p>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="va">VERBOSE</span><span class="op">=</span>1 <span class="fu">make</span> test</span></code></pre></div>
<h3 id="roadmap">Roadmap</h3>
<ul>
<li>more processors and deciders, like:
<ul>
<li>only first <code>n</code> lines if file is too large</li>
<li>first few lines of a csv file</li>
<li>json schema of a big json/toml/yaml file</li>
<li>metadata extraction from images</li>
</ul></li>
<li>better tests, I feel like gitignore/lmignore interaction is
broken</li>
<li>llm summarization and caching of those summaries in
<code>.lmsummary/</code></li>
<li>reasonable defaults for file extensions to ignore</li>
<li>web interface</li>
</ul>
<h2 id="submodules">Submodules</h2>
<ul>
<li><a href="#lmcat"><code>lmcat</code></a></li>
<li><a href="#file_stats"><code>file_stats</code></a></li>
<li><a
href="#processing_pipeline"><code>processing_pipeline</code></a></li>
<li><a href="#processors"><code>processors</code></a></li>
</ul>
<h2 id="api-documentation">API Documentation</h2>
<ul>
<li><a href="#main"><code>main</code></a></li>
</ul>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/__init__.py">View
Source on GitHub</a></p>
<h1 id="lmcat"><code>lmcat</code></h1>
<h3 id="lmcat-1">lmcat</h3>
<p>A Python tool for concatenating files and directory structures into a
single document, perfect for sharing code with language models. It
respects <code>.gitignore</code> and <code>.lmignore</code> patterns and
provides configurable output formatting.</p>
<h4 id="features-1">Features</h4>
<ul>
<li>Tree view of directory structure with file statistics (lines,
characters, tokens)</li>
<li>Includes file contents with clear delimiters</li>
<li>Respects <code>.gitignore</code> patterns (can be disabled)</li>
<li>Supports custom ignore patterns via <code>.lmignore</code></li>
<li>Configurable via <code>pyproject.toml</code>,
<code>lmcat.toml</code>, or <code>lmcat.json</code>
<ul>
<li>you can specify <code>glob_process</code> or
<code>decider_process</code> to run on files, like if you want to
convert a notebook to a markdown file</li>
</ul></li>
</ul>
<h4 id="installation-1">Installation</h4>
<p>Install from PyPI:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install lmcat</span></code></pre></div>
<p>or, install with support for counting tokens:</p>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install lmcat<span class="pp">[</span><span class="ss">tokenizers</span><span class="pp">]</span></span></code></pre></div>
<h4 id="usage-1">Usage</h4>
<p>Basic usage - concatenate current directory:</p>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">### Only show directory tree</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> lmcat <span class="at">--tree-only</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">### Write output to file</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> lmcat <span class="at">--output</span> summary.md</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">### Print current configuration</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> lmcat <span class="at">--print-cfg</span></span></code></pre></div>
<p>The output will include a directory tree and the contents of each
non-ignored file.</p>
<h5 id="command-line-options-1">Command Line Options</h5>
<ul>
<li><code>-t</code>, <code>--tree-only</code>: Only print the directory
tree, not file contents</li>
<li><code>-o</code>, <code>--output</code>: Specify an output file
(defaults to stdout)</li>
<li><code>-h</code>, <code>--help</code>: Show help message</li>
</ul>
<h5 id="configuration-1">Configuration</h5>
<p>lmcat is best configured via a <code>tool.lmcat</code> section in
<code>pyproject.toml</code>:</p>
<div class="sourceCode" id="cb12"><pre
class="sourceCode toml"><code class="sourceCode toml"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">[tool.lmcat]</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="co">### Tree formatting</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="dt">tree_divider</span> <span class="op">=</span> <span class="st">&quot;│   &quot;</span>    <span class="co"># Vertical lines in tree</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="dt">tree_indent</span> <span class="op">=</span> <span class="st">&quot; &quot;</span>        <span class="co"># Indentation</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="dt">tree_file_divider</span> <span class="op">=</span> <span class="st">&quot;├── &quot;</span>  <span class="co"># File/directory entries</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="dt">content_divider</span> <span class="op">=</span> <span class="st">&quot;``````&quot;</span>  <span class="co"># File content delimiters</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">### Processing pipeline</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="dt">tokenizer</span> <span class="op">=</span> <span class="st">&quot;gpt2&quot;</span>  <span class="co"># or &quot;whitespace-split&quot;</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="dt">tree_only</span> <span class="op">=</span> <span class="cn">false</span>   <span class="co"># Only show tree structure</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="dt">on_multiple_processors</span> <span class="op">=</span> <span class="st">&quot;except&quot;</span>  <span class="co"># Behavior when multiple processors match</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">### File handling</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="dt">ignore_patterns</span> <span class="op">=</span> <span class="op">[</span><span class="st">&quot;*.tmp&quot;</span><span class="op">,</span> <span class="st">&quot;*.log&quot;</span><span class="op">]</span>  <span class="co"># Additional patterns to ignore</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="dt">ignore_patterns_files</span> <span class="op">=</span> <span class="op">[</span><span class="st">&quot;.gitignore&quot;</span><span class="op">,</span> <span class="st">&quot;.lmignore&quot;</span><span class="op">]</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co">### processors</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="kw">[tool.lmcat.glob_process]</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="dt">&quot;[mM]akefile&quot;</span> <span class="op">=</span> <span class="st">&quot;makefile_recipes&quot;</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="dt">&quot;*.ipynb&quot;</span> <span class="op">=</span> <span class="st">&quot;ipynb_to_md&quot;</span></span></code></pre></div>
<h4 id="development-1">Development</h4>
<h5 id="setup-1">Setup</h5>
<ol type="1">
<li>Clone the repository:</li>
</ol>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/mivanit/lmcat</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> lmcat</span></code></pre></div>
<ol start="2" type="1">
<li>Set up the development environment:</li>
</ol>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> setup</span></code></pre></div>
<h5 id="development-commands-1">Development Commands</h5>
<p>The project uses <code>make</code> for common development tasks:</p>
<ul>
<li><code>make dep</code>: Install/update dependencies</li>
<li><code>make format</code>: Format code using ruff and pycln</li>
<li><code>make test</code>: Run tests</li>
<li><code>make typing</code>: Run type checks</li>
<li><code>make check</code>: Run all checks (format, test, typing)</li>
<li><code>make clean</code>: Clean temporary files</li>
<li><code>make docs</code>: Generate documentation</li>
<li><code>make build</code>: Build the package</li>
<li><code>make publish</code>: Publish to PyPI (maintainers only)</li>
</ul>
<p>Run <code>make help</code> to see all available commands.</p>
<h5 id="running-tests-1">Running Tests</h5>
<div class="sourceCode" id="cb15"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> test</span></code></pre></div>
<p>For verbose output:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="va">VERBOSE</span><span class="op">=</span>1 <span class="fu">make</span> test</span></code></pre></div>
<h5 id="roadmap-1">Roadmap</h5>
<ul>
<li>more processors and deciders, like:
<ul>
<li>only first <code>n</code> lines if file is too large</li>
<li>first few lines of a csv file</li>
<li>json schema of a big json/toml/yaml file</li>
<li>metadata extraction from images</li>
</ul></li>
<li>better tests, I feel like gitignore/lmignore interaction is
broken</li>
<li>llm summarization and caching of those summaries in
<code>.lmsummary/</code></li>
<li>reasonable defaults for file extensions to ignore</li>
<li>web interface</li>
</ul>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/__init__.py#L0-L14">View
Source on GitHub</a></p>
<h3 id="main"><code>def main</code></h3>
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>() <span class="op">-&gt;</span> <span class="va">None</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/__init__.py#L387-L454">View
Source on GitHub</a></p>
<p>Main entry point for the script</p>
<blockquote>
<p>docs for <a
href="https://github.com/mivanit/lmcat"><code>lmcat</code></a>
v0.1.2</p>
</blockquote>
<h2 id="api-documentation-1">API Documentation</h2>
<ul>
<li><a
href="#TOKENIZERS_PRESENT"><code>TOKENIZERS_PRESENT</code></a></li>
<li><a href="#TokenizerWrapper"><code>TokenizerWrapper</code></a></li>
<li><a href="#FileStats"><code>FileStats</code></a></li>
<li><a href="#TreeEntry"><code>TreeEntry</code></a></li>
</ul>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/file_stats.py">View
Source on GitHub</a></p>
<h1 id="lmcat.file_stats"><code>lmcat.file_stats</code></h1>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/file_stats.py#L0-L83">View
Source on GitHub</a></p>
<ul>
<li><code>TOKENIZERS_PRESENT: bool = True</code></li>
</ul>
<h3 id="TokenizerWrapper"><code>class TokenizerWrapper:</code></h3>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/file_stats.py#L25-L43">View
Source on GitHub</a></p>
<p>tokenizer wrapper. stores name and provides <code>n_tokens</code>
method.</p>
<p>uses splitting by whitespace as a fallback –
<code>whitespace-split</code></p>
<h3 id="TokenizerWrapper.__init__"><code>TokenizerWrapper</code></h3>
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>(name: <span class="bu">str</span> <span class="op">=</span> <span class="st">&#39;whitespace-split&#39;</span>)</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/file_stats.py#L30-L35">View
Source on GitHub</a></p>
<ul>
<li><p><code>name: str</code></p></li>
<li><p><code>use_fallback: bool</code></p></li>
<li><p><code>tokenizer: Optional[tokenizers.Tokenizer]</code></p></li>
</ul>
<h3 id="TokenizerWrapper.n_tokens"><code>def n_tokens</code></h3>
<div class="sourceCode" id="cb19"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>(<span class="va">self</span>, text: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">int</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/file_stats.py#L37-L43">View
Source on GitHub</a></p>
<p>Return number of tokens in text</p>
<h3 id="FileStats"><code>class FileStats:</code></h3>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/file_stats.py#L46-L77">View
Source on GitHub</a></p>
<p>Statistics for a single file</p>
<h3 id="FileStats.__init__"><code>FileStats</code></h3>
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(lines: <span class="bu">int</span>, chars: <span class="bu">int</span>, tokens: Optional[<span class="bu">int</span>] <span class="op">=</span> <span class="va">None</span>)</span></code></pre></div>
<ul>
<li><p><code>lines: int</code></p></li>
<li><p><code>chars: int</code></p></li>
<li><p><code>tokens: Optional[int] = None</code></p></li>
</ul>
<h3 id="FileStats.from_file"><code>def from_file</code></h3>
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>    cls,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    path: pathlib.Path,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    tokenizer: lmcat.file_stats.TokenizerWrapper</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> lmcat.file_stats.FileStats</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/file_stats.py#L54-L77">View
Source on GitHub</a></p>
<p>Get statistics for a single file</p>
<h3 id="parameters">Parameters:</h3>
<ul>
<li><code>path : Path</code> Path to the file to analyze</li>
<li><code>tokenizer : Optional[tokenizers.Tokenizer]</code> Tokenizer to
use for counting tokens, if any</li>
</ul>
<h3 id="returns">Returns:</h3>
<ul>
<li><code>FileStats</code> Statistics for the file</li>
</ul>
<h3 id="TreeEntry"><code>class TreeEntry(typing.NamedTuple):</code></h3>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/file_stats.py#L80-L84">View
Source on GitHub</a></p>
<p>Entry in the tree output with optional stats</p>
<h3 id="TreeEntry.__init__"><code>TreeEntry</code></h3>
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>(line: <span class="bu">str</span>, stats: Optional[lmcat.file_stats.FileStats] <span class="op">=</span> <span class="va">None</span>)</span></code></pre></div>
<p>Create new instance of TreeEntry(line, stats)</p>
<ul>
<li><code>line: str</code></li>
</ul>
<p>Alias for field number 0</p>
<ul>
<li><code>stats: Optional[lmcat.file_stats.FileStats]</code></li>
</ul>
<p>Alias for field number 1</p>
<h3 id="inherited-members">Inherited Members</h3>
<ul>
<li><a href="#TreeEntry.index"><code>index</code></a></li>
<li><a href="#TreeEntry.count"><code>count</code></a></li>
</ul>
<blockquote>
<p>docs for <a
href="https://github.com/mivanit/lmcat"><code>lmcat</code></a>
v0.1.2</p>
</blockquote>
<h2 id="api-documentation-2">API Documentation</h2>
<ul>
<li><a href="#LMCatConfig"><code>LMCatConfig</code></a></li>
<li><a href="#IgnoreHandler"><code>IgnoreHandler</code></a></li>
<li><a href="#sorted_entries"><code>sorted_entries</code></a></li>
<li><a href="#walk_dir"><code>walk_dir</code></a></li>
<li><a
href="#format_tree_with_stats"><code>format_tree_with_stats</code></a></li>
<li><a href="#walk_and_collect"><code>walk_and_collect</code></a></li>
<li><a href="#assemble_summary"><code>assemble_summary</code></a></li>
<li><a href="#main"><code>main</code></a></li>
</ul>
<p><a href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py">View
Source on GitHub</a></p>
<h1 id="lmcat.lmcat"><code>lmcat.lmcat</code></h1>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L0-L457">View
Source on GitHub</a></p>
<h3
id="LMCatConfig"><code>class LMCatConfig(muutils.json_serialize.serializable_dataclass.SerializableDataclass):</code></h3>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L35-L138">View
Source on GitHub</a></p>
<p>Configuration dataclass for lmcat</p>
<h3 id="LMCatConfig.__init__"><code>LMCatConfig</code></h3>
<div class="sourceCode" id="cb23"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">*</span>,</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    content_divider: <span class="bu">str</span> <span class="op">=</span> <span class="st">&#39;``````&#39;</span>,</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    tree_only: <span class="bu">bool</span> <span class="op">=</span> <span class="va">False</span>,</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>    ignore_patterns: <span class="bu">list</span>[<span class="bu">str</span>] <span class="op">=</span> <span class="op">&lt;</span>factory<span class="op">&gt;</span>,</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    ignore_patterns_files: <span class="bu">list</span>[pathlib.Path] <span class="op">=</span> <span class="op">&lt;</span>factory<span class="op">&gt;</span>,</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    plugins_file: pathlib.Path <span class="op">|</span> <span class="va">None</span> <span class="op">=</span> <span class="va">None</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    allow_plugins: <span class="bu">bool</span> <span class="op">=</span> <span class="va">False</span>,</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>    glob_process: <span class="bu">dict</span>[<span class="bu">str</span>, <span class="bu">str</span>] <span class="op">=</span> <span class="op">&lt;</span>factory<span class="op">&gt;</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>    decider_process: <span class="bu">dict</span>[<span class="bu">str</span>, <span class="bu">str</span>] <span class="op">=</span> <span class="op">&lt;</span>factory<span class="op">&gt;</span>,</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>    on_multiple_processors: Literal[<span class="st">&#39;warn&#39;</span>, <span class="st">&#39;except&#39;</span>, <span class="st">&#39;do_first&#39;</span>, <span class="st">&#39;do_last&#39;</span>, <span class="st">&#39;skip&#39;</span>] <span class="op">=</span> <span class="st">&#39;except&#39;</span>,</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>    tokenizer: <span class="bu">str</span> <span class="op">=</span> <span class="st">&#39;gpt2&#39;</span>,</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    tree_divider: <span class="bu">str</span> <span class="op">=</span> <span class="st">&#39;│   &#39;</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>    tree_file_divider: <span class="bu">str</span> <span class="op">=</span> <span class="st">&#39;├── &#39;</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>    tree_indent: <span class="bu">str</span> <span class="op">=</span> <span class="st">&#39; &#39;</span>,</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>    output: <span class="bu">str</span> <span class="op">|</span> <span class="va">None</span> <span class="op">=</span> <span class="va">None</span></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<ul>
<li><p><code>content_divider: str = '``````'</code></p></li>
<li><p><code>tree_only: bool = False</code></p></li>
<li><p><code>ignore_patterns: list[str]</code></p></li>
<li><p><code>ignore_patterns_files: list[pathlib.Path]</code></p></li>
<li><p><code>plugins_file: pathlib.Path | None = None</code></p></li>
<li><p><code>allow_plugins: bool = False</code></p></li>
<li><p><code>glob_process: dict[str, str]</code></p></li>
<li><p><code>decider_process: dict[str, str]</code></p></li>
<li><p><code>on_multiple_processors: Literal['warn', 'except', 'do_first', 'do_last', 'skip'] = 'except'</code></p></li>
<li><p><code>tokenizer: str = 'gpt2'</code></p></li>
</ul>
<p>Tokenizer to use for tokenizing the output. <code>gpt2</code> by
default. passed to <code>tokenizers.Tokenizer.from_pretrained()</code>.
If specified and <code>tokenizers</code> not installed, will throw
exception. fallback <code>whitespace-split</code> used to avoid
exception when <code>tokenizers</code> not installed.</p>
<ul>
<li><p><code>tree_divider: str = '│   '</code></p></li>
<li><p><code>tree_file_divider: str = '├── '</code></p></li>
<li><p><code>tree_indent: str = ' '</code></p></li>
<li><p><code>output: str | None = None</code></p></li>
</ul>
<h3
id="LMCatConfig.get_tokenizer_obj"><code>def get_tokenizer_obj</code></h3>
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>(<span class="va">self</span>) <span class="op">-&gt;</span> lmcat.file_stats.TokenizerWrapper</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L86-L88">View
Source on GitHub</a></p>
<p>Get the tokenizer object</p>
<h3
id="LMCatConfig.get_processing_pipeline"><code>def get_processing_pipeline</code></h3>
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>(<span class="va">self</span>) <span class="op">-&gt;</span> lmcat.processing_pipeline.ProcessingPipeline</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L90-L98">View
Source on GitHub</a></p>
<p>Get the processing pipeline object</p>
<h3 id="LMCatConfig.read"><code>def read</code></h3>
<div class="sourceCode" id="cb26"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>(cls, root_dir: pathlib.Path) <span class="op">-&gt;</span> lmcat.lmcat.LMCatConfig</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L100-L138">View
Source on GitHub</a></p>
<p>Attempt to read config from pyproject.toml, lmcat.toml, or
lmcat.json.</p>
<h3 id="LMCatConfig.serialize"><code>def serialize</code></h3>
<div class="sourceCode" id="cb27"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">dict</span>[<span class="bu">str</span>, typing.Any]</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L703-L759">View
Source on GitHub</a></p>
<p>returns the class as a dict, implemented by using
<code>@serializable_dataclass</code> decorator</p>
<h3 id="LMCatConfig.load"><code>def load</code></h3>
<div class="sourceCode" id="cb28"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>(cls, data: Union[<span class="bu">dict</span>[<span class="bu">str</span>, Any], <span class="op">~</span>T]) <span class="op">-&gt;</span> Type[<span class="op">~</span>T]</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L766-L852">View
Source on GitHub</a></p>
<p>takes in an appropriately structured dict and returns an instance of
the class, implemented by using <code>@serializable_dataclass</code>
decorator</p>
<h3
id="LMCatConfig.validate_fields_types"><code>def validate_fields_types</code></h3>
<div class="sourceCode" id="cb29"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>: muutils.json_serialize.serializable_dataclass.SerializableDataclass,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    on_typecheck_error: muutils.errormode.ErrorMode <span class="op">=</span> ErrorMode.Except</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">bool</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L303-L312">View
Source on GitHub</a></p>
<p>validate the types of all the fields on a
<code>SerializableDataclass</code>. calls
<code>SerializableDataclass__validate_field_type</code> for each
field</p>
<h3 id="inherited-members-1">Inherited Members</h3>
<ul>
<li><a
href="#LMCatConfig.validate_field_type"><code>validate_field_type</code></a></li>
<li><a href="#LMCatConfig.diff"><code>diff</code></a></li>
<li><a
href="#LMCatConfig.update_from_nested_dict"><code>update_from_nested_dict</code></a></li>
</ul>
<h3 id="IgnoreHandler"><code>class IgnoreHandler:</code></h3>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L141-L166">View
Source on GitHub</a></p>
<p>Handles all ignore pattern matching using igittigitt</p>
<h3 id="IgnoreHandler.__init__"><code>IgnoreHandler</code></h3>
<div class="sourceCode" id="cb30"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>(root_dir: pathlib.Path, config: lmcat.lmcat.LMCatConfig)</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L144-L157">View
Source on GitHub</a></p>
<ul>
<li><p><code>root_dir: pathlib.Path</code></p></li>
<li><p><code>config: lmcat.lmcat.LMCatConfig</code></p></li>
<li><p><code>parser: igittigitt.igittigitt.IgnoreParser</code></p></li>
</ul>
<h3 id="IgnoreHandler.is_ignored"><code>def is_ignored</code></h3>
<div class="sourceCode" id="cb31"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>(<span class="va">self</span>, path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">bool</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L159-L166">View
Source on GitHub</a></p>
<p>Check if a path should be ignored</p>
<h3 id="sorted_entries"><code>def sorted_entries</code></h3>
<div class="sourceCode" id="cb32"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>(directory: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">list</span>[pathlib.Path]</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L169-L177">View
Source on GitHub</a></p>
<p>Return directory contents sorted: directories first, then files</p>
<h3 id="walk_dir"><code>def walk_dir</code></h3>
<div class="sourceCode" id="cb33"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    directory: pathlib.Path,</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    ignore_handler: lmcat.lmcat.IgnoreHandler,</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    config: lmcat.lmcat.LMCatConfig,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    tokenizer: lmcat.file_stats.TokenizerWrapper,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    prefix: <span class="bu">str</span> <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">tuple</span>[<span class="bu">list</span>[lmcat.file_stats.TreeEntry], <span class="bu">list</span>[pathlib.Path]]</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L180-L222">View
Source on GitHub</a></p>
<p>Recursively walk a directory, building tree lines and collecting file
paths</p>
<h3
id="format_tree_with_stats"><code>def format_tree_with_stats</code></h3>
<div class="sourceCode" id="cb34"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    entries: <span class="bu">list</span>[lmcat.file_stats.TreeEntry],</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    show_tokens: <span class="bu">bool</span> <span class="op">=</span> <span class="va">False</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">list</span>[<span class="bu">str</span>]</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L225-L276">View
Source on GitHub</a></p>
<p>Format tree entries with aligned statistics</p>
<h3 id="parameters-1">Parameters:</h3>
<ul>
<li><code>entries : list[TreeEntry]</code> List of tree entries with
optional stats</li>
<li><code>show_tokens : bool</code> Whether to show token counts</li>
</ul>
<h3 id="returns-1">Returns:</h3>
<ul>
<li><code>list[str]</code> Formatted tree lines with aligned stats</li>
</ul>
<h3 id="walk_and_collect"><code>def walk_and_collect</code></h3>
<div class="sourceCode" id="cb35"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    root_dir: pathlib.Path,</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    config: lmcat.lmcat.LMCatConfig</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">tuple</span>[<span class="bu">list</span>[<span class="bu">str</span>], <span class="bu">list</span>[pathlib.Path]]</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L279-L310">View
Source on GitHub</a></p>
<p>Walk filesystem from root_dir and gather tree listing plus file
paths</p>
<h3 id="assemble_summary"><code>def assemble_summary</code></h3>
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>(root_dir: pathlib.Path, config: lmcat.lmcat.LMCatConfig) <span class="op">-&gt;</span> <span class="bu">str</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L313-L384">View
Source on GitHub</a></p>
<p>Assemble the summary output and return</p>
<h3 id="main"><code>def main</code></h3>
<div class="sourceCode" id="cb37"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>() <span class="op">-&gt;</span> <span class="va">None</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/lmcat.py#L387-L454">View
Source on GitHub</a></p>
<p>Main entry point for the script</p>
<blockquote>
<p>docs for <a
href="https://github.com/mivanit/lmcat"><code>lmcat</code></a>
v0.1.2</p>
</blockquote>
<h2 id="api-documentation-3">API Documentation</h2>
<ul>
<li><a
href="#OnMultipleProcessors"><code>OnMultipleProcessors</code></a></li>
<li><a href="#load_plugins"><code>load_plugins</code></a></li>
<li><a
href="#ProcessingPipeline"><code>ProcessingPipeline</code></a></li>
</ul>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processing_pipeline.py">View
Source on GitHub</a></p>
<h1
id="lmcat.processing_pipeline"><code>lmcat.processing_pipeline</code></h1>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processing_pipeline.py#L0-L182">View
Source on GitHub</a></p>
<ul>
<li><code>OnMultipleProcessors = typing.Literal['warn', 'except', 'do_first', 'do_last', 'skip']</code></li>
</ul>
<h3 id="load_plugins"><code>def load_plugins</code></h3>
<div class="sourceCode" id="cb38"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>(plugins_file: pathlib.Path) <span class="op">-&gt;</span> <span class="va">None</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processing_pipeline.py#L35-L56">View
Source on GitHub</a></p>
<p>Load plugins from a Python file.</p>
<h3 id="parameters-2">Parameters:</h3>
<ul>
<li><code>plugins_file : Path</code> Path to plugins file</li>
</ul>
<h3 id="ProcessingPipeline"><code>class ProcessingPipeline:</code></h3>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processing_pipeline.py#L59-L183">View
Source on GitHub</a></p>
<p>Manages the processing pipeline for files.</p>
<h3 id="attributes">Attributes:</h3>
<ul>
<li><code>glob_process : dict[str, ProcessorName]</code> Maps glob
patterns to processor names</li>
<li><code>decider_process : dict[DeciderName, ProcessorName]</code> Maps
decider names to processor names</li>
<li><code>_compiled_globs : dict[str, re.Pattern]</code> Cached compiled
glob patterns for performance</li>
</ul>
<h3
id="ProcessingPipeline.__init__"><code>ProcessingPipeline</code></h3>
<div class="sourceCode" id="cb39"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    plugins_file: pathlib.Path <span class="op">|</span> <span class="va">None</span>,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    decider_process_keys: <span class="bu">dict</span>[<span class="bu">str</span>, <span class="bu">str</span>],</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    glob_process_keys: <span class="bu">dict</span>[<span class="bu">str</span>, <span class="bu">str</span>],</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    on_multiple_processors: Literal[<span class="st">&#39;warn&#39;</span>, <span class="st">&#39;except&#39;</span>, <span class="st">&#39;do_first&#39;</span>, <span class="st">&#39;do_last&#39;</span>, <span class="st">&#39;skip&#39;</span>]</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processing_pipeline.py#L71-L109">View
Source on GitHub</a></p>
<ul>
<li><p><code>plugins_file: pathlib.Path | None</code></p></li>
<li><p><code>decider_process_keys: dict[str, str]</code></p></li>
<li><p><code>glob_process_keys: dict[str, str]</code></p></li>
<li><p><code>on_multiple_processors: Literal['warn', 'except', 'do_first', 'do_last', 'skip']</code></p></li>
</ul>
<h3
id="ProcessingPipeline.get_processors_for_path"><code>def get_processors_for_path</code></h3>
<div class="sourceCode" id="cb40"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>(<span class="va">self</span>, path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">list</span>[typing.Callable[[pathlib.Path], <span class="bu">str</span>]]</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processing_pipeline.py#L111-L134">View
Source on GitHub</a></p>
<p>Get all applicable processors for a given path.</p>
<h3 id="parameters-3">Parameters:</h3>
<ul>
<li><code>path : Path</code> Path to get processors for</li>
</ul>
<h3 id="returns-2">Returns:</h3>
<ul>
<li><code>list[ProcessorFunc]</code> List of applicable path
processors</li>
</ul>
<h3
id="ProcessingPipeline.process_file"><code>def process_file</code></h3>
<div class="sourceCode" id="cb41"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>(<span class="va">self</span>, path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">tuple</span>[<span class="bu">str</span>, <span class="bu">str</span> <span class="op">|</span> <span class="va">None</span>]</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processing_pipeline.py#L136-L183">View
Source on GitHub</a></p>
<p>Process a file through the pipeline.</p>
<h3 id="parameters-4">Parameters:</h3>
<ul>
<li><code>path : Path</code> Path to process the content of</li>
</ul>
<h3 id="returns-3">Returns:</h3>
<ul>
<li><code>tuple[str, str]</code> Processed content and the processor
name if no processor is found, will be
<code>(path.read_text(), None)</code></li>
</ul>
<blockquote>
<p>docs for <a
href="https://github.com/mivanit/lmcat"><code>lmcat</code></a>
v0.1.2</p>
</blockquote>
<h2 id="api-documentation-4">API Documentation</h2>
<ul>
<li><a href="#ProcessorName"><code>ProcessorName</code></a></li>
<li><a href="#DeciderName"><code>DeciderName</code></a></li>
<li><a href="#ProcessorFunc"><code>ProcessorFunc</code></a></li>
<li><a href="#DeciderFunc"><code>DeciderFunc</code></a></li>
<li><a href="#PROCESSORS"><code>PROCESSORS</code></a></li>
<li><a href="#DECIDERS"><code>DECIDERS</code></a></li>
<li><a
href="#register_processor"><code>register_processor</code></a></li>
<li><a href="#register_decider"><code>register_decider</code></a></li>
<li><a href="#is_over_10kb"><code>is_over_10kb</code></a></li>
<li><a href="#is_documentation"><code>is_documentation</code></a></li>
<li><a href="#remove_comments"><code>remove_comments</code></a></li>
<li><a
href="#compress_whitespace"><code>compress_whitespace</code></a></li>
<li><a href="#to_relative_path"><code>to_relative_path</code></a></li>
<li><a href="#ipynb_to_md"><code>ipynb_to_md</code></a></li>
<li><a href="#makefile_recipes"><code>makefile_recipes</code></a></li>
<li><a
href="#csv_preview_5_lines"><code>csv_preview_5_lines</code></a></li>
</ul>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py">View
Source on GitHub</a></p>
<h1 id="lmcat.processors"><code>lmcat.processors</code></h1>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L0-L180">View
Source on GitHub</a></p>
<ul>
<li><p><code>ProcessorName = &lt;class 'str'&gt;</code></p></li>
<li><p><code>DeciderName = &lt;class 'str'&gt;</code></p></li>
<li><p><code>ProcessorFunc = typing.Callable[[pathlib.Path], str]</code></p></li>
<li><p><code>DeciderFunc = typing.Callable[[pathlib.Path], bool]</code></p></li>
<li><p><code>PROCESSORS: dict[str, typing.Callable[[pathlib.Path], str]] = {'remove_comments': &lt;function remove_comments&gt;, 'compress_whitespace': &lt;function compress_whitespace&gt;, 'to_relative_path': &lt;function to_relative_path&gt;, 'ipynb_to_md': &lt;function ipynb_to_md&gt;, 'makefile_recipes': &lt;function makefile_recipes&gt;, 'csv_preview_5_lines': &lt;function csv_preview_5_lines&gt;}</code></p></li>
<li><p><code>DECIDERS: dict[str, typing.Callable[[pathlib.Path], bool]] = {'is_over_10kb': &lt;function is_over_10kb&gt;, 'is_documentation': &lt;function is_documentation&gt;}</code></p></li>
</ul>
<h3 id="register_processor"><code>def register_processor</code></h3>
<div class="sourceCode" id="cb42"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>(func: Callable[[pathlib.Path], <span class="bu">str</span>]) <span class="op">-&gt;</span> Callable[[pathlib.Path], <span class="bu">str</span>]</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L28-L31">View
Source on GitHub</a></p>
<p>Register a function as a path processor</p>
<h3 id="register_decider"><code>def register_decider</code></h3>
<div class="sourceCode" id="cb43"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>(func: Callable[[pathlib.Path], <span class="bu">bool</span>]) <span class="op">-&gt;</span> Callable[[pathlib.Path], <span class="bu">bool</span>]</span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L34-L37">View
Source on GitHub</a></p>
<p>Register a function as a decider</p>
<h3 id="is_over_10kb"><code>def is_over_10kb</code></h3>
<div class="sourceCode" id="cb44"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>(path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">bool</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L42-L45">View
Source on GitHub</a></p>
<p>Check if file is over 10KB.</p>
<h3 id="is_documentation"><code>def is_documentation</code></h3>
<div class="sourceCode" id="cb45"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>(path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">bool</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L48-L51">View
Source on GitHub</a></p>
<p>Check if file is documentation.</p>
<h3 id="remove_comments"><code>def remove_comments</code></h3>
<div class="sourceCode" id="cb46"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>(path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">str</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L58-L63">View
Source on GitHub</a></p>
<p>Remove single-line comments from code.</p>
<h3 id="compress_whitespace"><code>def compress_whitespace</code></h3>
<div class="sourceCode" id="cb47"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>(path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">str</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L66-L69">View
Source on GitHub</a></p>
<p>Compress multiple whitespace characters into single spaces.</p>
<h3 id="to_relative_path"><code>def to_relative_path</code></h3>
<div class="sourceCode" id="cb48"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>(path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">str</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L72-L75">View
Source on GitHub</a></p>
<p>return the path to the file as a string</p>
<h3 id="ipynb_to_md"><code>def ipynb_to_md</code></h3>
<div class="sourceCode" id="cb49"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>(path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">str</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L78-L94">View
Source on GitHub</a></p>
<p>Convert an IPython notebook to markdown.</p>
<h3 id="makefile_recipes"><code>def makefile_recipes</code></h3>
<div class="sourceCode" id="cb50"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>(path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">str</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L97-L154">View
Source on GitHub</a></p>
<p>Process a Makefile to show only target descriptions and basic
structure.</p>
<p>Preserves: - Comments above .PHONY targets up to first empty line -
The .PHONY line and target line - First line after target if it starts
with <span class="citation" data-cites="echo">@echo</span></p>
<h3 id="parameters-5">Parameters:</h3>
<ul>
<li><code>path : Path</code> Path to the Makefile to process</li>
</ul>
<h3 id="returns-4">Returns:</h3>
<ul>
<li><code>str</code> Processed Makefile content</li>
</ul>
<h3 id="csv_preview_5_lines"><code>def csv_preview_5_lines</code></h3>
<div class="sourceCode" id="cb51"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>(path: pathlib.Path) <span class="op">-&gt;</span> <span class="bu">str</span></span></code></pre></div>
<p><a
href="https://github.com/mivanit/lmcat/blob/0.1.2/processors.py#L157-L181">View
Source on GitHub</a></p>
<p>Preview first few lines of a CSV file (up to 5)</p>
<p>Reads only first 1024 bytes and splits into lines. Does not attempt
to parse CSV structure.</p>
<h3 id="parameters-6">Parameters:</h3>
<ul>
<li><code>path : Path</code> Path to CSV file</li>
</ul>
<h3 id="returns-5">Returns:</h3>
<ul>
<li><code>str</code> First few lines of the file</li>
</ul>
