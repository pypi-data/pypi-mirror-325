var bn=Object.defineProperty;var xn=(r,e,s)=>e in r?bn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var ce=(r,e,s)=>xn(r,typeof e!="symbol"?e+"":e,s);import{L as Sn,M as On,N as Rn,O as An,P as Tn,s as nt,Q as Je,S as Ye,T as We,U as Zt,V as jr,W as or,X as _t,Y as Gr,Z as Nt,_ as Dn,$ as In,a0 as Jt,a1 as Ln,a2 as En,a3 as Mn,a4 as Nn,a5 as Vn,a6 as Fn,a7 as Hn}from"../chunks/backend.CuvxjHSt.mjs";import{e as Bn,f as zn,b as jn}from"../chunks/utils.Ob_-Fxqc.mjs";import{s as m,b4 as hs,g as a,F as ys,E as k,_ as Ot,o as Gn,b5 as Wn,p as pe,f as re,b as me,Z as qn,X as cr,Y as Qn,c as Q,N as $,r as L,t as R,n as ee,l as ue,a as Fe,m as V,M as Be,a$ as Pe,aD as de,a1 as Un}from"../chunks/runtime.NF8NW0fQ.mjs";import{w as Ae,g as Re,d as Yn,r as Cs,a as Kn}from"../chunks/index.BmKPAsrv.mjs";import{c as Lt}from"../chunks/cloneDeep.Btvd2aK6.mjs";import{b as dr,i as Wr,a as Xn,S as Zn}from"../chunks/Select.CR6aP8QM.mjs";import{c as je,a as d,b as X,t as Z}from"../chunks/disclose-version.CZXCSga2.mjs";import{i as ye}from"../chunks/legacy.Cvgq_wkp.mjs";import{b as xt}from"../chunks/this.COGKo2H1.mjs";import{p as G,i as be,s as ws}from"../chunks/props.C4_rjmFK.mjs";import{s as Jn,c as _s,o as fr,a as ea}from"../chunks/index-client.CMnCpbS1.mjs";import{dU as ks,u as He,dV as ir,as as rt,dW as ta,dX as ra,t as pt,dY as gr,dZ as sa,d_ as Ps,d$ as na,e0 as qr,e1 as aa,e2 as Qr,e3 as oa,e4 as ia,e5 as la,e6 as ua,e7 as ca,e8 as da,e9 as fa,ea as ga,eb as va,ec as $a,ed as pa,ee as ma,ef as ha,eg as Ur,eh as ya,ei as Ca,ej as wa,ek as _a,el as Yr,em as ka,en as Pa,eo as ba,ep as xa,eq as Sa,er as Oa,es as Ra,et as Aa,eu as Ta,ev as Da,ew as bs,ex as Ia,ey as La,ez as Ea,eA as Ma,eB as Na,eC as Va,eD as Fa,eE as Ha,eF as Ba,eG as za,eH as ja,eI as Ga,eJ as Wa,eK as qa,eL as Qa,eM as Ua,eN as Ya,eO as Ka,eP as Xa,eQ as Za,eR as Ja,eS as eo,eT as to,eU as ro,eV as so,eW as no,eX as ao,eY as oo,eZ as io,e_ as lo,e$ as uo,f0 as co,f1 as fo,f2 as go,f3 as vo,f4 as $o,f5 as po,f6 as Kr,f7 as mo,f8 as ho,f9 as yo,fa as Co,fb as wo,fc as _o,fd as ko,fe as Xr,ff as Po,fg as bo,fh as xo,fi as So,fj as xs,fk as Ss,fl as Os,fm as Oo,fn as Ro,fo as Ao,fp as To,fq as Do,fr as Io,fs as Lo,ft as Eo,fu as Mo,fv as Et,fw as Zr,fx as Jr,fy as Rs,fz as No,fA as As,fB as Vo,fC as Fo,fD as Ho,fE as Bo,b3 as ut,fF as es,fG as zo,fH as jo,fI as Go,fJ as Wo,fK as qo,fL as Qo,fM as Uo,fN as Yo,fO as Ko,fP as Xo,fQ as Zo,fR as ts,ci as Jo,cg as ei,cw as Ts,fS as ti,cN as ri,cj as si,fT as er,fU as ni,fV as ai,fW as oi,fX as ii,fY as Ds,fZ as Is,f_ as tr,f$ as li,g0 as ui,g1 as ci,g2 as Ls,g3 as rs,g4 as di,g5 as fi,g6 as gi,g7 as vi,g8 as $i,g9 as pi,ga as mi,dq as hi,gb as yi,q as kt,gc as Ci,gd as wi,ge as _i,gf as ki,gg as Es,gh as Pi,gi as bi,gj as xi,gk as Si,gl as Oi,gm as Ri,gn as Ai,go as Ti,T as Di,gp as Ii,gq as Li,gr as Ei,gs as Mi,gt as Ni,gu as Vi,gv as Fi,gw as Hi,gx as Bi,gy as Ms,gz as ss,gA as zi,gB as ji,gC as Gi,gD as Wi,gE as qi,gF as Qi,gG as Ui,gH as Yi,gI as Ki,gJ as Xi,gK as Zi,gL as ns,gM as Ji,gN as el,gO as tl,gP as rl,gQ as sl,gR as nl,gS as al,gT as as,gU as ol,gV as il,gW as ll,gX as ul,gY as cl,gZ as dl,g_ as fl,g$ as gl,h0 as vl,h1 as $l,h2 as pl,h3 as ml,h4 as hl}from"../chunks/runtime-require.D-4W5vzX.mjs";import{c as Te,C as yl}from"../chunks/Container.6BinmbdA.mjs";import{I as Cl,b as Ie}from"../chunks/IconButton.fMA_6rdY.mjs";import{s as xe,b as fe,r as mt,p as at,a as H,v as Ns,e as we,q as te,t as wl}from"../chunks/store.CrzbHEEA.mjs";import{R as Se}from"../chunks/Row.jCQC9Xwa.mjs";import{e as Rt,i as Ft,s as _l,p as kl}from"../chunks/theme.Bkixu2VD.mjs";import{c as lr}from"../chunks/svelte-component.DD8aMSCp.mjs";import{T as Qe}from"../chunks/TitledContainer.Dqaul_Fb.mjs";import{C as ct,R as At,H as ve,c as Ne,a as ne,b as Ze,S as qe,E as tt,M as Pl}from"../chunks/EnumSelectorRow.2-rwINLW.mjs";import{c as Tt,M as Vs,S as bl,l as xl,u as Sl,v as Ol,w as Rl,d as Al,W as Tl,P as Dl,D as Pt,t as Il}from"../chunks/Badge.DMAIrrU1.mjs";import{a as Dt,b as rr}from"../chunks/input.Cvf2xTFQ.mjs";import{I as Vt,ab as Ll,J as El,f as os,h as Fs,ac as Ml,S as Nl,g as Vl,p as Fl}from"../chunks/Shortcut.CnncW8ov.mjs";import{C as ot}from"../chunks/Col.HrFyK26U.mjs";import{m as Hs}from"../chunks/context-keys.Dbye-yJ_.mjs";import{L as Hl,S as Bl}from"../chunks/LabelButton.BBgOsbt3.mjs";import{W as ze}from"../chunks/Warning.F7dcfTrI.mjs";import{r as Mt}from"../chunks/progress.CDY_0XMd.mjs";import{ac as vr,y as is,z as ls,A as us,C as zl,B as jl,D as Gl,E as Wl,H as cs,F as ql,G as ds,b as Ql,J as Ul,I as Yl,L as Kl,K as Xl,N as Zl,M as Jl}from"../chunks/HoverColumns.CILdt_V6.mjs";import{t as sr,b as Ke,c as eu,u as tu,e as ru}from"../chunks/time.Btfahugi.mjs";import{t as su}from"../chunks/time.UaAwLPcc.mjs";import{I as nu,i as au,c as ou,C as iu,T as lu}from"../chunks/TableData.BvvWV8kX.mjs";import{S as fs,a as uu}from"../chunks/isObject.DB8w6JNV.mjs";function cu(r){m(r,r.v+1)}function du(r){let e=0,s=Gn(0),t;return()=>{hs()&&(a(s),ys(()=>(e===0&&(t=k(()=>r(()=>cu(s)))),e+=1,()=>{Ot().then(()=>{e-=1,e===0&&(t==null||t(),t=void 0)})})))}}function fu(r,e){let s=r();const t=Ae(s,n=>{let o=s!==r();const f=Wn(()=>{ys(()=>{const u=r();o&&n(u)})});return o=!0,f});return e?{set:e,update:n=>e(n(r())),subscribe:t.subscribe}:{subscribe:t.subscribe}}function gu(r){let e;const s=du(n=>{let o=!1;const f=r.subscribe(u=>{e=u,o&&n()});return o=!0,f});function t(){return hs()?(s(),e):Re(r)}return"set"in r?{get current(){return t()},set current(n){r.set(n)}}:{get current(){return t()}}}const vu=Object.freeze(Object.defineProperty({__proto__:null,derived:Yn,fromStore:gu,get:Re,readable:Cs,readonly:Kn,toStore:fu,writable:Ae},Symbol.toStringTag,{value:"Module"}));function $u(r,e,...s){return pu(r,au,e,s)}function pu(r,e,s,t){return function n(o,f){if(f>=t.length)return s(o);const u=new nu,l=t[f++];let g=-1;for(const p of o){const h=l(p,++g,o),v=u.get(h);v?v.push(p):u.set(h,[p])}for(const[p,h]of u)u.set(p,n(h,f));return e(u)}(r,0)}const mu=ou("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function hu(r,e){for(var s=-1,t=r==null?0:r.length,n=Array(t);++s<t;)n[s]=e(r[s],s,r);return n}var gs=fs?fs.prototype:void 0,vs=gs?gs.toString:void 0;function Bs(r){if(typeof r=="string")return r;if(Tt(r))return hu(r,Bs)+"";if(vr(r))return vs?vs.call(r):"";var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function yu(r){return r}var Cu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wu=/^\w*$/;function $r(r,e){if(Tt(r))return!1;var s=typeof r;return s=="number"||s=="symbol"||s=="boolean"||r==null||vr(r)?!0:wu.test(r)||!Cu.test(r)||e!=null&&r in Object(e)}var _u="Expected a function";function pr(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(_u);var s=function(){var t=arguments,n=e?e.apply(this,t):t[0],o=s.cache;if(o.has(n))return o.get(n);var f=r.apply(this,t);return s.cache=o.set(n,f)||o,f};return s.cache=new(pr.Cache||Vs),s}pr.Cache=Vs;var ku=500;function Pu(r){var e=pr(r,function(t){return s.size===ku&&s.clear(),t}),s=e.cache;return e}var bu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xu=/\\(\\)?/g,Su=Pu(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(bu,function(s,t,n,o){e.push(n?o.replace(xu,"$1"):t||s)}),e});function Ou(r){return r==null?"":Bs(r)}function zs(r,e){return Tt(r)?r:$r(r,e)?[r]:Su(Ou(r))}function Ht(r){if(typeof r=="string"||vr(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e}function js(r,e){e=zs(e,r);for(var s=0,t=e.length;r!=null&&s<t;)r=r[Ht(e[s++])];return s&&s==t?r:void 0}function Ru(r,e,s){var t=r==null?void 0:js(r,e);return t===void 0?s:t}var Au=1,Tu=2;function Du(r,e,s,t){var n=s.length,o=n;if(r==null)return!o;for(r=Object(r);n--;){var f=s[n];if(f[2]?f[1]!==r[f[0]]:!(f[0]in r))return!1}for(;++n<o;){f=s[n];var u=f[0],l=r[u],g=f[1];if(f[2]){if(l===void 0&&!(u in r))return!1}else{var p=new bl,h;if(!(h===void 0?dr(g,l,Au|Tu,t,p):h))return!1}}return!0}function Gs(r){return r===r&&!uu(r)}function Iu(r){for(var e=xl(r),s=e.length;s--;){var t=e[s],n=r[t];e[s]=[t,n,Gs(n)]}return e}function Ws(r,e){return function(s){return s==null?!1:s[r]===e&&(e!==void 0||r in Object(s))}}function Lu(r){var e=Iu(r);return e.length==1&&e[0][2]?Ws(e[0][0],e[0][1]):function(s){return s===r||Du(s,r,e)}}function Eu(r,e){return r!=null&&e in Object(r)}function Mu(r,e,s){e=zs(e,r);for(var t=-1,n=e.length,o=!1;++t<n;){var f=Ht(e[t]);if(!(o=r!=null&&s(r,f)))break;r=r[f]}return o||++t!=n?o:(n=r==null?0:r.length,!!n&&Sl(n)&&Ol(f,n)&&(Tt(r)||Rl(r)))}function Nu(r,e){return r!=null&&Mu(r,e,Eu)}var Vu=1,Fu=2;function Hu(r,e){return $r(r)&&Gs(e)?Ws(Ht(r),e):function(s){var t=Ru(s,r);return t===void 0&&t===e?Nu(s,r):dr(e,t,Vu|Fu)}}function Bu(r){return function(e){return e==null?void 0:e[r]}}function zu(r){return function(e){return js(e,r)}}function ju(r){return $r(r)?Bu(Ht(r)):zu(r)}function Gu(r){return typeof r=="function"?r:r==null?yu:typeof r=="object"?Tt(r)?Hu(r[0],r[1]):Lu(r):ju(r)}function Wu(r,e,s){s=typeof s=="function"?s:void 0;var t=s?s(r,e):void 0;return t===void 0?dr(r,e,void 0,s):!!t}function qu(r,e){for(var s,t=-1,n=r.length;++t<n;){var o=e(r[t]);o!==void 0&&(s=s===void 0?o:s+o)}return s}function Qu(r,e){return r&&r.length?qu(r,Gu(e)):0}function ur(){let r;return[new Promise(s=>r=s),r]}class Uu{constructor(e,s){ce(this,"currentConfig");ce(this,"currentAuxData");ce(this,"configList");ce(this,"cardStateCustomizer");ce(this,"currentDeck");ce(this,"deckLimits");ce(this,"defaults");ce(this,"addonComponents");ce(this,"newCardsIgnoreReviewLimit");ce(this,"applyAllParentLimits");ce(this,"fsrs");ce(this,"fsrsReschedule",Ae(!1));ce(this,"daysSinceLastOptimization");ce(this,"currentPresetName");ce(this,"originalConfigsPromise");ce(this,"originalConfigsResolve");ce(this,"targetDeckId");ce(this,"configs");ce(this,"selectedIdx");ce(this,"configListSetter");ce(this,"modifiedConfigs",new Set);ce(this,"removedConfigs",[]);ce(this,"schemaModified");ce(this,"_presetAssignmentsChanged",!1);ce(this,"loadedPresets",new Set);var t,n;this.targetDeckId=e,this.currentDeck=s.currentDeck,this.defaults=s.defaults.config,this.configs=s.allConfig.map(o=>({config:o.config,useCount:o.useCount})),this.selectedIdx=Math.max(0,this.configs.findIndex(o=>o.config.id===this.currentDeck.configId)),this.sortConfigs(),this.cardStateCustomizer=Ae(s.cardStateCustomizer),this.deckLimits=Ae((n=(t=s.currentDeck)==null?void 0:t.limits)!=null?n:Ku()),this.newCardsIgnoreReviewLimit=Ae(s.newCardsIgnoreReviewLimit),this.applyAllParentLimits=Ae(s.applyAllParentLimits),this.fsrs=Ae(s.fsrs),this.daysSinceLastOptimization=Ae(s.daysSinceLastFsrsOptimize),this.configs[this.selectedIdx].useCount-=1,this.currentConfig=Ae(this.getCurrentConfig()),this.currentAuxData=Ae(this.getCurrentAuxData()),this.currentPresetName=Ae(this.configs[this.selectedIdx].config.name),this.configList=Cs(this.getConfigList(),o=>{this.configListSetter=o}),this.schemaModified=s.schemaModified,this.addonComponents=Ae([]),Re(this.configList),this.currentConfig.subscribe(o=>this.onCurrentConfigChanged(o)),this.currentAuxData.subscribe(o=>this.onCurrentAuxDataChanged(o)),this.loadedPresets.add(this.configs[this.selectedIdx].config.id),[this.originalConfigsPromise,this.originalConfigsResolve]=ur()}async markCurrentPresetAsLoaded(){const e=this.configs[this.selectedIdx].config.id,s=this.loadedPresets;if(e&&!s.has(e)){s.add(e);const t=await this.originalConfigsPromise,n=t.configs.findIndex(o=>o.id===e);n!==-1&&(t.configs[n]=Lt(this.configs[this.selectedIdx].config))}}setCurrentIndex(e){this.selectedIdx=e,this._presetAssignmentsChanged=!0,this.updateCurrentConfig(),this.updateConfigList(),Ot().then(()=>this.markCurrentPresetAsLoaded())}getCurrentName(){return this.configs[this.selectedIdx].config.name}getCurrentNameForSearch(){return this.getCurrentName().replace(/([\\"])/g,"\\$1")}setCurrentName(e){if(this.configs[this.selectedIdx].config.name===e)return;const s=this.ensureNewNameUnique(e),t=this.configs[this.selectedIdx].config;t.name=s,t.id&&this.modifiedConfigs.add(t.id),this.sortConfigs(),this.updateConfigList()}addConfig(e){this.addConfigFrom(e,this.defaults)}cloneConfig(e){this.addConfigFrom(e,this.configs[this.selectedIdx].config.config)}addConfigFrom(e,s){const t=this.ensureNewNameUnique(e),o={config:new Sn({id:0n,name:t,config:new On(Lt(s))}),useCount:0};this.configs.push(o),this.selectedIdx=this.configs.length-1,this._presetAssignmentsChanged=!0,this.sortConfigs(),this.updateCurrentConfig(),this.updateConfigList()}removalWilLForceFullSync(){return!this.schemaModified&&this.configs[this.selectedIdx].config.id!==0n}defaultConfigSelected(){return this.configs[this.selectedIdx].config.id===1n}removeCurrentConfig(){const e=this.configs[this.selectedIdx].config.id;if(e===1n)throw Error("can't remove default config");e!==0n&&(this.removedConfigs.push(e),this.schemaModified=!0),this.configs.splice(this.selectedIdx,1);const s=Math.max(0,this.selectedIdx-1);this.setCurrentIndex(s)}dataForSaving(e){const t=[...this.configs.map(n=>n.config).filter((n,o)=>o!==this.selectedIdx&&(n.id===0n||this.modifiedConfigs.has(n.id))),this.configs[this.selectedIdx].config];return{targetDeckId:this.targetDeckId,removedConfigIds:this.removedConfigs,configs:t,mode:e,cardStateCustomizer:Re(this.cardStateCustomizer),limits:Re(this.deckLimits),newCardsIgnoreReviewLimit:Re(this.newCardsIgnoreReviewLimit),applyAllParentLimits:Re(this.applyAllParentLimits),fsrs:Re(this.fsrs),fsrsReschedule:Re(this.fsrsReschedule)}}presetAssignmentsChanged(){return this._presetAssignmentsChanged}async save(e){await Rn(this.dataForSaving(e))}onCurrentConfigChanged(e){const s=this.configs[this.selectedIdx].config;Wr(e,s.config)||(s.config=e,s.id&&this.modifiedConfigs.add(s.id))}onCurrentAuxDataChanged(e){const s=this.getCurrentAuxData();Wr(s,e)||this.currentConfig.update(t=>{const n=new TextEncoder().encode(JSON.stringify(e));return t.other=n,t})}ensureNewNameUnique(e){return this.configs.findIndex(t=>t.config.name===e)!==-1?e+(new Date().getTime()/1e3).toFixed(0):e}updateCurrentConfig(){this.currentConfig.set(this.getCurrentConfig()),this.currentAuxData.set(this.getCurrentAuxData())}updateConfigList(){var e;(e=this.configListSetter)==null||e.call(this,this.getConfigList()),this.currentPresetName.set(this.configs[this.selectedIdx].config.name)}getCurrentConfig(){return Lt(this.configs[this.selectedIdx].config.config)}getCurrentAuxData(){const e=this.configs[this.selectedIdx].config.config;return Yu(e.other)}sortConfigs(){const e=this.configs[this.selectedIdx].config.name;this.configs.sort((s,t)=>Bn(s.config.name,t.config.name,{sensitivity:"base"})),this.selectedIdx=this.configs.findIndex(s=>s.config.name==e)}getConfigList(){return this.configs.map((s,t)=>{const n=s.useCount+(t===this.selectedIdx?1:0);return{name:s.config.name,current:t===this.selectedIdx,idx:t,useCount:n}})}getAllConfigs(){return Lt({configs:this.configs.map(e=>e.config),cardStateCustomizer:Re(this.cardStateCustomizer),limits:Re(this.deckLimits),newCardsIgnoreReviewLimit:Re(this.newCardsIgnoreReviewLimit),applyAllParentLimits:Re(this.applyAllParentLimits),fsrs:Re(this.fsrs),fsrsReschedule:Re(this.fsrsReschedule),currentConfig:Re(this.currentConfig)})}async isModified(){const e=await this.originalConfigsPromise,s=this.getAllConfigs();return!Wu(e,s,(t,n)=>{if(typeof t=="number"&&typeof n=="number")return Math.fround(t)===Math.fround(n)})}resolveOriginalConfigs(){this.originalConfigsResolve(this.getAllConfigs())}}function Yu(r){if(!r.length)return{};let e;try{e=JSON.parse(new TextDecoder().decode(r))}catch{return console.log("invalid json in deck config"),{}}return e.constructor!==Object?(console.log("invalid object in deck config"),{}):e}function Ku(){return new An({})}class st{constructor(e,s,t,n,o){ce(this,"title");ce(this,"value");ce(this,"setter");ce(this,"disabledValue");ce(this,"startValue");ce(this,"initialValue");this.title=e,this.value=this.initialValue=s,this.setter=t,this.disabledValue=n,this.startValue=o}reset(){this.setter(this.initialValue)}disable(){this.setter(this.disabledValue)}enable(e){var s,t;this.value=(t=(s=this.value)!=null?s:this.startValue)!=null?t:e,this.setter(this.value)}setValue(e){this.value=e,this.setter(e)}}async function mr(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),await Ot()}function bt(r){return r.fsrsParams5?r.fsrsParams5:r.fsrsParams4}const Xu=async({params:r})=>{const e=Number(r.deckId),s=BigInt(e),t=await Tn({did:s});return{state:new Uu(BigInt(s),t)}},Ef=Object.freeze(Object.defineProperty({__proto__:null,load:Xu},Symbol.toStringTag,{value:"Module"}));ks("svelte",Jn);ks("svelte/store",vu);function Zu(r,e){pe(e,!1);const s=xe(),t=()=>fe(f,"$components",s),n=()=>fe(u,"$auxData",s);let o=G(e,"state",8);const f=o().addonComponents,u=o().currentAuxData;ye();var l=je(),g=re(l);{var p=h=>{Qe(h,{title:"Add-ons",children:(v,I)=>{var C=je(),D=re(C);Rt(D,1,t,Ft,(_,x)=>{var S=je(),E=re(S);lr(E,()=>a(x).component,(M,U)=>{U(M,ws(()=>a(x),{get data(){return mt(),n()},set data(z){at(u,z)},$$legacy:!0}))}),d(_,S)}),d(v,C)},$$slots:{default:!0}})};be(g,h=>{t().length&&h(p)})}d(r,l),me()}function nr(r,e){let s,t;if(e instanceof Element){if(s=e,t=Array.prototype.indexOf.call(r,s),t<0)return null}else if(typeof e=="string"){const n=r.namedItem(e);if(!n||(s=n,t=Array.prototype.indexOf.call(r,s),t<0))return null}else if(e<0){t=r.length+e;const n=r.item(t);if(!n)return null;s=n}else{t=e;const n=r.item(t);if(!n)return null;s=n}return[s,t]}class Ju{constructor(e){ce(this,"parent");this.parent=e}insertElement(e,s){const t=nr(this.parent.children,s);if(!t)return-1;const[n,o]=t;return this.parent.insertBefore(e,n[0]),o}appendElement(e,s){var u;const t=nr(this.parent.children,s);if(!t)return-1;const[n,o]=t,f=(u=n.nextElementSibling)!=null?u:null;return this.parent.insertBefore(e,f),o+1}updateElement(e,s){const t=nr(this.parent.children,s);return t?(e(...t),!0):!1}}function ec(r){return new Ju(r)}function tc(r){return r.nodeType===Node.ELEMENT_NODE}function rc(r){function e(t){qn(r,t)}return[{get(){return cr(r)},available(){return Qn(r)}},e]}function sc(r,e,s,t){const n=Ae([]);n.subscribe(e);function o(C,D){n.update(_=>(_.splice(C,0,D),_))}const[f,u]=ur(),l=f.then(ec),g=Ae([]);async function p(C,D){const[_,x]=ur(),S=await l,E=r();function M(A){return!C.id||A.id===C.id}async function U(A,j){for(const P of A)for(const w of P.addedNodes){if(!tc(w)||!M(w))continue;const O=D(w,S);return O>=0&&o(O,E),x(void 0),j.disconnect()}}new MutationObserver(U).observe(S.parent,{childList:!0});const W={component:C,hostProps:E};return g.update(A=>(A.push(W),A)),await _,{destroy(){g.update(A=>(Xn(A,W),A))}}}async function h(C,D){return(await l).updateElement((x,S)=>{n.update(E=>(E[S]=C(E[S]),E))},D)}const v=t({addComponent:p,updateProps:h});function I(){const C=r();return n.update(D=>(D.push(C),D)),C}return s({getProps:I}),{dynamicSlotted:g,resolveSlotContainer:u,slotsInterface:v}}function nc(){return{detach:Ae(!1)}}function ac({addComponent:r,updateProps:e}){function s(u,l=0){return r(u,(g,p)=>p.insertElement(g,l))}function t(u,l=-1){return r(u,(g,p)=>p.appendElement(g,l))}function n(u){return e(l=>(l.detach.set(!1),l),u)}function o(u){return e(l=>(l.detach.set(!0),l),u)}function f(u){return e(l=>(l.detach.update(g=>!g),l),u)}return{insert:s,append:t,show:n,hide:o,toggle:f}}const oc=Symbol("dynamicSlotting"),[$s,ic]=rc(oc);var lc=X('<div class="dynamically-slottable svelte-8in7my"><!> <!></div>');function Xe(r,e){pe(e,!1);const s=xe(),t=()=>fe(v,"$dynamicSlotted",s);function n(x){return x}let o=G(e,"slotHost",8),f=G(e,"createProps",8,nc),u=G(e,"updatePropsList",8,n),l=G(e,"setSlotHostContext",8,ic),g=G(e,"createInterface",8,ac);const{slotsInterface:p,resolveSlotContainer:h,dynamicSlotted:v}=sc(f(),u(),l(),g());let I=G(e,"api",8);Object.assign(I(),p),ye();var C=lc(),D=Q(C);nt(D,e,"default",{});var _=$(D,2);Rt(_,1,t,({component:x,hostProps:S})=>x.id,(x,S)=>{let E=()=>a(S).component,M=()=>a(S).hostProps;var U=je(),z=re(U);lr(z,o,(W,A)=>{A(W,{get id(){return E().id},get hostProps(){return M()},children:(j,P)=>{var w=je(),i=re(w);lr(i,()=>E().component,(O,b)=>{b(O,ws(()=>E().props))}),d(j,w)},$$slots:{default:!0}})}),d(x,U)}),L(C),Al(C,x=>h==null?void 0:h(x)),d(r,C),me()}var uc=X('<div class="item svelte-u5rx4p"><!></div>');function K(r,e){var p;pe(e,!1);const s=xe(),t=()=>fe(f,"$detach",s);let n=G(e,"id",8,void 0),o=G(e,"hostProps",8,void 0);$s.available()||console.log("Item: should always have a slotHostContext");const{detach:f}=(p=o())!=null?p:$s.get().getProps();ye();var u=uc(),l=Q(u);{var g=h=>{var v=je(),I=re(v);nt(I,e,"default",{}),d(h,v)};be(l,h=>{t()||h(g)})}L(u),R(()=>He(u,"id",n())),d(r,u),me()}var cc=X(' <div class="inline-icon svelte-cpy9wq"><!></div>',1);function St(r,e){pe(e,!1);let s=G(e,"title",8);ye(),ee();var t=cc(),n=re(t),o=$(n);R(()=>He(o,"title",ir()));var f=Q(o);Vt(f,{icon:Ll}),L(o),R(()=>{var u;return H(n,`${(u=s())!=null?u:""} `)}),d(r,t),me()}var dc=X('<details><summary><!></summary> <div class="text svelte-pjduvg"><textarea class="card-state-customizer form-control svelte-pjduvg" spellcheck="false" autocapitalize="none"></textarea></div></details>'),fc=X('<div class="m-2"><!></div>');function gc(r,e){let s=G(e,"value",12),t=G(e,"title",8);var n=fc(),o=Q(n);ct(o,{children:(f,u)=>{var l=dc(),g=Q(l),p=Q(g);St(p,{get title(){return t()}}),L(g);var h=$(g,2),v=Q(h);Ns(v),L(h),L(l),Dt(v,s),d(f,l)},$$slots:{default:!0,revert:(f,u)=>{At(f,{slot:"revert",defaultValue:"",get value(){return s()},set value(l){s(l)},$$legacy:!0})}}}),L(n),d(r,n)}var vc=X('<span class="invisible svelte-xwrhci"> </span>'),$c=X('<span class="suffix svelte-xwrhci"></span>'),pc=X('<div class="spinner decrement svelte-xwrhci" tabindex="-1" role="button"><!></div> <div class="spinner increment svelte-xwrhci" tabindex="-1" role="button"><!></div>',1),mc=X('<div class="spin-box svelte-xwrhci"><input type="number" pattern="[0-9]*" inputmode="numeric" class="svelte-xwrhci"> <!> <!></div>');function qs(r,e){pe(e,!1);const s=V();let t=G(e,"value",12),n=G(e,"step",8,1),o=G(e,"min",8,1),f=G(e,"max",8,9999),u=G(e,"percentage",8,!1),l=V(),g=V(!1),p=V();function h(y){Number.isNaN(y)||t(Math.min(f(),Math.max(o(),y))),Ot().then(()=>{Pe(l,a(l).value=a(I)),E(a(I))})}function v(y){if(Math.floor(y)===y)return 0;const N=y.toString().split(".")[1].length||0,F=u()?N-2:N;return Math.max(0,F)}let I=V();function C(){h(parseFloat(this.value)/a(p))}function D(y){a(g)&&(h(t()+(y.deltaY<0?n():-n())),y.preventDefault())}function _(y){h(t()+y),a(z)&&setTimeout(()=>_(y),W)}const x=[1500,1250,1e3,750,500,250];async function S(y){m(z,!0),W=128,m(A,setTimeout(y,250));for(const N of x)W=await new Promise(F=>setTimeout(()=>F(a(z)?W/2:128),N))}function E(y){m(U,sa({pct:y}).replaceAll("%","-%-").split("-"))}function M(){E(a(l).value)}let U=V(),z=V(!1),W,A=V();ue(()=>Be(u()),()=>{m(p,u()?100:1)}),ue(()=>(Be(t()),a(p),Be(n())),()=>{m(I,(t()*a(p)).toFixed(v(n())))}),ue(()=>a(I),()=>{E(a(I))}),ue(()=>(Be(u()),a(U)),()=>{m(s,u()&&!a(U)[0]?"2.2ch":void 0)}),Fe(),ye();var j=mc(),P=Q(j);rt(P),xt(P,y=>m(l,y),()=>a(l));var w=$(P,2);{var i=y=>{var N=$c();Rt(N,5,()=>a(U),Ft,(F,q)=>{var T=je(),B=re(T);{var J=ae=>{var _e=Z("%");d(ae,_e)},le=ae=>{var _e=vc(),ge=Q(_e,!0);L(_e),R(()=>H(ge,a(q))),d(ae,_e)};be(B,ae=>{a(q)=="%"?ae(J):ae(le,!1)})}d(F,T)}),L(N),d(y,N)};be(w,y=>{u()&&y(i)})}var O=$(w,2);{var b=y=>{var N=pc(),F=re(N);R(()=>He(F,"title",ta()));var q=Q(F);os(q,{children:(J,le)=>{Vt(J,{icon:Fs})},$$slots:{default:!0}}),L(F);var T=$(F,2);R(()=>He(T,"title",ra()));var B=Q(T);os(B,{children:(J,le)=>{Vt(J,{icon:Ml})},$$slots:{default:!0}}),L(T),R(()=>{pt(F,"active",t()>o()),pt(T,"active",t()<f())}),we("click",F,()=>{a(l).focus(),t()>o()&&_(-n())}),we("mousedown",F,()=>S(()=>{t()>o()&&_(-n())})),we("mouseup",F,()=>{clearTimeout(a(A)),m(z,!1)}),we("click",T,()=>{a(l).focus(),t()<f()&&_(n())}),we("mousedown",T,()=>S(()=>{t()<f()&&_(n())})),we("mouseup",T,()=>{clearTimeout(a(A)),m(z,!1)}),d(y,N)};be(O,y=>{El()&&y(b)})}L(j),R(()=>{He(P,"min",o()*a(p)),He(P,"max",f()*a(p)),He(P,"step",n()*a(p)),gr(P,a(I)),_l(P,"padding-left",a(s))}),we("blur",P,C),we("input",P,M),we("focusin",P,()=>m(g,!0)),we("focusout",P,()=>m(g,!1)),we("wheel",j,D),d(r,j),me()}var hc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),yc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function et(r,e){let s=G(e,"value",12),t=G(e,"defaultValue",8),n=G(e,"min",8,0),o=G(e,"max",8,9999),f=G(e,"step",8,.01),u=G(e,"percentage",8,!1);var l=yc(),g=re(l);Te(g,()=>({"--cols":13})),Se(g.lastChild,{children:(p,h)=>{var v=hc(),I=re(v);Te(I,()=>({"--col-size":7})),ot(I.lastChild,{breakpoint:"xs",children:(D,_)=>{var x=je(),S=re(x);nt(S,e,"default",{}),d(D,x)},$$slots:{default:!0}}),L(I);var C=$(I,2);Te(C,()=>({"--col-size":6})),ot(C.lastChild,{breakpoint:"xs",children:(D,_)=>{ct(D,{children:(x,S)=>{qs(x,{get min(){return n()},get max(){return o()},get step(){return f()},get percentage(){return u()},get value(){return s()},set value(E){s(E)},$$legacy:!0})},$$slots:{default:!0,revert:(x,S)=>{At(x,{slot:"revert",get defaultValue(){return t()},get value(){return s()},set value(E){s(E)},$$legacy:!0})}}})},$$slots:{default:!0}}),L(C),d(p,v)},$$slots:{default:!0}}),L(g),d(r,l)}var Cc=X("<!> <!>",1),wc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),_c=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Ve(r,e){let s=G(e,"value",12),t=G(e,"defaultValue",8),n=G(e,"min",8,0),o=G(e,"max",8,9999);var f=_c(),u=re(f);Te(u,()=>({"--cols":13})),Se(u.lastChild,{children:(l,g)=>{var p=wc(),h=re(p);Te(h,()=>({"--col-size":7})),ot(h.lastChild,{breakpoint:"xs",children:(I,C)=>{var D=je(),_=re(D);nt(_,e,"default",{}),d(I,D)},$$slots:{default:!0}}),L(h);var v=$(h,2);Te(v,()=>({"--col-size":6})),ot(v.lastChild,{breakpoint:"xs",children:(I,C)=>{Se(I,{class:"flex-grow-1",children:(D,_)=>{var x=Cc(),S=re(x);nt(S,e,"tabs",{});var E=$(S,2);ct(E,{children:(M,U)=>{qs(M,{get min(){return n()},get max(){return o()},get value(){return s()},set value(z){s(z)},$$legacy:!0})},$$slots:{default:!0,revert:(M,U)=>{At(M,{slot:"revert",get defaultValue(){return t()},get value(){return s()},set value(z){s(z)},$$legacy:!0})}}}),d(D,x)},$$slots:{default:!0}})},$$slots:{default:!0}}),L(v),d(l,p)},$$slots:{default:!0}}),L(u),d(r,f)}var kc=X('<input type="date" class="svelte-ora9c4">'),Pc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),bc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),xc=X("<div><!></div>");function Sc(r,e){pe(e,!1);let s=G(e,"date",12);ue(()=>Be(s()),()=>{s(s()?s():"1970-01-01")}),Fe();var t=xc(),n=Q(t);ct(n,{children:(o,f)=>{var u=bc(),l=re(u);Te(l,()=>({"--cols":13})),Se(l.lastChild,{children:(g,p)=>{var h=Pc(),v=re(h);Te(v,()=>({"--col-size":7})),ot(v.lastChild,{breakpoint:"xs",children:(C,D)=>{var _=je(),x=re(_);nt(x,e,"default",{}),d(C,_)},$$slots:{default:!0}}),L(v);var I=$(v,2);Te(I,()=>({"--col-size":6})),ot(I.lastChild,{breakpoint:"xs",children:(C,D)=>{var _=kc();rt(_),Dt(_,s),d(C,_)},$$slots:{default:!0}}),L(I),d(g,h)},$$slots:{default:!0}}),L(l),d(o,u)},$$slots:{default:!0}}),L(t),d(r,t),me()}var Oc=X("<!> <!> <!> <!> <!>",1),Rc=X("<!> <!>",1),Ac=X("<!> <!> <!>",1);function Tc(r,e){pe(e,!1);const s=xe(),t=()=>fe(h,"$fsrs",s),n=()=>fe(l,"$config",s),o=()=>fe(p,"$cardStateCustomizer",s);let f=G(e,"state",8),u=G(e,"api",8);const l=f().currentConfig,g=f().defaults,p=f().cardStateCustomizer,h=f().fsrs,v={maximumInterval:{title:Ps(),help:na(),url:ve.DeckOptions.maximumInterval},historicalRetention:{title:qr(),help:aa(),sched:Ne.FSRS},ignoreRevlogsBeforeMs:{title:Qr(),help:oa(),sched:Ne.FSRS},startingEase:{title:ia(),help:la(),url:ve.DeckOptions.startingEase,sched:Ne.SM2},easyBonus:{title:ua(),help:ca(),url:ve.DeckOptions.easyBonus,sched:Ne.SM2},intervalModifier:{title:da(),help:fa(),url:ve.DeckOptions.intervalModifier,sched:Ne.SM2},hardInterval:{title:ga(),help:va(),url:ve.DeckOptions.hardInterval,sched:Ne.SM2},newInterval:{title:$a(),help:pa(),url:ve.DeckOptions.newInterval,sched:Ne.SM2},customScheduling:{title:ma(),help:ha(),url:"https://faqs.ankiweb.net/the-2021-scheduler.html#add-ons-and-custom-scheduling"}},I=Object.values(v);let C=V(),D=V();function _(S){a(C).show(),a(D).to(S)}ye();var x=de(()=>Ur());Qe(r,{get title(){return a(x)},children:(S,E)=>{Xe(S,{slotHost:K,get api(){return u()},children:(M,U)=>{var z=Ac(),W=re(z);K(W,{children:(i,O)=>{Ve(i,{get defaultValue(){return g.maximumReviewInterval},min:1,max:365*100,get value(){return n().maximumReviewInterval},set value(b){te(l,k(n).maximumReviewInterval=b,k(n))},children:(b,y)=>{ne(b,{$$events:{click:()=>_(Object.keys(v).indexOf("maximumInterval"))},children:(N,F)=>{ee();var q=Z();R(()=>H(q,v.maximumInterval.title)),d(N,q)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var A=$(W,2);{var j=i=>{var O=Oc(),b=re(O);K(b,{children:(T,B)=>{et(T,{get defaultValue(){return g.initialEase},min:1.31,max:5,get value(){return n().initialEase},set value(J){te(l,k(n).initialEase=J,k(n))},children:(J,le)=>{ne(J,{$$events:{click:()=>_(Object.keys(v).indexOf("startingEase"))},children:(ae,_e)=>{ee();var ge=Z();R(()=>H(ge,v.startingEase.title)),d(ae,ge)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var y=$(b,2);K(y,{children:(T,B)=>{et(T,{get defaultValue(){return g.easyMultiplier},min:1,max:5,get value(){return n().easyMultiplier},set value(J){te(l,k(n).easyMultiplier=J,k(n))},children:(J,le)=>{ne(J,{$$events:{click:()=>_(Object.keys(v).indexOf("easyBonus"))},children:(ae,_e)=>{ee();var ge=Z();R(()=>H(ge,v.easyBonus.title)),d(ae,ge)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var N=$(y,2);K(N,{children:(T,B)=>{et(T,{get defaultValue(){return g.intervalMultiplier},min:.5,max:2,get value(){return n().intervalMultiplier},set value(J){te(l,k(n).intervalMultiplier=J,k(n))},children:(J,le)=>{ne(J,{$$events:{click:()=>_(Object.keys(v).indexOf("intervalModifier"))},children:(ae,_e)=>{ee();var ge=Z();R(()=>H(ge,v.intervalModifier.title)),d(ae,ge)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var F=$(N,2);K(F,{children:(T,B)=>{et(T,{get defaultValue(){return g.hardMultiplier},min:.5,max:1.3,get value(){return n().hardMultiplier},set value(J){te(l,k(n).hardMultiplier=J,k(n))},children:(J,le)=>{ne(J,{$$events:{click:()=>_(Object.keys(v).indexOf("hardInterval"))},children:(ae,_e)=>{ee();var ge=Z();R(()=>H(ge,v.hardInterval.title)),d(ae,ge)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var q=$(F,2);K(q,{children:(T,B)=>{et(T,{get defaultValue(){return g.lapseMultiplier},max:1,get value(){return n().lapseMultiplier},set value(J){te(l,k(n).lapseMultiplier=J,k(n))},children:(J,le)=>{ne(J,{$$events:{click:()=>_(Object.keys(v).indexOf("newInterval"))},children:(ae,_e)=>{ee();var ge=Z();R(()=>H(ge,v.newInterval.title)),d(ae,ge)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(i,O)},P=i=>{var O=Rc(),b=re(O);et(b,{get defaultValue(){return g.historicalRetention},min:.5,max:1,percentage:!0,get value(){return n().historicalRetention},set value(N){te(l,k(n).historicalRetention=N,k(n))},children:(N,F)=>{ne(N,{$$events:{click:()=>_(Object.keys(v).indexOf("historicalRetention"))},children:(q,T)=>{ee();var B=Z();R(()=>H(B,qr())),d(q,B)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var y=$(b,2);K(y,{children:(N,F)=>{Sc(N,{get date(){return n().ignoreRevlogsBeforeDate},set date(q){te(l,k(n).ignoreRevlogsBeforeDate=q,k(n))},children:(q,T)=>{ne(q,{$$events:{click:()=>_(Object.keys(v).indexOf("ignoreRevlogsBeforeMs"))},children:(B,J)=>{ee();var le=Z();R(()=>H(le,Qr())),d(B,le)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(i,O)};be(A,i=>{t()?i(P,!1):i(j)})}var w=$(A,2);K(w,{children:(i,O)=>{gc(i,{get title(){return v.customScheduling.title},get value(){return mt(),o()},set value(b){at(p,b)},$$events:{click:()=>_(Object.keys(v).indexOf("customScheduling"))},$$legacy:!0})},$$slots:{default:!0}}),d(M,z)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(S,E)=>{var M=de(()=>Ur());Ze(S,{get title(){return a(M)},get url(){return ve.DeckOptions.advanced},slot:"tooltip",get fsrs(){return t()},helpSections:I,$$events:{mount:U=>{m(C,U.detail.modal),m(D,U.detail.carousel)}}})}}}),me()}var Dc=X("<!> <!>",1);function Ic(r,e){pe(e,!1);const s=xe(),t=()=>fe(f,"$config",s);let n=G(e,"state",8),o=G(e,"api",8);const f=n().currentConfig,u=n().defaults,l={disableAutoplay:{title:ya(),help:Ca()},skipQuestionWhenReplaying:{title:wa(),help:_a()}},g=Object.values(l);let p=V(),h=V();function v(C){a(p).show(),a(h).to(C)}ye();var I=de(()=>Yr());Qe(r,{get title(){return a(I)},children:(C,D)=>{Xe(C,{slotHost:K,get api(){return o()},children:(_,x)=>{var S=Dc(),E=re(S);K(E,{children:(U,z)=>{qe(U,{get defaultValue(){return u.disableAutoplay},get value(){return t().disableAutoplay},set value(W){te(f,k(t).disableAutoplay=W,k(t))},children:(W,A)=>{ne(W,{$$events:{click:()=>v(Object.keys(l).indexOf("disableAutoplay"))},children:(j,P)=>{ee();var w=Z();R(()=>H(w,l.disableAutoplay.title)),d(j,w)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var M=$(E,2);K(M,{children:(U,z)=>{qe(U,{get defaultValue(){return u.skipQuestionWhenReplayingAnswer},get value(){return t().skipQuestionWhenReplayingAnswer},set value(W){te(f,k(t).skipQuestionWhenReplayingAnswer=W,k(t))},children:(W,A)=>{ne(W,{$$events:{click:()=>v(Object.keys(l).indexOf("skipQuestionWhenReplaying"))},children:(j,P)=>{ee();var w=Z();R(()=>H(w,l.skipQuestionWhenReplaying.title)),d(j,w)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(_,S)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(C,D)=>{var _=de(()=>Yr());Ze(C,{get title(){return a(_)},get url(){return ve.DeckOptions.audio},slot:"tooltip",helpSections:g,$$events:{mount:x=>{m(p,x.detail.modal),m(h,x.detail.carousel)}}})}}}),me()}function Lc(){return[{label:ka(),value:Je.DECK},{label:Pa(),value:Je.DECK_THEN_RANDOM_NOTES},{label:ba(),value:Je.LOWEST_POSITION},{label:xa(),value:Je.HIGHEST_POSITION},{label:Sa(),value:Je.RANDOM_NOTES},{label:Oa(),value:Je.RANDOM_CARDS}]}function Ec(){return[{label:Ra(),value:Ye.TEMPLATE},{label:Aa(),value:Ye.NO_SORT},{label:Ta(),value:Ye.TEMPLATE_THEN_RANDOM},{label:Da(),value:Ye.RANDOM_NOTE_THEN_TEMPLATE},{label:bs(),value:Ye.RANDOM_CARD}]}function Mc(r){return[{label:Ia(),value:We.DAY},{label:La(),value:We.DAY_THEN_DECK},{label:Ea(),value:We.DECK_THEN_DAY},{label:Ma(),value:We.INTERVALS_ASCENDING},{label:Na(),value:We.INTERVALS_DESCENDING},...Bc(r),{label:Va(),value:We.RETRIEVABILITY_ASCENDING},{label:Fa(),value:We.RETRIEVABILITY_DESCENDING},{label:bs(),value:We.RANDOM},{label:Ha(),value:We.ADDED},{label:Ba(),value:We.REVERSE_ADDED}]}function ps(){return[{label:za(),value:Zt.MIX_WITH_REVIEWS},{label:ja(),value:Zt.AFTER_REVIEWS},{label:Ga(),value:Zt.BEFORE_REVIEWS}]}function Nc(){return[{label:Wa(),value:jr.SUSPEND},{label:qa(),value:jr.TAG_ONLY}]}function Vc(){return[{label:Qa(),value:or.DUE},{label:Ua(),value:or.RANDOM}]}function Fc(){return[{label:Ya(),value:_t.BURY_CARD},{label:Ka(),value:_t.ANSWER_AGAIN},{label:Xa(),value:_t.ANSWER_GOOD},{label:Za(),value:_t.ANSWER_HARD},{label:Ja(),value:_t.SHOW_REMINDER}]}function Hc(){return[{label:eo(),value:Gr.SHOW_ANSWER},{label:to(),value:Gr.SHOW_REMINDER}]}function Bc(r){const e=[{label:r?ro():so(),value:We.EASE_ASCENDING},{label:r?no():ao(),value:We.EASE_DESCENDING}];return r&&e.reverse(),e}var zc=X("<!> <!> <!> <!> <!>",1);function jc(r,e){pe(e,!1);const s=xe(),t=()=>fe(f,"$config",s);let n=G(e,"state",8),o=G(e,"api",8);const f=n().currentConfig,u=n().defaults,l={secondsToShowQuestion:{title:oo(),help:io()},secondsToShowAnswer:{title:lo(),help:uo()},waitForAudio:{title:co(),help:fo()},questionAction:{title:go(),help:vo()},answerAction:{title:$o(),help:po()}},g=Object.values(l);let p=V(),h=V();function v(C){a(p).show(),a(h).to(C)}ye();var I=de(()=>Kr());Qe(r,{get title(){return a(I)},children:(C,D)=>{Xe(C,{slotHost:K,get api(){return o()},children:(_,x)=>{var S=zc(),E=re(S);K(E,{children:(A,j)=>{et(A,{get defaultValue(){return u.secondsToShowQuestion},step:.1,get value(){return t().secondsToShowQuestion},set value(P){te(f,k(t).secondsToShowQuestion=P,k(t))},children:(P,w)=>{ne(P,{$$events:{click:()=>v(Object.keys(l).indexOf("secondsToShowQuestion"))},children:(i,O)=>{ee();var b=Z();R(()=>H(b,l.secondsToShowQuestion.title)),d(i,b)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var M=$(E,2);K(M,{children:(A,j)=>{et(A,{get defaultValue(){return u.secondsToShowAnswer},step:.1,get value(){return t().secondsToShowAnswer},set value(P){te(f,k(t).secondsToShowAnswer=P,k(t))},children:(P,w)=>{ne(P,{$$events:{click:()=>v(Object.keys(l).indexOf("secondsToShowAnswer"))},children:(i,O)=>{ee();var b=Z();R(()=>H(b,l.secondsToShowAnswer.title)),d(i,b)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var U=$(M,2);K(U,{children:(A,j)=>{qe(A,{get defaultValue(){return u.waitForAudio},get value(){return t().waitForAudio},set value(P){te(f,k(t).waitForAudio=P,k(t))},children:(P,w)=>{ne(P,{$$events:{click:()=>v(Object.keys(l).indexOf("waitForAudio"))},children:(i,O)=>{ee();var b=Z();R(()=>H(b,l.waitForAudio.title)),d(i,b)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var z=$(U,2);K(z,{children:(A,j)=>{var P=de(Hc);tt(A,{get defaultValue(){return u.questionAction},get choices(){return a(P)},get value(){return t().questionAction},set value(w){te(f,k(t).questionAction=w,k(t))},children:(w,i)=>{ne(w,{$$events:{click:()=>v(Object.keys(l).indexOf("questionAction"))},children:(O,b)=>{ee();var y=Z();R(()=>H(y,l.questionAction.title)),d(O,y)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var W=$(z,2);K(W,{children:(A,j)=>{var P=de(Fc);tt(A,{get defaultValue(){return u.answerAction},get choices(){return a(P)},get value(){return t().answerAction},set value(w){te(f,k(t).answerAction=w,k(t))},children:(w,i)=>{ne(w,{$$events:{click:()=>v(Object.keys(l).indexOf("answerAction"))},children:(O,b)=>{ee();var y=Z();R(()=>H(y,l.answerAction.title)),d(O,y)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(_,S)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(C,D)=>{var _=de(()=>Kr());Ze(C,{get title(){return a(_)},get url(){return ve.DeckOptions.autoAdvance},slot:"tooltip",helpSections:g,$$events:{mount:x=>{m(p,x.detail.modal),m(h,x.detail.carousel)}}})}}}),me()}var Gc=X("<!> <!> <!>",1);function Wc(r,e){pe(e,!1);const s=xe(),t=()=>fe(f,"$config",s);let n=G(e,"state",8),o=G(e,"api",8);const f=n().currentConfig,u=n().defaults,l=`

`+mo(),g={buryNewSiblings:{title:ho(),help:yo()+l},buryReviewSiblings:{title:Co(),help:wo()+l},buryInterdayLearningSiblings:{title:_o(),help:ko()+l}},p=Object.values(g);let h=V(),v=V();function I(D){a(h).show(),a(v).to(D)}ye();var C=de(()=>Xr());Qe(r,{get title(){return a(C)},children:(D,_)=>{Xe(D,{slotHost:K,get api(){return o()},children:(x,S)=>{var E=Gc(),M=re(E);K(M,{children:(W,A)=>{qe(W,{get defaultValue(){return u.buryNew},get value(){return t().buryNew},set value(j){te(f,k(t).buryNew=j,k(t))},children:(j,P)=>{ne(j,{$$events:{click:()=>I(Object.keys(g).indexOf("buryNewSiblings"))},children:(w,i)=>{ee();var O=Z();R(()=>H(O,g.buryNewSiblings.title)),d(w,O)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var U=$(M,2);K(U,{children:(W,A)=>{qe(W,{get defaultValue(){return u.buryReviews},get value(){return t().buryReviews},set value(j){te(f,k(t).buryReviews=j,k(t))},children:(j,P)=>{ne(j,{$$events:{click:()=>I(Object.keys(g).indexOf("buryReviewSiblings"))},children:(w,i)=>{ee();var O=Z();R(()=>H(O,g.buryReviewSiblings.title)),d(w,O)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var z=$(U,2);K(z,{children:(W,A)=>{qe(W,{get defaultValue(){return u.buryInterdayLearning},get value(){return t().buryInterdayLearning},set value(j){te(f,k(t).buryInterdayLearning=j,k(t))},children:(j,P)=>{ne(j,{$$events:{click:()=>I(Object.keys(g).indexOf("buryInterdayLearningSiblings"))},children:(w,i)=>{ee();var O=Z();R(()=>H(O,g.buryInterdayLearningSiblings.title)),d(w,O)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(x,E)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(D,_)=>{var x=de(()=>Xr());Ze(D,{get title(){return a(x)},get url(){return ve.Studying.siblingsAndBurying},slot:"tooltip",helpSections:p,$$events:{mount:S=>{m(h,S.detail.modal),m(v,S.detail.carousel)}}})}}}),me()}function qc(){}var Qc=X('<hr class="dropdown-divider">');function Uc(r){var e=Qc();d(r,e)}var Yc=X('<div class="save svelte-ymxw35"> </div>'),Kc=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Xc=X("<!> <!> <!> <!> <!> <!>",1),Zc=X('<div class="d-flex"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <!> <!></div>');function Jc(r,e){pe(e,!1);const s=window.getComputedStyle(document.body).direction=="rtl",t=_s();let n=G(e,"state",8);async function o(){if(await Ot(),n().defaultConfigSelected()){alert(Po());return}const C=(n().removalWilLForceFullSync()?bo()+" ":"")+xo({name:n().getCurrentName()});if(confirm(zn(C)))try{n().removeCurrentConfig(),t("remove")}catch(D){alert(D)}}async function f(C){await mr(),n().save(C)}const u="Control+Enter";let l=V(!1);ye();var g=Zc(),p=Q(g),h=de(()=>Vl(u));Te(p,()=>({"--border-left-radius":s?"0":"var(--border-radius)","--border-right-radius":s?"var(--border-radius)":"0"})),Hl(p.lastChild,{primary:!0,get tooltip(){return a(h)},$$events:{click:()=>f(Nt.NORMAL)},children:(C,D)=>{var _=Yc(),x=Q(_,!0);R(()=>H(x,So())),L(_),d(C,_)},$$slots:{default:!0}}),L(p);var v=$(p,2);Nl(v,{keyCombination:u,$$events:{action:()=>f(Nt.NORMAL)}});var I=$(v,2);Tl(I,{get show(){return a(l)},closeOnInsideClick:!0,inline:!0,$$events:{close:()=>m(l,!1)},$$slots:{reference:(C,D)=>{var _=Kc(),x=re(_);Te(x,()=>({"--border-right-radius":s?"0":"var(--border-radius)","--border-left-radius":s?"var(--border-radius)":"0"})),Cl(x.lastChild,{class:"chevron",slot:"reference",iconSize:80,$$events:{click:()=>m(l,!a(l))},children:(S,E)=>{Vt(S,{icon:Fs})},$$slots:{default:!0}}),L(x),d(C,_)},floating:(C,D)=>{Dl(C,{slot:"floating",children:(_,x)=>{var S=Xc(),E=re(S);Pt(E,{$$events:{click:()=>t("add")},children:(j,P)=>{ee();var w=Z();R(()=>H(w,xs())),d(j,w)},$$slots:{default:!0}});var M=$(E,2);Pt(M,{$$events:{click:()=>t("clone")},children:(j,P)=>{ee();var w=Z();R(()=>H(w,Ss())),d(j,w)},$$slots:{default:!0}});var U=$(M,2);Pt(U,{$$events:{click:()=>t("rename")},children:(j,P)=>{ee();var w=Z();R(()=>H(w,Os())),d(j,w)},$$slots:{default:!0}});var z=$(U,2);Pt(z,{$$events:{click:o},children:(j,P)=>{ee();var w=Z();R(()=>H(w,Oo())),d(j,w)},$$slots:{default:!0}});var W=$(z,2);Uc(W);var A=$(W,2);Pt(A,{$$events:{click:()=>f(Nt.APPLY_TO_CHILDREN)},children:(j,P)=>{ee();var w=Z();R(()=>H(w,Ro())),d(j,w)},$$slots:{default:!0}}),d(_,S)},$$slots:{default:!0}})}}}),L(g),d(r,g),me()}var ed=X('<div class="modal fade" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content svelte-18qg9px"><div class="modal-header"><h5 class="modal-title" id="modalLabel"> </h5> <button type="button" class="btn-close svelte-18qg9px" data-bs-dismiss="modal" aria-label="Close"></button></div> <div class="modal-body"><form><div class="mb-3"><label for="prompt-input" class="col-form-label"> </label> <input id="prompt-input" type="text" class="form-control svelte-18qg9px"></div></form></div> <div class="modal-footer"><button type="button" class="btn btn-secondary">Cancel</button> <button type="button" class="btn btn-primary">OK</button></div></div></div></div>');function td(r,e){pe(e,!1);const s=xe(),t=()=>fe(kl,"$pageTheme",s),n=V();let o=G(e,"title",8),f=G(e,"prompt",8),u=G(e,"initialValue",8,""),l=G(e,"onOk",8);const g=Math.random().toString(36).substring(2),p=cr(Hs);let h=V(),v,I=V();function C(){l()(a(I).value),v.hide(),m(n,u())}function D(){v.hide(),m(n,u())}function _(){a(I).focus(),S(!0)}function x(){S(!1)}const{set:S,remove:E}=Il(D);fr(()=>{a(h).addEventListener("shown.bs.modal",_),a(h).addEventListener("hidden.bs.modal",x),v=new Pl(a(h),{keyboard:!1}),p.set(g,v)}),ea(()=>{E(),a(h).removeEventListener("shown.bs.modal",_),a(h).removeEventListener("hidden.bs.modal",x)}),ue(()=>Be(u()),()=>{m(n,u())}),Fe(),ye();var M=ed(),U=Q(M),z=Q(U),W=Q(z),A=Q(W),j=Q(A,!0);L(A);var P=$(A,2);L(W);var w=$(W,2),i=Q(w),O=Q(i),b=Q(O),y=Q(b);L(b);var N=$(b,2);rt(N),xt(N,B=>m(I,B),()=>a(I)),L(O),L(i),L(w);var F=$(w,2),q=Q(F),T=$(q,2);return L(F),L(z),L(U),L(M),xt(M,B=>m(h,B),()=>a(h)),R(()=>{var B;pt(z,"default-colors",t().isDark),H(j,o()),pt(P,"invert",t().isDark),H(y,`${(B=f())!=null?B:""}:`),pt(N,"nightMode",t().isDark)}),Dt(N,()=>a(n),B=>m(n,B)),we("submit",i,Fl(C)),we("click",q,D),we("click",T,C),d(r,M),Ie(e,"modalKey",g),me({modalKey:g})}var rd=X('<div class="button-bar svelte-1h7iokg"><!> <!></div>'),sd=X('<!> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function nd(r,e){pe(e,!1);const s=xe(),t=()=>fe(u,"$configList",s),n=V(),o=V();let f=G(e,"state",8);const u=f().configList,l=_s(),g=()=>l("presetchange");function p(w){const i=Ao({decks:w.useCount});return`${w.name} (${i})`}function h(w){f().setCurrentIndex(w.detail.value),g()}function v(w){const i=w.trim();i.length&&(f().addConfig(i),g())}function I(w){const i=w.trim();i.length&&(f().cloneConfig(i),g())}function C(w){f().setCurrentName(w)}const D=cr(Hs);let _=V(),x=V(""),S=V(""),E=V(qc);function M(){m(S,xs()),m(E,v),m(x,""),D.get(a(_)).show()}function U(){m(S,Ss()),m(E,I),m(x,f().getCurrentName()),D.get(a(_)).show()}function z(){m(S,Os()),m(E,C),m(x,f().getCurrentName()),D.get(a(_)).show()}ue(()=>t(),()=>{m(n,t().findIndex(w=>w.current))}),ue(()=>(t(),a(n)),()=>{m(o,p(t()[a(n)]))}),Fe(),ye();var W=sd(),A=re(W),j=de(()=>To());td(A,{get title(){return a(S)},get prompt(){return a(j)},get initialValue(){return a(x)},get onOk(){return a(E)},get modalKey(){return a(_)},set modalKey(w){m(_,w)},$$legacy:!0});var P=$(A,2);Te(P,()=>({"--gutter-block":"0.5rem","--sticky-borders":"0 0 1px"})),Bl(P.lastChild,{breakpoint:"sm",children:(w,i)=>{var O=rd(),b=Q(O);Zn(b,{class:"flex-grow-1 mr1",get label(){return a(o)},get list(){return t()},parser:N=>({content:p(N),value:N.idx}),get value(){return a(n)},set value(N){m(n,N)},$$events:{change:h},$$legacy:!0});var y=$(b,2);Jc(y,{get state(){return f()},$$events:{add:M,clone:U,rename:z,remove:g}}),L(O),d(w,O)},$$slots:{default:!0}}),L(P),d(r,W),me()}var ad=X('<li class="svelte-yjm2pe"><button class="svelte-yjm2pe"> </button></li>'),od=X('<ul class="svelte-yjm2pe"></ul>');function ms(r,e){pe(e,!1);let s=G(e,"tabs",8),t=G(e,"value",12),n=V(o());function o(){const g=s().slice().reverse().findIndex(p=>p.value!==null);return g===-1?0:s().length-g-1}function f(g){for(const[p,h]of s().entries())g===p?h.enable(t()):g>p?h.reset():h.disable()}const u=g=>()=>m(n,g);ue(()=>a(n),()=>{f(a(n))}),ue(()=>(Be(s()),a(n)),()=>{var g;t((g=s()[a(n)].value)!=null?g:0)}),ue(()=>(Be(s()),a(n),Be(t())),()=>{s()[a(n)].setValue(t())}),Fe(),ye();var l=od();Rt(l,5,s,Ft,(g,p,h)=>{var v=ad(),I=Q(v),C=Un(()=>u(h)),D=Q(I,!0);L(I),L(v),R(()=>{pt(v,"active",a(n)===h),H(D,a(p).title)}),we("click",I,function(..._){var x;(x=a(C))==null||x.apply(this,_)}),d(g,v)}),L(l),d(r,l),me()}var id=X("<!> <!> <!> <!> <!>",1);function ld(r,e){var b,y,N,F,q,T;pe(e,!1);const s=xe(),t=()=>fe(h,"$config",s),n=()=>fe(v,"$limits",s),o=()=>fe(C,"$newCardsIgnoreReviewLimit",s),f=()=>fe(D,"$applyAllParentLimits",s),u=V();let l=G(e,"state",8),g=G(e,"api",8);function p(){Pe(M,a(M)[0]=new st(Et(),t().newPerDay,B=>te(h,k(t).newPerDay=B,k(t)),t().newPerDay,null)),Pe(U,a(U)[0]=new st(Et(),t().reviewsPerDay,B=>te(h,k(t).reviewsPerDay=B,k(t)),t().reviewsPerDay,null))}const h=l().currentConfig,v=l().deckLimits,I=l().defaults,C=l().newCardsIgnoreReviewLimit,D=l().applyAllParentLimits,_=`

`+Do()+`

`+Io(),x=`

`+Lo()+_,S=ir()+`

`+Eo(),E=ir()+`

`+Mo(),M=V([new st(Et(),t().newPerDay,B=>te(h,k(t).newPerDay=B,k(t)),t().newPerDay,null),new st(Zr(),(b=n().new)!=null?b:null,B=>te(v,k(n).new=B!=null?B:void 0,k(n)),null,null),new st(Jr(),n().newTodayActive&&(y=n().newToday)!=null?y:null,B=>te(v,k(n).newToday=B!=null?B:void 0,k(n)),null,(N=n().newToday)!=null?N:null)]),U=V([new st(Et(),t().reviewsPerDay,B=>te(h,k(t).reviewsPerDay=B,k(t)),t().reviewsPerDay,null),new st(Zr(),(F=n().review)!=null?F:null,B=>te(v,k(n).review=B!=null?B:void 0,k(n)),null,null),new st(Jr(),n().reviewTodayActive&&(q=n().reviewToday)!=null?q:null,B=>te(v,k(n).reviewToday=B!=null?B:void 0,k(n)),null,(T=n().reviewToday)!=null?T:null)]);let z=V(0),W=V(0);const A={newLimit:{title:Rs(),help:No()+_,url:ve.DeckOptions.newCardsday},reviewLimit:{title:As(),help:Vo()+x,url:ve.DeckOptions.maximumReviewsday},newCardsIgnoreReviewLimit:{title:Fo(),help:S,url:ve.DeckOptions.newCardsday},applyAllParentLimits:{title:Ho(),help:E,url:ve.DeckOptions.newCardsday}},j=Object.values(A);let P=V(),w=V();function i(B){a(P).show(),a(w).to(B)}ue(()=>(a(z),a(W),ut),()=>{m(u,Math.min(9999,a(z)*10)>a(W)?Bo({cards:a(z),expected:Math.min(9999,a(z)*10)}):"")}),Fe(),ye();var O=de(()=>es());return Qe(r,{get title(){return a(O)},children:(B,J)=>{Xe(B,{slotHost:K,get api(){return g()},children:(le,ae)=>{var _e=id(),ge=re(_e);K(ge,{children:(Le,De)=>{Ve(Le,{get defaultValue(){return I.newPerDay},get value(){return a(z)},set value(he){m(z,he)},children:(he,Ue)=>{ne(he,{$$events:{click:()=>i(Object.keys(A).indexOf("newLimit"))},children:(ke,ht)=>{ee();var lt=Z();R(()=>H(lt,A.newLimit.title)),d(ke,lt)},$$slots:{default:!0}})},$$slots:{default:!0,tabs:(he,Ue)=>{ms(he,{slot:"tabs",get tabs(){return a(M)},get value(){return a(z)},set value(ke){m(z,ke)},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0}});var oe=$(ge,2);K(oe,{children:(Le,De)=>{Ve(Le,{get defaultValue(){return I.reviewsPerDay},get value(){return a(W)},set value(he){m(W,he)},children:(he,Ue)=>{ne(he,{$$events:{click:()=>i(Object.keys(A).indexOf("reviewLimit"))},children:(ke,ht)=>{ee();var lt=Z();R(()=>H(lt,A.reviewLimit.title)),d(ke,lt)},$$slots:{default:!0}})},$$slots:{default:!0,tabs:(he,Ue)=>{ms(he,{slot:"tabs",get tabs(){return a(U)},get value(){return a(W)},set value(ke){m(W,ke)},$$legacy:!0})}},$$legacy:!0})},$$slots:{default:!0}});var Ce=$(oe,2);K(Ce,{children:(Le,De)=>{ze(Le,{get warning(){return a(u)}})},$$slots:{default:!0}});var it=$(Ce,2);K(it,{children:(Le,De)=>{qe(Le,{defaultValue:!1,get value(){return mt(),o()},set value(he){at(C,he)},children:(he,Ue)=>{ne(he,{$$events:{click:()=>i(Object.keys(A).indexOf("newCardsIgnoreReviewLimit"))},children:(ke,ht)=>{St(ke,{get title(){return A.newCardsIgnoreReviewLimit.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var Bt=$(it,2);K(Bt,{children:(Le,De)=>{qe(Le,{defaultValue:!1,get value(){return mt(),f()},set value(he){at(D,he)},children:(he,Ue)=>{ne(he,{$$events:{click:()=>i(Object.keys(A).indexOf("applyAllParentLimits"))},children:(ke,ht)=>{St(ke,{get title(){return A.applyAllParentLimits.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(le,_e)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(B,J)=>{var le=de(()=>es());Ze(B,{get title(){return a(le)},get url(){return ve.DeckOptions.dailyLimits},slot:"tooltip",helpSections:j,$$events:{mount:ae=>{m(P,ae.detail.modal),m(w,ae.detail.carousel)}}})}}}),Ie(e,"onPresetChange",p),me({onPresetChange:p})}var ud=X("<!> <!> <!> <!> <!>",1);function cd(r,e){pe(e,!1);const s=xe(),t=()=>fe(u,"$config",s),n=()=>fe(g,"$fsrs",s);let o=G(e,"state",8),f=G(e,"api",8);const u=o().currentConfig,l=o().defaults,g=o().fsrs,p=`

`+zo();let h=V([]);const v={newGatherPriority:{title:jo(),help:Go()+p},newCardSortOrder:{title:Wo(),help:qo()+p},newReviewPriority:{title:Qo(),help:Uo()+p},interdayStepPriority:{title:Yo(),help:Ko()+p},reviewSortOrder:{title:Xo(),help:Zo()+p}},I=Object.values(v);let C=V(),D=V();function _(S){a(C).show(),a(D).to(S)}ue(()=>(t(),a(h),Je),()=>{switch(t().newCardGatherPriority){case Je.RANDOM_NOTES:m(h,[Ye.TEMPLATE_THEN_RANDOM,Ye.RANDOM_NOTE_THEN_TEMPLATE]);break;case Je.RANDOM_CARDS:m(h,[Ye.TEMPLATE_THEN_RANDOM,Ye.RANDOM_NOTE_THEN_TEMPLATE,Ye.RANDOM_CARD]);break;default:m(h,[]);break}a(h).includes(t().newCardSortOrder)&&te(u,k(t).newCardSortOrder=0,k(t)),t().newCardSortOrder in Ye||te(u,k(t).newCardSortOrder=0,k(t))}),Fe(),ye();var x=de(()=>ts());Qe(r,{get title(){return a(x)},children:(S,E)=>{Xe(S,{slotHost:K,get api(){return f()},children:(M,U)=>{var z=ud(),W=re(z);K(W,{children:(i,O)=>{var b=de(Lc);tt(i,{get defaultValue(){return l.newCardGatherPriority},get choices(){return a(b)},get value(){return t().newCardGatherPriority},set value(y){te(u,k(t).newCardGatherPriority=y,k(t))},children:(y,N)=>{ne(y,{$$events:{click:()=>_(Object.keys(v).indexOf("newGatherPriority"))},children:(F,q)=>{ee();var T=Z();R(()=>H(T,v.newGatherPriority.title)),d(F,T)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var A=$(W,2);K(A,{children:(i,O)=>{var b=de(Ec);tt(i,{get defaultValue(){return l.newCardSortOrder},get choices(){return a(b)},get disabledChoices(){return a(h)},get value(){return t().newCardSortOrder},set value(y){te(u,k(t).newCardSortOrder=y,k(t))},children:(y,N)=>{ne(y,{$$events:{click:()=>_(Object.keys(v).indexOf("newCardSortOrder"))},children:(F,q)=>{ee();var T=Z();R(()=>H(T,v.newCardSortOrder.title)),d(F,T)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var j=$(A,2);K(j,{children:(i,O)=>{var b=de(ps);tt(i,{get defaultValue(){return l.newMix},get choices(){return a(b)},get value(){return t().newMix},set value(y){te(u,k(t).newMix=y,k(t))},children:(y,N)=>{ne(y,{$$events:{click:()=>_(Object.keys(v).indexOf("newReviewPriority"))},children:(F,q)=>{ee();var T=Z();R(()=>H(T,v.newReviewPriority.title)),d(F,T)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var P=$(j,2);K(P,{children:(i,O)=>{var b=de(ps);tt(i,{get defaultValue(){return l.interdayLearningMix},get choices(){return a(b)},get value(){return t().interdayLearningMix},set value(y){te(u,k(t).interdayLearningMix=y,k(t))},children:(y,N)=>{ne(y,{$$events:{click:()=>_(Object.keys(v).indexOf("interdayStepPriority"))},children:(F,q)=>{ee();var T=Z();R(()=>H(T,v.interdayStepPriority.title)),d(F,T)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var w=$(P,2);K(w,{children:(i,O)=>{var b=de(()=>Mc(n()));tt(i,{get defaultValue(){return l.reviewOrder},get choices(){return a(b)},get value(){return t().reviewOrder},set value(y){te(u,k(t).reviewOrder=y,k(t))},children:(y,N)=>{ne(y,{$$events:{click:()=>_(Object.keys(v).indexOf("reviewSortOrder"))},children:(F,q)=>{ee();var T=Z();R(()=>H(T,v.reviewSortOrder.title)),d(F,T)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(M,z)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(S,E)=>{var M=de(()=>ts());Ze(S,{get title(){return a(M)},get url(){return ve.DeckOptions.displayOrder},slot:"tooltip",helpSections:I,$$events:{mount:U=>{m(C,U.detail.modal),m(D,U.detail.carousel)}}})}}}),me()}var dd=X('<textarea class="w-100"></textarea>');function fd(r,e){pe(e,!1);let s=G(e,"value",12),t=G(e,"defaults",8),n=V();function o(l){return l.map(g=>g.toFixed(4)).join(", ")}function f(){s(this.value.replace(/ /g,"").split(",").filter(l=>l).map(l=>Number(l)))}ue(()=>Be(s()),()=>{m(n,o(s()))}),Fe(),ye();var u=dd();Ns(u),R(()=>He(u,"placeholder",o(t()))),R(()=>gr(u,a(n))),we("blur",u,f),d(r,u),me()}var gd=X("<!> <!>",1);function vd(r,e){let s=G(e,"value",12),t=G(e,"defaultValue",8),n=G(e,"defaults",8);var o=gd(),f=re(o);nt(f,e,"default",{});var u=$(f,2);ct(u,{children:(l,g)=>{fd(l,{get defaults(){return n()},get value(){return s()},set value(p){s(p)},$$legacy:!0})},$$slots:{default:!0,revert:(l,g)=>{At(l,{slot:"revert",get defaultValue(){return t()},get value(){return s()},set value(p){s(p)},$$legacy:!0})}}}),d(r,o)}var $d=X('<input type="text" class="w-100 mb-1">');function pd(r,e){let s=G(e,"value",12),t=G(e,"placeholder",8);ct(r,{children:(n,o)=>{var f=$d();rt(f),R(()=>He(f,"placeholder",t())),Dt(f,s),d(n,f)},$$slots:{default:!0}})}var Me=(r=>(r[r.time=0]="time",r[r.count=1]="count",r[r.memorized=2]="memorized",r))(Me||{});function ar(r,e,s,t){const n=is(r);if(n.selectAll(".lines").remove(),n.selectAll(".hover-columns").remove(),n.selectAll(".focus-line").remove(),n.selectAll(".legend").remove(),s.length==0)return ls(n,!1),[];const o=n.transition().duration(600),f=new Date,u=s.map(i=>({...i,date:new Date(f.getTime()+i.x*24*60*60*1e3)})),l=f,g=us(u,i=>i.date),p=su().domain([l,g]).range([e.marginLeft,e.width-e.marginRight]);n.select(".x-ticks").call(i=>i.transition(o).call(zl(p).ticks(7).tickSizeOuter(0))).attr("direction","ltr");const h=i=>t==0?sr(i,!0):i.toString(),v={1:u.map(i=>({...i,y:i.count})),0:u.map(i=>({...i,y:i.timeCost})),2:u.map(i=>({...i,y:i.memorized}))}[t],I=us(v,i=>i.y),C=jl().range([e.height-e.marginBottom,e.marginTop]).domain([0,I]).nice();n.select(".y-ticks").call(i=>i.transition(o).call(Gl(C).ticks(e.height/50).tickSizeOuter(0).tickFormat(h))).attr("direction","ltr"),n.select(".y-ticks .y-axis-title").remove(),n.select(".y-ticks").append("text").attr("class","y-axis-title").attr("transform","rotate(-90)").attr("y",0-e.marginLeft).attr("x",0-e.height/2).attr("font-size","1rem").attr("dy","1.1em").attr("fill","currentColor");const D=v.map(i=>[p(i.date),C(i.y),i.label]),_=$u(D,i=>Object.assign(i,{z:i[0][2]}),i=>i[2]),x=mu;n.append("g").attr("class","lines").attr("fill","none").attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").selectAll("path").data(Array.from(_.entries())).join("path").attr("stroke",(i,O)=>x[O%x.length]).attr("d",i=>Wl()(i[1].map(O=>[O[0],O[1]]))).attr("data-group",i=>i[0]);const S=n.append("line").attr("class","focus-line").attr("y1",e.marginTop).attr("y2",e.height-e.marginBottom).attr("stroke","black").attr("stroke-width",1).style("opacity",0),E=Array.from(_.values()).reduce((i,O)=>i.length>O.length?i:O),M=e.width/E.length;n.append("g").attr("class","hover-columns").selectAll("rect").data(E).join("rect").attr("x",i=>i[0]-M/2).attr("y",e.marginTop).attr("width",M).attr("height",e.height-e.marginTop-e.marginBottom).attr("fill","transparent").on("mousemove",z).on("mouseout",()=>{S.style("opacity",0),cs()});const U={0:sr,1:i=>Ts({reviews:Math.round(i)}),2:i=>ti({memorized:Math.round(i).toFixed(0)})}[t];function z(i,O){ql(i,document.body);const b=p.invert(O[0]),y={};_.forEach((q,T)=>{const B=Ql(ae=>p.invert(ae[0])).left,J=B(q,b),le=q[J];le&&(y[T]=C.invert(le[1]))}),S.attr("x1",O[0]).attr("x2",O[0]).style("opacity",1);const N=+((b.getTime()-Date.now())/(60*60*24*1e3)).toFixed();let F=`Date: ${jn(b)}<br>In ${N} Days<br>`;for(const[q,T]of Object.entries(y))n.select(`path[data-group="${q}"]`).classed("hidden")||(F+=`<span style="color:${x[(parseInt(q)-1)%x.length]}">■</span> #${q}: ${U(T)}<br>`);ds(F,i.pageX,i.pageY)}const W=n.append("g").attr("class","legend").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","start").selectAll("g").data(Array.from(_.keys())).join("g").attr("transform",(i,O)=>`translate(0,${O*20})`).attr("cursor","pointer").on("click",(i,O)=>P(i,O)).on("mousemove",j).on("mouseout",cs),A={1:ri,0:({count:i})=>sr(i),2:si}[t];function j(i,O){const b=v.filter(F=>F.label==O),y=t==2?b[b.length-1].memorized-b[0].memorized:Qu(b,F=>F.y),N=y/((b==null?void 0:b.length)||1);ds(`#${O}:<br/>
                ${Jo()}: ${A({count:N})}<br/>
                ${ei()}: ${U(y)}`,i.pageX,i.pageY)}W.append("rect").attr("x",e.width-e.marginRight+36).attr("width",12).attr("height",12).attr("fill",(i,O)=>x[O%x.length]),W.append("text").attr("x",e.width-e.marginRight+52).attr("y",7).attr("dy","0.3em").attr("fill","currentColor").text(i=>`#${i}`);const P=(i,O)=>{const b=O,y=n.select(`path[data-group="${b}"]`),N=y.classed("hidden"),F=i.currentTarget;y.classed("hidden",!N),y.style("display",()=>N?null:"none"),is(F).select("rect").style("opacity",N?1:.5)};return ls(n,!0),[]}var md=X(" <!>",1),hd=X("<div> </div>"),yd=X('<label><input type="radio"> </label> <label><input type="radio"> </label> <label><input type="radio"> </label>',1),Cd=X('<div class="radio-group svelte-1wbtes9"><!></div> <svg><!><!><!><!></svg> <!>',1),wd=X('<!> <!> <div class="ms-1 me-1"><!> <!> <button><!></button> <button><!></button> <div><!></div></div> <div class="m-1"><!> <button class="btn btn-primary"> </button></div> <div class="m-2"><!> <!></div> <div class="m-2"><details><summary> </summary> <!> <button><!></button> <!> <!></details></div> <div class="m-2"><details><summary> </summary> <!> <!> <!> <!> <!> <button> </button> <button> </button> <!> <!></details></div>',1);function _d(r,e){pe(e,!1);const s=xe(),t=()=>fe(j,"$daysSinceLastOptimization",s),n=()=>fe(U,"$presetName",s),o=()=>fe(z,"$config",s),f=()=>fe(a(C),"$newCardsIgnoreReviewLimit",s),u=()=>fe(A,"$fsrsReschedule",s),l=V(),g=V(),p=V(),h=V(),v=V(),I=V(),C=V(),D=V(),_=V(),x=V(),S=[];let E=G(e,"state",8),M=G(e,"openHelpModal",8);const U=E().currentPresetName,z=E().currentConfig,W=E().defaults,A=E().fsrsReschedule,j=E().daysSinceLastOptimization;let P=V(),w=V(!1),i=V(!1),O=V(!1),b=V(!1),y=V(0),N=V(),F=V(Me.count);const q=V(new Dn({daysToSimulate:365,lossAversion:2.5})),T=V(new In({params:bt(o()),desiredRetention:o().desiredRetention,deckSize:0,daysToSimulate:365,newLimit:o().newPerDay,reviewLimit:o().reviewsPerDay,maxInterval:o().maximumReviewInterval,search:`preset:"${E().getCurrentNameForSearch()}" -is:suspended`,newCardsIgnoreReviewLimit:f()}));function B(c){const se=Math.round(100/.23456790123456783*(Math.pow(c,1/-.5)-1));return se===100?"":Ci({days:se})}function J(c){return c<.7||c>.97?"alert-danger":c<.8||c>.95?"alert-warning":"alert-info"}function le(){return BigInt(o().ignoreRevlogsBeforeDate?new Date(o().ignoreRevlogsBeforeDate).getTime():0)}async function ae(){if(a(w)){await Jt({});return}if(E().presetAssignmentsChanged()){alert(er());return}m(w,!0),m(P,void 0);try{await Mt(async()=>{const c=bt(o()),Y=o().relearnSteps;let ie=0,$e=0;for(let Ge=0;Ge<Y.length&&($e+=Y[Ge],!($e>=1440));Ge++)ie++;const se=await Ln({search:o().paramSearch?o().paramSearch:a(p),ignoreRevlogsBeforeMs:le(),currentParams:c,numOfRelearningSteps:ie});if(c.length&&c.every((Ge,It)=>Ge.toFixed(4)===se.params[It].toFixed(4))||se.params.length===0){const Ge=se.fsrsItems?ni():ai();setTimeout(()=>alert(Ge),200)}else te(z,k(o).fsrsParams5=se.params,k(o));a(P)&&Pe(P,a(P).current=a(P).total)},c=>{c.value.case==="computeParams"&&m(P,c.value.value)})}finally{m(w,!1)}}async function _e(){if(a(i)){await Jt({});return}if(E().presetAssignmentsChanged()){alert(er());return}m(i,!0),m(P,void 0);try{await Mt(async()=>{const c=o().paramSearch?o().paramSearch:a(p),Y=await En({params:bt(o()),search:c,ignoreRevlogsBeforeMs:le()});a(P)&&Pe(P,a(P).current=a(P).total),setTimeout(()=>alert(`Log loss: ${Y.logLoss.toFixed(4)}, RMSE(bins): ${(Y.rmseBins*100).toFixed(2)}%. ${oi()}`),200)},c=>{c.value.case==="computeParams"&&m(P,c.value.value)})}finally{m(i,!1)}}async function ge(){if(a(O)){await Jt({});return}if(E().presetAssignmentsChanged()){alert(er());return}m(O,!0),m(N,void 0);try{await Mt(async()=>{Pe(q,a(q).maxInterval=o().maximumReviewInterval),Pe(q,a(q).params=bt(o())),Pe(q,a(q).search=`preset:"${E().getCurrentNameForSearch()}" -is:suspended`);const c=await Mn(a(q));m(y,c.optimalRetention),m(N,void 0)},c=>{c.value.case==="computeRetention"&&m(N,c.value.value)})}finally{m(O,!1)}}function oe(c){if(!c||!c.total)return"";const Y=(c.current/c.total*100).toFixed(1);return c instanceof Vn?`${Y}%`:wi({pct:Y,reviews:c.reviews})}function Ce(c){return c?_i({count:c.current}):""}function it(c){return c?ki({num:c.toFixed(2)}):""}async function Bt(){await mr(),E().save(Nt.COMPUTE_ALL_PARAMS)}let Le=V([]);const De=V(Jl());Pe(De,a(De).marginLeft+=8);let he=V(null),Ue=0,ke=V([]);function ht(c,Y){return c.map((ie,$e)=>ie+Y[$e])}async function lt(){let c;Ue+=1;try{await Mt(async()=>{Pe(T,a(T).params=bt(o())),Pe(T,a(T).desiredRetention=o().desiredRetention),Pe(T,a(T).search=`preset:"${E().getCurrentNameForSearch()}" -is:suspended`),Pe(T,a(T).newCardsIgnoreReviewLimit=f()),m(b,!0),c=await Nn(a(T))},()=>{})}finally{if(m(b,!1),c){const Y=ht(c.dailyReviewCount,c.dailyNewCount),ie=c.accumulatedKnowledgeAcquisition;m(ke,a(ke).concat(c.dailyTimeCost.map(($e,se)=>({x:se,timeCost:$e,count:Y[se],memorized:ie[se],label:Ue})))),m(Le,ar(a(he),a(De),a(ke),a(F)))}}}function Us(){m(ke,a(ke).filter(c=>c.label!==Ue)),Ue=Math.max(0,Ue-1),m(Le,ar(a(he),a(De),a(ke),a(F)))}ue(()=>(t(),ut),()=>{m(l,t()>30?ii():"")}),ue(()=>n(),()=>{n()&&m(y,0)}),ue(()=>(a(w),a(i),a(O),a(b)),()=>{m(g,a(w)||a(i)||a(O)||a(b))}),ue(()=>Be(E()),()=>{m(p,`preset:"${E().getCurrentNameForSearch()}" -is:suspended`)}),ue(()=>o(),()=>{m(h,Number(o().desiredRetention.toFixed(2)))}),ue(()=>a(h),()=>{m(v,B(a(h)))}),ue(()=>a(h),()=>{m(I,J(a(h)))}),ue(()=>a(q),()=>{a(q).daysToSimulate>3650&&Pe(q,a(q).daysToSimulate=3650)}),ue(()=>Be(E()),()=>{wl(m(C,E().newCardsIgnoreReviewLimit),"$newCardsIgnoreReviewLimit",s)}),ue(()=>a(P),()=>{m(D,oe(a(P)))}),ue(()=>a(N),()=>{m(_,Ce(a(N)))}),ue(()=>a(P),()=>{var c,Y;m(x,(Y=(c=a(P))==null?void 0:c.reviews)!=null?Y:void 0)}),ue(()=>(a(he),a(De),a(ke),a(F)),()=>{m(Le,ar(a(he),a(De),a(ke),a(F)))}),Fe(),ye();var hr=wd(),yr=re(hr);et(yr,{get defaultValue(){return W.desiredRetention},min:.7,max:.99,percentage:!0,get value(){return o().desiredRetention},set value(c){te(z,k(o).desiredRetention=c,k(o))},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("desiredRetention")},children:(ie,$e)=>{ee();var se=Z();R(()=>H(se,Ds())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Cr=$(yr,2);ze(Cr,{get warning(){return a(v)},get className(){return a(I)}});var zt=$(Cr,2),wr=Q(zt);vd(wr,{defaultValue:[],get defaults(){return W.fsrsParams5},get value(){return o().fsrsParams5},set value(c){te(z,k(o).fsrsParams5=c,k(o))},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("modelParams")},children:(ie,$e)=>{ee();var se=Z();R(()=>H(se,Is())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var _r=$(wr,2);pd(_r,{get placeholder(){return a(p)},get value(){return o().paramSearch},set value(c){te(z,k(o).paramSearch=c,k(o))},$$legacy:!0});var dt=$(_r,2),Ys=Q(dt);{var Ks=c=>{var Y=Z();R(()=>H(Y,tr())),d(c,Y)},Xs=c=>{var Y=Z();R(()=>H(Y,li())),d(c,Y)};be(Ys,c=>{a(w)?c(Ks):c(Xs,!1)})}L(dt);var ft=$(dt,2),Zs=Q(ft);{var Js=c=>{var Y=Z();R(()=>H(Y,tr())),d(c,Y)},en=c=>{var Y=Z();R(()=>H(Y,ui())),d(c,Y)};be(Zs,c=>{a(i)?c(Js):c(en,!1)})}L(ft);var kr=$(ft,2),tn=Q(kr);{var rn=c=>{var Y=Z();R(()=>H(Y,a(D))),d(c,Y)},sn=c=>{var Y=je(),ie=re(Y);{var $e=se=>{var Oe=Z();R(()=>H(Oe,Ts({reviews:a(x)}))),d(se,Oe)};be(ie,se=>{a(x)!==void 0&&se($e)},!0)}d(c,Y)};be(tn,c=>{a(w)||a(i)?c(rn):c(sn,!1)})}L(kr),L(zt);var jt=$(zt,2),Pr=Q(jt);ze(Pr,{get warning(){return a(l)},className:"alert-warning"});var Gt=$(Pr,2),nn=Q(Gt,!0);R(()=>H(nn,ci())),L(Gt),L(jt);var Wt=$(jt,2),br=Q(Wt);qe(br,{defaultValue:!1,get value(){return mt(),u()},set value(c){at(A,c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("rescheduleCardsOnChange")},children:(ie,$e)=>{var se=de(()=>Es());St(ie,{get title(){return a(se)}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var an=$(br,2);{var on=c=>{var Y=de(()=>Pi());ze(c,{get warning(){return a(Y)}})};be(an,c=>{u()&&c(on)})}L(Wt);var qt=$(Wt,2),xr=Q(qt),Qt=Q(xr),ln=Q(Qt,!0);R(()=>H(ln,Ls())),L(Qt);var Sr=$(Qt,2);Ve(Sr,{defaultValue:365,min:1,max:3650,get value(){return a(q).daysToSimulate},set value(c){Pe(q,a(q).daysToSimulate=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("computeOptimalRetention")},children:(ie,$e)=>{ee();var se=Z();R(()=>H(se,rs())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var gt=$(Sr,2),un=Q(gt);{var cn=c=>{var Y=Z();R(()=>H(Y,tr())),d(c,Y)},dn=c=>{var Y=Z();R(()=>H(Y,di())),d(c,Y)};be(un,c=>{a(O)?c(cn):c(dn,!1)})}L(gt);var Or=$(gt,2);{var fn=c=>{var Y=md(),ie=re(Y);R(()=>{var Oe;return H(ie,`${(Oe=it(a(y)))!=null?Oe:""} `)});var $e=$(ie);{var se=Oe=>{var Ge=de(()=>bi());ze(Oe,{get warning(){return a(Ge)},className:"alert-warning"})};be($e,Oe=>{a(y)-o().desiredRetention>=.01&&Oe(se)})}d(c,Y)};be(Or,c=>{a(y)&&c(fn)})}var gn=$(Or,2);{var vn=c=>{var Y=hd(),ie=Q(Y,!0);L(Y),R(()=>H(ie,a(_))),d(c,Y)};be(gn,c=>{a(O)&&c(vn)})}L(xr),L(qt);var Rr=$(qt,2),Ar=Q(Rr),Ut=Q(Ar),$n=Q(Ut,!0);R(()=>H($n,fi())),L(Ut);var Tr=$(Ut,2);Ve(Tr,{defaultValue:365,min:1,max:3650,get value(){return a(T).daysToSimulate},set value(c){Pe(T,a(T).daysToSimulate=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("simulateFsrsReview")},children:(ie,$e)=>{ee();var se=Z();R(()=>H(se,rs())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Dr=$(Tr,2);Ve(Dr,{defaultValue:0,min:0,max:1e5,get value(){return a(T).deckSize},set value(c){Pe(T,a(T).deckSize=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("simulateFsrsReview")},children:(ie,$e)=>{ee();var se=Z();R(()=>H(se,gi())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Ir=$(Dr,2);Ve(Ir,{get defaultValue(){return o().newPerDay},min:0,max:9999,get value(){return a(T).newLimit},set value(c){Pe(T,a(T).newLimit=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("simulateFsrsReview")},children:(ie,$e)=>{ee();var se=Z();R(()=>H(se,Rs())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Lr=$(Ir,2);Ve(Lr,{get defaultValue(){return o().reviewsPerDay},min:0,max:9999,get value(){return a(T).reviewLimit},set value(c){Pe(T,a(T).reviewLimit=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("simulateFsrsReview")},children:(ie,$e)=>{ee();var se=Z();R(()=>H(se,As())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var Er=$(Lr,2);Ve(Er,{get defaultValue(){return o().maximumReviewInterval},min:1,max:36500,get value(){return a(T).maxInterval},set value(c){Pe(T,a(T).maxInterval=c)},children:(c,Y)=>{ne(c,{$$events:{click:()=>M()("simulateFsrsReview")},children:(ie,$e)=>{ee();var se=Z();R(()=>H(se,Ps())),d(ie,se)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0});var vt=$(Er,2),pn=Q(vt,!0);R(()=>H(pn,vi())),L(vt);var $t=$(vt,2),mn=Q($t,!0);R(()=>H(mn,$i())),L($t);var Mr=$($t,2);{var hn=c=>{var Y=Z();R(()=>H(Y,pi())),d(c,Y)};be(Mr,c=>{a(b)&&c(hn)})}var yn=$(Mr,2);Ul(yn,{children:(c,Y)=>{var ie=Cd(),$e=re(ie),se=Q($e);Yl(se,{children:(Yt,Jd)=>{var Vr=yd(),Kt=re(Vr),yt=Q(Kt);rt(yt);var Fr,_n=$(yt);R(()=>{var Ee;return H(_n,` ${(Ee=mi())!=null?Ee:""}`)}),L(Kt);var Xt=$(Kt,2),Ct=Q(Xt);rt(Ct);var Hr,kn=$(Ct);R(()=>{var Ee;return H(kn,` ${(Ee=hi())!=null?Ee:""}`)}),L(Xt);var Br=$(Xt,2),wt=Q(Br);rt(wt);var zr,Pn=$(wt);R(()=>{var Ee;return H(Pn,` ${(Ee=yi())!=null?Ee:""}`)}),L(Br),R(()=>{Fr!==(Fr=Me.count)&&(yt.value=(yt.__value=Me.count)==null?"":Me.count),Hr!==(Hr=Me.time)&&(Ct.value=(Ct.__value=Me.time)==null?"":Me.time),zr!==(zr=Me.memorized)&&(wt.value=(wt.__value=Me.memorized)==null?"":Me.memorized)}),rr(S,[],yt,()=>(Me.count,a(F)),Ee=>m(F,Ee)),rr(S,[],Ct,()=>(Me.time,a(F)),Ee=>m(F,Ee)),rr(S,[],wt,()=>(Me.memorized,a(F)),Ee=>m(F,Ee)),d(Yt,Vr)},$$slots:{default:!0}}),L($e);var Oe=$($e,2),Ge=Q(Oe);iu(Ge);var It=$(Ge);Kl(It);var Nr=$(It);Xl(Nr,{get bounds(){return a(De)}});var Cn=$(Nr);Zl(Cn,{get bounds(){return a(De)}}),L(Oe),xt(Oe,Yt=>m(he,Yt),()=>a(he));var wn=$(Oe,2);lu(wn,{get tableData(){return a(Le)}}),R(()=>He(Oe,"viewBox",`0 0 ${a(De).width} ${a(De).height}`)),d(c,ie)},$$slots:{default:!0}}),L(Ar),L(Rr),R(()=>{var c,Y,ie,$e,se;kt(dt,`btn ${(c=a(w)?"btn-warning":"btn-primary")!=null?c:""}`),dt.disabled=!a(w)&&a(g),kt(ft,`btn ${(Y=a(i)?"btn-warning":"btn-primary")!=null?Y:""}`),ft.disabled=!a(i)&&a(g),kt(gt,`btn ${(ie=a(O)?"btn-warning":"btn-primary")!=null?ie:""}`),gt.disabled=!a(O)&&a(g),kt(vt,`btn ${($e=a(g)?"btn-warning":"btn-primary")!=null?$e:""}`),vt.disabled=a(g),kt($t,`btn ${(se=a(g)?"btn-warning":"btn-primary")!=null?se:""}`),$t.disabled=a(g)}),we("click",dt,()=>ae()),we("click",ft,()=>_e()),we("click",Gt,()=>Bt()),we("click",gt,()=>ge()),we("click",vt,()=>lt()),we("click",$t,()=>Us()),d(r,hr),me()}var kd=X("<!> <!>",1);function Pd(r,e){pe(e,!1);const s=xe(),t=()=>fe(f,"$fsrs",s);let n=G(e,"state",8),o=G(e,"api",8);const f=n().fsrs,u={fsrs:{title:"FSRS",help:xi(),url:ve.DeckOptions.fsrs},desiredRetention:{title:Ds(),help:Si(),sched:Ne.FSRS},modelParams:{title:Is(),help:Oi()+`

`+Ri(),sched:Ne.FSRS},rescheduleCardsOnChange:{title:Es(),help:Ai(),sched:Ne.FSRS},computeOptimalRetention:{title:Ls(),help:Ti(),sched:Ne.FSRS}},l=Object.values(u);let g=V(),p=V();function h(v){a(g).show(),a(p).to(v)}ye(),Qe(r,{title:"FSRS",children:(v,I)=>{Xe(v,{slotHost:K,get api(){return o()},children:(C,D)=>{var _=kd(),x=re(_);K(x,{children:(M,U)=>{qe(M,{defaultValue:!1,get value(){return mt(),t()},set value(z){at(f,z)},children:(z,W)=>{ne(z,{$$events:{click:()=>h(Object.keys(u).indexOf("fsrs"))},children:(A,j)=>{St(A,{get title(){return u.fsrs.title}})},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var S=$(x,2);{var E=M=>{_d(M,{get state(){return n()},openHelpModal:U=>h(Object.keys(u).indexOf(U))})};be(S,M=>{t()&&M(E)})}d(C,_)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(v,I)=>{Ze(v,{title:"FSRS",get url(){return ve.DeckOptions.fsrs},slot:"tooltip",get fsrs(){return t()},helpSections:l,$$events:{mount:C=>{m(g,C.detail.modal),m(p,C.detail.carousel)}}})}}}),me()}function bd(r,e){pe(e,!1);let s=G(e,"html",8),t=G(e,"mounted",8);fr(t()),ye();var n=je(),o=re(n);Di(o,s,!1,!1),d(r,n),me()}function xd(r){switch(r){case Ke.Seconds:return"s";case Ke.Minutes:return"m";case Ke.Hours:return"h";case Ke.Days:return"d";default:return""}}function Sd(r){switch(r){case"s":return Ke.Seconds;case"h":return Ke.Hours;case"d":return Ke.Days;default:return Ke.Minutes}}function Od(r){const e=r*60;let s=eu(e);return[Ke.Months,Ke.Years].includes(s)&&(s=Ke.Days),`${Math.round(tu(s,e))}${xd(s)}`}function Rd(r){const e=r.match(/(\d+)(.*)/);if(e){const[s,t,n]=e,o=Sd(n),f=ru(o)*parseInt(t,10);return Math.min(f,2**31)/60}else return 0}function Ad(r){return r.map(Od).join(" ")}function Td(r){return r.split(" ").map(Rd).filter(e=>e)}var Dd=X('<input type="text" class="svelte-f5c9s0">');function Id(r,e){pe(e,!1);let s=G(e,"value",12),t=V();function n(){s(Td(this.value))}ue(()=>Be(s()),()=>{m(t,Ad(s()))}),Fe(),ye();var o=Dd();rt(o),R(()=>gr(o,a(t))),we("blur",o,n),d(r,o),me()}var Ld=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1),Ed=X('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper>',1);function Qs(r,e){let s=G(e,"value",12),t=G(e,"defaultValue",8);var n=Ed(),o=re(n);Te(o,()=>({"--cols":13})),Se(o.lastChild,{children:(f,u)=>{var l=Ld(),g=re(l);Te(g,()=>({"--col-size":7})),ot(g.lastChild,{breakpoint:"xs",children:(h,v)=>{var I=je(),C=re(I);nt(C,e,"default",{}),d(h,I)},$$slots:{default:!0}}),L(g);var p=$(g,2);Te(p,()=>({"--col-size":6})),ot(p.lastChild,{breakpoint:"xs",children:(h,v)=>{ct(h,{children:(I,C)=>{Id(I,{get value(){return s()},set value(D){s(D)},$$legacy:!0})},$$slots:{default:!0,revert:(I,C)=>{At(I,{slot:"revert",get defaultValue(){return t()},get value(){return s()},set value(D){s(D)},$$legacy:!0})}}})},$$slots:{default:!0}}),L(p),d(f,l)},$$slots:{default:!0}}),L(o),d(r,n)}var Md=X("<!> <!> <!> <!> <!> <!>",1);function Nd(r,e){pe(e,!1);const s=xe(),t=()=>fe(u,"$config",s),n=()=>fe(g,"$fsrs",s);let o=G(e,"state",8),f=G(e,"api",24,()=>({}));const u=o().currentConfig,l=o().defaults,g=o().fsrs;let p=V(),h=V();const v={relearningSteps:{title:Ii(),help:Li(),url:ve.DeckOptions.relearningSteps},minimumInterval:{title:Ei(),help:Mi(),url:ve.DeckOptions.minimumInterval,sched:Ne.SM2},leechThreshold:{title:Ni(),help:Vi(),url:ve.Leeches.leeches},leechAction:{title:Fi(),help:Hi(),url:ve.Leeches.waiting}},I=Object.values(v);let C=V(),D=V();function _(S){a(C).show(),a(D).to(S)}ue(()=>(t(),n(),ut),()=>{const S=t().relearnSteps.length?t().relearnSteps[t().relearnSteps.length-1]/60/24:0;m(p,!n()&&S>t().minimumLapseInterval?Bi():""),m(h,n()&&S>=1?Ms():"")}),Fe(),ye();var x=de(()=>ss());Qe(r,{get title(){return a(x)},children:(S,E)=>{Xe(S,{slotHost:K,get api(){return f()},children:(M,U)=>{var z=Md(),W=re(z);K(W,{children:(b,y)=>{Qs(b,{get defaultValue(){return l.relearnSteps},get value(){return t().relearnSteps},set value(N){te(u,k(t).relearnSteps=N,k(t))},children:(N,F)=>{ne(N,{$$events:{click:()=>_(Object.keys(v).indexOf("relearningSteps"))},children:(q,T)=>{ee();var B=Z();R(()=>H(B,v.relearningSteps.title)),d(q,B)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var A=$(W,2);K(A,{children:(b,y)=>{ze(b,{get warning(){return a(h)}})},$$slots:{default:!0}});var j=$(A,2);{var P=b=>{K(b,{children:(y,N)=>{Ve(y,{get defaultValue(){return l.minimumLapseInterval},min:1,get value(){return t().minimumLapseInterval},set value(F){te(u,k(t).minimumLapseInterval=F,k(t))},children:(F,q)=>{ne(F,{$$events:{click:()=>_(Object.keys(v).indexOf("minimumInterval"))},children:(T,B)=>{ee();var J=Z();R(()=>H(J,v.minimumInterval.title)),d(T,J)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}})};be(j,b=>{n()||b(P)})}var w=$(j,2);K(w,{children:(b,y)=>{ze(b,{get warning(){return a(p)}})},$$slots:{default:!0}});var i=$(w,2);K(i,{children:(b,y)=>{Ve(b,{get defaultValue(){return l.leechThreshold},min:1,get value(){return t().leechThreshold},set value(N){te(u,k(t).leechThreshold=N,k(t))},children:(N,F)=>{ne(N,{$$events:{click:()=>_(Object.keys(v).indexOf("leechThreshold"))},children:(q,T)=>{ee();var B=Z();R(()=>H(B,v.leechThreshold.title)),d(q,B)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var O=$(i,2);K(O,{children:(b,y)=>{var N=de(Nc);tt(b,{get defaultValue(){return l.leechAction},get choices(){return a(N)},breakpoint:"md",get value(){return t().leechAction},set value(F){te(u,k(t).leechAction=F,k(t))},children:(F,q)=>{ne(F,{$$events:{click:()=>_(Object.keys(v).indexOf("leechAction"))},children:(T,B)=>{ee();var J=Z();R(()=>H(J,v.leechAction.title)),d(T,J)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}}),d(M,z)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(S,E)=>{var M=de(()=>ss());Ze(S,{get title(){return a(M)},get url(){return ve.DeckOptions.lapses},slot:"tooltip",get fsrs(){return n()},helpSections:I,$$events:{mount:U=>{m(C,U.detail.modal),m(D,U.detail.carousel)}}})}}}),me()}var Vd=X("<!> <!> <!> <!>",1),Fd=X("<!> <!> <!> <!> <!>",1);function Hd(r,e){pe(e,!1);const s=xe(),t=()=>fe(g,"$config",s),n=()=>fe(h,"$fsrs",s),o=V(),f=V();let u=G(e,"state",8),l=G(e,"api",24,()=>({}));const g=u().currentConfig,p=u().defaults,h=u().fsrs;let v=V(),I=V();const C={learningSteps:{title:zi(),help:ji(),url:ve.DeckOptions.learningSteps},graduatingInterval:{title:Gi(),help:Wi(),url:ve.DeckOptions.graduatingInterval,sched:Ne.SM2},easyInterval:{title:qi(),help:Qi(),url:ve.DeckOptions.easyInterval,sched:Ne.SM2},insertionOrder:{title:Ui(),help:Yi(),url:ve.DeckOptions.insertionOrder}},D=Object.values(C);let _=V(),x=V();function S(M){a(_).show(),a(x).to(M)}ue(()=>(t(),n()),()=>{const M=t().learnSteps.length?t().learnSteps[t().learnSteps.length-1]/60/24:0;m(v,M>t().graduatingIntervalGood?Ki():""),m(I,n()&&M>=1?Ms():"")}),ue(()=>(t(),ut),()=>{m(o,t().graduatingIntervalGood>t().graduatingIntervalEasy?Xi():"")}),ue(()=>(t(),ut),()=>{m(f,t().newCardInsertOrder==or.RANDOM?Zi():"")}),Fe(),ye();var E=de(()=>ns());Qe(r,{get title(){return a(E)},children:(M,U)=>{Xe(M,{slotHost:K,get api(){return l()},children:(z,W)=>{var A=Fd(),j=re(A);K(j,{children:(y,N)=>{Qs(y,{get defaultValue(){return p.learnSteps},get value(){return t().learnSteps},set value(F){te(g,k(t).learnSteps=F,k(t))},children:(F,q)=>{ne(F,{$$events:{click:()=>S(Object.keys(C).indexOf("learningSteps"))},children:(T,B)=>{ee();var J=Z();R(()=>H(J,C.learningSteps.title)),d(T,J)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var P=$(j,2);K(P,{children:(y,N)=>{ze(y,{get warning(){return a(I)}})},$$slots:{default:!0}});var w=$(P,2);{var i=y=>{var N=Vd(),F=re(N);K(F,{children:(J,le)=>{Ve(J,{get defaultValue(){return p.graduatingIntervalGood},get value(){return t().graduatingIntervalGood},set value(ae){te(g,k(t).graduatingIntervalGood=ae,k(t))},children:(ae,_e)=>{ne(ae,{$$events:{click:()=>S(Object.keys(C).indexOf("graduatingInterval"))},children:(ge,oe)=>{ee();var Ce=Z();R(()=>H(Ce,C.graduatingInterval.title)),d(ge,Ce)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var q=$(F,2);K(q,{children:(J,le)=>{ze(J,{get warning(){return a(v)}})},$$slots:{default:!0}});var T=$(q,2);K(T,{children:(J,le)=>{Ve(J,{get defaultValue(){return p.graduatingIntervalEasy},get value(){return t().graduatingIntervalEasy},set value(ae){te(g,k(t).graduatingIntervalEasy=ae,k(t))},children:(ae,_e)=>{ne(ae,{$$events:{click:()=>S(Object.keys(C).indexOf("easyInterval"))},children:(ge,oe)=>{ee();var Ce=Z();R(()=>H(Ce,C.easyInterval.title)),d(ge,Ce)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var B=$(T,2);K(B,{children:(J,le)=>{ze(J,{get warning(){return a(o)}})},$$slots:{default:!0}}),d(y,N)};be(w,y=>{n()||y(i)})}var O=$(w,2);K(O,{children:(y,N)=>{var F=de(Vc);tt(y,{get defaultValue(){return p.newCardInsertOrder},get choices(){return a(F)},breakpoint:"md",get value(){return t().newCardInsertOrder},set value(q){te(g,k(t).newCardInsertOrder=q,k(t))},children:(q,T)=>{ne(q,{$$events:{click:()=>S(Object.keys(C).indexOf("insertionOrder"))},children:(B,J)=>{ee();var le=Z();R(()=>H(le,C.insertionOrder.title)),d(B,le)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var b=$(O,2);K(b,{children:(y,N)=>{ze(y,{get warning(){return a(f)}})},$$slots:{default:!0}}),d(z,A)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(M,U)=>{var z=de(()=>ns());Ze(M,{get title(){return a(z)},get url(){return ve.DeckOptions.newCards},slot:"tooltip",helpSections:D,get fsrs(){return n()},$$events:{mount:W=>{m(_,W.detail.modal),m(x,W.detail.carousel)}}})}}}),me()}var Bd=X('<div class="show-timer-switch" style="display: contents;"><!></div>'),zd=X('<div class="show-timer-switch" style="display: contents;"><!></div>'),jd=X("<!> <!> <!> <!>",1);function Gd(r,e){pe(e,!1);const s=xe(),t=()=>fe(u,"$config",s),n=V();let o=G(e,"state",8),f=G(e,"api",8);const u=o().currentConfig,l=o().defaults,g={maximumAnswerSecs:{title:Ji(),help:el()},showAnswerTimer:{title:tl(),help:rl()},stopTimerOnAnswer:{title:sl(),help:nl()}},p=Object.values(g);let h=V(),v=V();function I(D){a(h).show(),a(v).to(D)}ue(()=>(t(),ut),()=>{m(n,t().capAnswerTimeToSecs>600?al():"")}),Fe(),ye();var C=de(()=>as());Qe(r,{get title(){return a(C)},children:(D,_)=>{Xe(D,{slotHost:K,get api(){return f()},children:(x,S)=>{var E=jd(),M=re(E);K(M,{children:(A,j)=>{Ve(A,{get defaultValue(){return l.capAnswerTimeToSecs},min:1,max:7200,get value(){return t().capAnswerTimeToSecs},set value(P){te(u,k(t).capAnswerTimeToSecs=P,k(t))},children:(P,w)=>{ne(P,{$$events:{click:()=>I(Object.keys(g).indexOf("maximumAnswerSecs"))},children:(i,O)=>{ee();var b=Z();R(()=>H(b,g.maximumAnswerSecs.title)),d(i,b)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0})},$$slots:{default:!0}});var U=$(M,2);K(U,{children:(A,j)=>{ze(A,{get warning(){return a(n)}})},$$slots:{default:!0}});var z=$(U,2);K(z,{children:(A,j)=>{var P=Bd(),w=Q(P);qe(w,{get defaultValue(){return l.showTimer},get value(){return t().showTimer},set value(i){te(u,k(t).showTimer=i,k(t))},children:(i,O)=>{ne(i,{$$events:{click:()=>I(Object.keys(g).indexOf("showAnswerTimer"))},children:(b,y)=>{ee();var N=Z();R(()=>H(N,g.showAnswerTimer.title)),d(b,N)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),L(P),d(A,P)},$$slots:{default:!0}});var W=$(z,2);K(W,{children:(A,j)=>{var P=zd(),w=Q(P);qe(w,{get defaultValue(){return l.stopTimerOnAnswer},get value(){return t().stopTimerOnAnswer},set value(i){te(u,k(t).stopTimerOnAnswer=i,k(t))},children:(i,O)=>{ne(i,{$$events:{click:()=>I(Object.keys(g).indexOf("stopTimerOnAnswer"))},children:(b,y)=>{ee();var N=Z();R(()=>H(N,g.stopTimerOnAnswer.title)),d(b,N)},$$slots:{default:!0}})},$$slots:{default:!0},$$legacy:!0}),L(P),d(A,P)},$$slots:{default:!0}}),d(x,E)},$$slots:{default:!0}})},$$slots:{default:!0,tooltip:(D,_)=>{var x=de(()=>as());Ze(D,{get title(){return a(x)},get url(){return ve.DeckOptions.timer},slot:"tooltip",helpSections:p,$$events:{mount:S=>{m(h,S.detail.modal),m(v,S.detail.carousel)}}})}}}),me()}var Wd=X('<tr><td class="svelte-1puqew1"> </td><td colspan="3" class="svelte-1puqew1"><input type="range" list="easy_day_steplist" class="svelte-1puqew1"></td></tr>'),qd=X('<div class="easy-days-settings svelte-1puqew1"><table class="svelte-1puqew1"><thead><tr><th class="svelte-1puqew1"></th><th colspan="3" class="svelte-1puqew1"><div class="header svelte-1puqew1"><span class="svelte-1puqew1"> </span> <span class="svelte-1puqew1"> </span> <span class="svelte-1puqew1"> </span></div></th></tr></thead><tbody></tbody></table></div>'),Qd=X("<!> <!>",1),Ud=X('<datalist id="easy_day_steplist"><option>0.5</option></datalist> <!>',1);function Yd(r,e){pe(e,!1);const s=xe(),t=()=>fe(u,"$config",s),n=V();let o=G(e,"state",8),f=G(e,"api",8);const u=o().currentConfig,l=o().defaults,g=[ol(),il(),ll(),ul(),cl(),dl(),fl()];ue(()=>t(),()=>{t().easyDaysPercentages.length!==7&&te(u,k(t).easyDaysPercentages=l.easyDaysPercentages.slice(),k(t))}),ue(()=>(t(),ut),()=>{m(n,t().easyDaysPercentages.some(I=>I===1)?"":gl())}),Fe(),ye();var p=Ud(),h=$(re(p),2),v=de(()=>ml());Qe(h,{get title(){return a(v)},children:(I,C)=>{Xe(I,{slotHost:K,get api(){return f()},children:(D,_)=>{var x=Qd(),S=re(x);K(S,{children:(M,U)=>{var z=qd(),W=Q(z),A=Q(W),j=Q(A),P=$(Q(j)),w=Q(P),i=Q(w),O=Q(i,!0);R(()=>H(O,vl())),L(i);var b=$(i,2),y=Q(b,!0);R(()=>H(y,$l())),L(b);var N=$(b,2),F=Q(N,!0);R(()=>H(F,pl())),L(N),L(w),L(P),L(j),L(A);var q=$(A);Rt(q,5,()=>g,Ft,(T,B,J)=>{var le=Wd(),ae=Q(le),_e=Q(ae,!0);L(ae);var ge=$(ae),oe=Q(ge);rt(oe),He(oe,"step",.5),He(oe,"max",1),He(oe,"min",0),L(ge),L(le),R(()=>H(_e,a(B))),Dt(oe,()=>t().easyDaysPercentages[J],Ce=>te(u,k(t).easyDaysPercentages[J]=Ce,k(t))),d(T,le)}),L(q),L(W),L(z),d(M,z)},$$slots:{default:!0}});var E=$(S,2);K(E,{children:(M,U)=>{ze(M,{get warning(){return a(n)}})},$$slots:{default:!0}}),d(D,x)},$$slots:{default:!0}})},$$slots:{default:!0}}),d(r,p),me()}var Kd=X("<div><!> <!> <!> <!> <!></div> <div><!> <!> <!> <!> <!> <!> <!></div>",1),Xd=X('<!> <div class="deck-options-page svelte-htbfcn"><svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div>',1);function Zd(r,e){pe(e,!1);const s=xe(),t=()=>fe(o,"$addons",s);let n=G(e,"state",8);const o=n().addonComponents;function f(){return n().currentAuxData}function u(A){at(o,[...t(),A])}function l(A,j){at(o,[...t(),{component:bd,html:A,mounted:j}])}const g={},p={},h={},v={},I={},C={},D={},_={},x={},S={};let E=V();ye();var M=Xd(),U=re(M);nd(U,{get state(){return n()},$$events:{presetchange(...A){var j;(j=a(E))==null||j.apply(this,A)}}});var z=$(U,2),W=Q(z);return Te(W,()=>({"--gutter-inline":"0.25rem","--gutter-block":"0.75rem"})),yl(W.lastChild,{breakpoint:"sm",class:"container-columns",children:(A,j)=>{var P=Kd(),w=re(P),i=Q(w);Se(i,{class:"row-columns",children:(oe,Ce)=>{ld(oe,{get state(){return n()},api:p,get onPresetChange(){return a(E)},set onPresetChange(it){m(E,it)},$$legacy:!0})},$$slots:{default:!0}});var O=$(i,2);Se(O,{class:"row-columns",children:(oe,Ce)=>{Hd(oe,{get state(){return n()},api:h})},$$slots:{default:!0}});var b=$(O,2);Se(b,{class:"row-columns",children:(oe,Ce)=>{Nd(oe,{get state(){return n()},api:v})},$$slots:{default:!0}});var y=$(b,2);Se(y,{class:"row-columns",children:(oe,Ce)=>{cd(oe,{get state(){return n()},api:C})},$$slots:{default:!0}});var N=$(y,2);Se(N,{class:"row-columns",children:(oe,Ce)=>{Pd(oe,{get state(){return n()},api:{}})},$$slots:{default:!0}}),L(w);var F=$(w,2),q=Q(F);Se(q,{class:"row-columns",children:(oe,Ce)=>{Wc(oe,{get state(){return n()},api:I})},$$slots:{default:!0}});var T=$(q,2);Se(T,{class:"row-columns",children:(oe,Ce)=>{Ic(oe,{get state(){return n()},api:_})},$$slots:{default:!0}});var B=$(T,2);Se(B,{class:"row-columns",children:(oe,Ce)=>{Gd(oe,{get state(){return n()},api:D})},$$slots:{default:!0}});var J=$(B,2);Se(J,{class:"row-columns",children:(oe,Ce)=>{jc(oe,{get state(){return n()},api:D})},$$slots:{default:!0}});var le=$(J,2);{var ae=oe=>{Se(oe,{class:"row-columns",children:(Ce,it)=>{Zu(Ce,{get state(){return n()}})},$$slots:{default:!0}})};be(le,oe=>{t().length&&oe(ae)})}var _e=$(le,2);Se(_e,{class:"row-columns",children:(oe,Ce)=>{Yd(oe,{get state(){return n()},api:S})},$$slots:{default:!0}});var ge=$(_e,2);Se(ge,{class:"row-columns",children:(oe,Ce)=>{Tc(oe,{get state(){return n()},api:x})},$$slots:{default:!0}}),L(F),d(A,P)},$$slots:{default:!0}}),L(W),L(z),d(r,M),Ie(e,"auxData",f),Ie(e,"addSvelteAddon",u),Ie(e,"addHtmlAddon",l),Ie(e,"options",g),Ie(e,"dailyLimits",p),Ie(e,"newOptions",h),Ie(e,"lapseOptions",v),Ie(e,"buryOptions",I),Ie(e,"displayOrder",C),Ie(e,"timerOptions",D),Ie(e,"audioOptions",_),Ie(e,"advancedOptions",x),Ie(e,"easyDays",S),me({auxData:f,addSvelteAddon:u,addHtmlAddon:l,options:g,dailyLimits:p,newOptions:h,lapseOptions:v,buryOptions:I,displayOrder:C,timerOptions:D,audioOptions:_,advancedOptions:x,easyDays:S})}function Mf(r,e){pe(e,!1);let s=G(e,"data",8),t=V();globalThis.anki||(globalThis.anki={}),globalThis.anki.deckOptionsPendingChanges=async()=>{await mr(),(!await s().state.isModified()||confirm(hl()))&&Fn({})},fr(()=>{globalThis.$deckOptions=new Promise((n,o)=>{n(a(t))}),s().state.resolveOriginalConfigs(),Hn({})}),ye(),xt(Zd(r,{get state(){return s().state},$$legacy:!0}),n=>m(t,n),()=>a(t)),me()}export{Mf as component,Ef as universal};
