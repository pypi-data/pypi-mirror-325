import{m as ge,V as ne}from"./VTextField-CNfw_aKz.js";import{s as ce,w as X,p as te,aS as ye,a6 as Ve,g as de,a8 as ke,r as K,k as z,c as b,b2 as we,b4 as Z,n as a,F as $,q as D,b5 as be,S as Ce,b7 as oe,v as Pe,bg as ie,aM as Se,b1 as xe}from"./index-Dvn4b3kE.js";import{c as Ae,b as Ie,m as De,h as Te,u as Fe,V as ue,i as se}from"./VCheckboxBtn-B2R62I44.js";import{h as _e,V as Be,f as Re}from"./VMenu-BxZEtUbH.js";import{m as Le,b as Ee,a as Oe}from"./VList-BFxH2oe3.js";import{P as Me,i as fe,k as re,G as Ue,w as ee,j as ve,_ as He,W as qe,a0 as Ke,C as Ne}from"./VListItem-XlHdRn90.js";import{V as $e}from"./VVirtualScroll-DezxvIhI.js";import{b as ze}from"./VChip-BKGA7XXZ.js";function je(e,O){const l=ce(!1);let r;function c(s){cancelAnimationFrame(r),l.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{l.value=!1})})}async function p(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(l.value){const o=X(l,()=>{o(),s()})}else s()})}async function C(s){var T,F;if(s.key==="Tab"&&((T=O.value)==null||T.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const o=(F=e.value)==null?void 0:F.$el;if(!o)return;(s.key==="Home"||s.key==="End")&&o.scrollTo({top:s.key==="Home"?0:o.scrollHeight,behavior:"smooth"}),await p();const y=o.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const i=o.getBoundingClientRect().top;for(const V of y)if(V.getBoundingClientRect().top>=i){V.focus();break}}else{const i=o.getBoundingClientRect().bottom;for(const V of[...y].reverse())if(V.getBoundingClientRect().bottom<=i){V.focus();break}}}return{onScrollPassive:c,onKeydown:C}}const We=te({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:ye,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...Le({itemChildren:!1})},"Select"),Ge=te({...We(),...Ve(ge({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Me({transition:{component:_e}})},"VSelect"),nt=de()({name:"VSelect",props:Ge(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,O){let{slots:l}=O;const{t:r}=ke(),c=K(),p=K(),C=K(),s=z(e,"menu"),o=b({get:()=>s.value,set:t=>{var n;s.value&&!t&&((n=p.value)!=null&&n.Î¨openChildren.size)||(s.value=t)}}),{items:y,transformIn:T,transformOut:F}=Ee(e),i=z(e,"modelValue",[],t=>T(t===null?[null]:we(t)),t=>{const n=F(t);return e.multiple?n:n[0]??null}),V=b(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:i.value.length),M=Ae(e),j=b(()=>i.value.map(t=>t.value)),k=ce(!1),_=b(()=>o.value?e.closeText:e.openText);let P="",B;const S=b(()=>e.hideSelected?y.value.filter(t=>!i.value.some(n=>e.valueComparator(n,t))):y.value),E=b(()=>e.hideNoData&&!S.value.length||M.isReadonly.value||M.isDisabled.value),W=b(()=>{var t;return{...e.menuProps,activatorProps:{...((t=e.menuProps)==null?void 0:t.activatorProps)||{},"aria-haspopup":"listbox"}}}),R=K(),G=je(R,c);function Y(t){e.openOnClear&&(o.value=!0)}function N(){E.value||(o.value=!o.value)}function U(t){oe(t)&&x(t)}function x(t){var w,u;if(!t.key||M.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"," "].includes(t.key)&&(o.value=!0),["Escape","Tab"].includes(t.key)&&(o.value=!1),t.key==="Home"?(w=R.value)==null||w.focus("first"):t.key==="End"&&((u=R.value)==null||u.focus("last"));const n=1e3;if(!oe(t))return;const d=performance.now();d-B>n&&(P=""),P+=t.key.toLowerCase(),B=d;const I=y.value.find(f=>f.title.toLowerCase().startsWith(P));if(I!==void 0){i.value=[I];const f=S.value.indexOf(I);Z&&window.requestAnimationFrame(()=>{var v;f>=0&&((v=C.value)==null||v.scrollToIndex(f))})}}function A(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!t.props.disabled)if(e.multiple){const d=i.value.findIndex(w=>e.valueComparator(w.value,t.value)),I=n??!~d;if(~d){const w=I?[...i.value,t]:[...i.value];w.splice(d,1),i.value=w}else I&&(i.value=[...i.value,t])}else{const d=n!==!1;i.value=d?[t]:[],Pe(()=>{o.value=!1})}}function g(t){var n;(n=R.value)!=null&&n.$el.contains(t.relatedTarget)||(o.value=!1)}function J(){var t;e.eager&&((t=C.value)==null||t.calculateVisibleItems())}function Q(){var t;k.value&&((t=c.value)==null||t.focus())}function H(t){k.value=!0}function me(t){if(t==null)i.value=[];else if(ie(c.value,":autofill")||ie(c.value,":-webkit-autofill")){const n=y.value.find(d=>d.title===t);n&&A(n)}else c.value&&(c.value.value="")}return X(o,()=>{if(!e.hideSelected&&o.value&&i.value.length){const t=S.value.findIndex(n=>i.value.some(d=>e.valueComparator(d.value,n.value)));Z&&window.requestAnimationFrame(()=>{var n;t>=0&&((n=C.value)==null||n.scrollToIndex(t))})}}),X(()=>e.items,(t,n)=>{o.value||k.value&&!n.length&&t.length&&(o.value=!0)}),fe(()=>{const t=!!(e.chips||l.chip),n=!!(!e.hideNoData||S.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),d=i.value.length>0,I=ne.filterProps(e),w=d||!k.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return a(ne,D({ref:c},I,{modelValue:i.value.map(u=>u.props.value).join(", "),"onUpdate:modelValue":me,focused:k.value,"onUpdate:focused":u=>k.value=u,validationValue:i.externalValue,counterValue:V.value,dirty:d,class:["v-select",{"v-select--active-menu":o.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":i.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:w,"onClick:clear":Y,"onMousedown:control":N,onBlur:g,onKeydown:x,"aria-label":r(_.value),title:r(_.value)}),{...l,default:()=>a($,null,[a(Be,D({ref:p,modelValue:o.value,"onUpdate:modelValue":u=>o.value=u,activator:"parent",contentClass:"v-select__content",disabled:E.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:J,onAfterLeave:Q},W.value),{default:()=>[n&&a(Oe,D({ref:R,selected:j.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:u=>u.preventDefault(),onKeydown:U,onFocusin:H,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},G,e.listProps),{default:()=>{var u,f,v;return[(u=l["prepend-item"])==null?void 0:u.call(l),!S.value.length&&!e.hideNoData&&(((f=l["no-data"])==null?void 0:f.call(l))??a(re,{key:"no-data",title:r(e.noDataText)},null)),a($e,{ref:C,renderless:!0,items:S.value},{default:L=>{var ae;let{item:h,index:q,itemRef:m}=L;const le=D(h.props,{ref:m,key:h.value,onClick:()=>A(h,null)});return((ae=l.item)==null?void 0:ae.call(l,{item:h,index:q,props:le}))??a(re,D(le,{role:"option"}),{prepend:he=>{let{isSelected:pe}=he;return a($,null,[e.multiple&&!e.hideSelected?a(Ie,{key:h.value,modelValue:pe,ripple:!1,tabindex:"-1"},null):void 0,h.props.prependAvatar&&a(Ue,{image:h.props.prependAvatar},null),h.props.prependIcon&&a(ee,{icon:h.props.prependIcon},null)])}})}}),(v=l["append-item"])==null?void 0:v.call(l)]}})]}),i.value.map((u,f)=>{function v(m){m.stopPropagation(),m.preventDefault(),A(u,!1)}const L={"onClick:close":v,onKeydown(m){m.key!=="Enter"&&m.key!==" "||(m.preventDefault(),m.stopPropagation(),v(m))},onMousedown(m){m.preventDefault(),m.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},h=t?!!l.chip:!!l.selection,q=h?be(t?l.chip({item:u,index:f,props:L}):l.selection({item:u,index:f})):void 0;if(!(h&&!q))return a("div",{key:u.value,class:"v-select__selection"},[t?l.chip?a(ve,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:u.title}}},{default:()=>[q]}):a(ze,D({key:"chip",closable:e.closableChips,size:"small",text:u.title,disabled:u.props.disabled},L),null):q??a("span",{class:"v-select__selection-text"},[u.title,e.multiple&&f<i.value.length-1&&a("span",{class:"v-select__selection-comma"},[Ce(",")])])])})]),"append-inner":function(){var L;for(var u=arguments.length,f=new Array(u),v=0;v<u;v++)f[v]=arguments[v];return a($,null,[(L=l["append-inner"])==null?void 0:L.call(l,...f),e.menuIcon?a(ee,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Re({isFocused:k,menu:o,select:A},c)}}),Ye=te({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...De(),...Te()},"VSwitch"),ot=de()({name:"VSwitch",inheritAttrs:!1,props:Ye(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,O){let{attrs:l,slots:r}=O;const c=z(e,"indeterminate"),p=z(e,"modelValue"),{loaderClasses:C}=He(e),{isFocused:s,focus:o,blur:y}=Fe(e),T=K(),F=Z&&window.matchMedia("(forced-colors: active)").matches,i=b(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),V=Se(),M=b(()=>e.id||`switch-${V}`);function j(){c.value&&(c.value=!1)}function k(_){var P,B;_.stopPropagation(),_.preventDefault(),(B=(P=T.value)==null?void 0:P.input)==null||B.click()}return fe(()=>{const[_,P]=xe(l),B=ue.filterProps(e),S=se.filterProps(e);return a(ue,D({class:["v-switch",{"v-switch--flat":e.flat},{"v-switch--inset":e.inset},{"v-switch--indeterminate":c.value},C.value,e.class]},_,B,{modelValue:p.value,"onUpdate:modelValue":E=>p.value=E,id:M.value,focused:s.value,style:e.style}),{...r,default:E=>{let{id:W,messagesId:R,isDisabled:G,isReadonly:Y,isValid:N}=E;const U={model:p,isValid:N};return a(se,D({ref:T},S,{modelValue:p.value,"onUpdate:modelValue":[x=>p.value=x,j],id:W.value,"aria-describedby":R.value,type:"checkbox","aria-checked":c.value?"mixed":void 0,disabled:G.value,readonly:Y.value,onFocus:o,onBlur:y},P),{...r,default:x=>{let{backgroundColorClasses:A,backgroundColorStyles:g}=x;return a("div",{class:["v-switch__track",F?void 0:A.value],style:g.value,onClick:k},[r["track-true"]&&a("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](U)]),r["track-false"]&&a("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](U)])])},input:x=>{let{inputNode:A,icon:g,backgroundColorClasses:J,backgroundColorStyles:Q}=x;return a($,null,[A,a("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":g||e.loading},e.inset||F?void 0:J.value],style:e.inset?void 0:Q.value},[r.thumb?a(ve,{defaults:{VIcon:{icon:g,size:"x-small"}}},{default:()=>[r.thumb({...U,icon:g})]}):a(qe,null,{default:()=>[e.loading?a(Ke,{name:"v-switch",active:!0,color:N.value===!1?void 0:i.value},{default:H=>r.loader?r.loader(H):a(Ne,{active:H.isActive,color:H.color,indeterminate:!0,size:"16",width:"2"},null)}):g&&a(ee,{key:String(g),icon:g,size:"x-small"},null)]})])])}})}})}),{}}});export{ot as V,nt as a,We as m,je as u};
