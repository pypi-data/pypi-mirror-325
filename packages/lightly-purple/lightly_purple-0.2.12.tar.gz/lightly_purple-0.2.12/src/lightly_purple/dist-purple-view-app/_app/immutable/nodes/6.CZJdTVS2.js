import{c as ce}from"../chunks/dataset.DUSx8dem.js";import{e as q,a as o,t as m,s as ve,b as _e,g as Z}from"../chunks/legacy.BFrtrUTY.js";import{j as ee,f as B,p as I,S as J,t as S,a as j,c,r as d,g as v,e as N,s as y,b as fe,d as me,aG as te}from"../chunks/index.Chpxrmiw.js";import{l as ue,s as ge,p as G,b as D,r as L,i as R}from"../chunks/index-client.D0CpKjVb.js";import{c as T}from"../chunks/svelte-component.lYzHvHaE.js";import{j as he,d as O,f as M,l as F,b as pe,g as be,e as ae,i as re,s as se,a as le}from"../chunks/index.svelte_svelte_type_style_lang.oHDPoyLK.js";import{I as xe}from"../chunks/checkbox.DHBbG9-O.js";import{s as Y}from"../chunks/render.Ar8LJN-r.js";import{S as ye}from"../chunks/index.C_KQ6kbL.js";import{u as Se}from"../chunks/useGlobalStorage.B7aqgx7w.js";import{S as $e}from"../chunks/SelectableBox.DAf3j8HI.js";function ne(r,e){var a=r.__className,s=we(e);ee&&r.className===s?r.__className=s:(a!==s||ee&&r.className!==s)&&(e==null?r.removeAttribute("class"):r.className=s,r.__className=s)}function we(r){return r??""}function Pe(r,e){const a=ue(e,["children","$$slots","$$events","$$legacy"]);xe(r,ge({name:"chevron-right"},()=>a,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(t,l)=>{var n=q(),i=B(n);he(i,e,"default",{},null),o(t,n)},$$slots:{default:!0}}))}const ke=async({sample_id:r})=>{const e={data:void 0,error:void 0};try{const a=await ce.GET("/api/samples/{sample_id}",{params:{path:{sample_id:r}}});if(a.error)throw new Error(JSON.stringify(a.error,null,2));if(!a.data)throw new Error("No data");e.data=a.data}catch(a){e.error="Error loading sample: "+String(a)}return e},Ne=async({params:r})=>{const{sample_id:e}=r,{data:a,error:s}=await ke({sample_id:e});return{sample:a,error:s}},lt=Object.freeze(Object.defineProperty({__proto__:null,load:Ne},Symbol.toStringTag,{value:"Module"}));var Be=m("<nav><!></nav>");function Ie(r,e){I(e,!0);let a=G(e,"ref",15),s=L(e,["$$slots","$$events","$$legacy","ref","class","children"]);var t=Be();let l;var n=c(t);O(n,()=>e.children??J),d(t),D(t,i=>a(i),()=>a()),S(()=>l=M(t,l,{class:e.class,"aria-label":"breadcrumb",...s})),o(r,t),j()}var je=m("<li><!></li>");function oe(r,e){I(e,!0);let a=G(e,"ref",15,null),s=L(e,["$$slots","$$events","$$legacy","ref","class","children"]);var t=je();let l;var n=c(t);O(n,()=>e.children??J),d(t),D(t,i=>a(i),()=>a()),S(()=>l=M(t,l,{class:F("inline-flex items-center gap-1.5",e.class),...s})),o(r,t),j()}var ze=m("<li><!></li>");function Ae(r,e){I(e,!0);let a=G(e,"ref",15,null),s=L(e,["$$slots","$$events","$$legacy","ref","class","children"]);var t=ze();let l;var n=c(t);R(n,()=>e.children,i=>{var $=q(),b=B($);O(b,()=>e.children??J),o(i,$)},i=>{Pe(i,{})}),d(t),D(t,i=>a(i),()=>a()),S(()=>l=M(t,l,{role:"presentation","aria-hidden":"true",class:F("[&>svg]:size-3.5",e.class),...s})),o(r,t),j()}var Ce=m("<a><!></a>");function Ee(r,e){I(e,!0);let a=G(e,"ref",15,null),s=G(e,"href",3,void 0),t=L(e,["$$slots","$$events","$$legacy","ref","class","href","child","children"]);const l=N(()=>({class:F("hover:text-foreground transition-colors",e.class),href:s(),...t})),n=pe(),[i,$]=n;var b=q(),w=B(b);R(w,()=>e.child,z=>{var u=q(),p=B(u);O(p,()=>e.child,()=>({props:v(l)})),o(z,u)},z=>{var u=Ce();const p=N(()=>$({...v(l)},[{attribute_name:"href",lang_attribute_name:"hreflang"}]));let P;var W=c(u);O(W,()=>e.children??J),d(u),D(u,H=>a(H),()=>a()),S(()=>P=M(u,P,{...v(p)})),o(z,u)}),o(r,b),j()}var Te=m("<ol><!></ol>");function qe(r,e){I(e,!0);let a=G(e,"ref",15,null),s=L(e,["$$slots","$$events","$$legacy","ref","class","children"]);var t=Te();let l;var n=c(t);O(n,()=>e.children??J),d(t),D(t,i=>a(i),()=>a()),S(()=>l=M(t,l,{class:F("text-muted-foreground flex flex-wrap items-center gap-1.5 break-words text-sm sm:gap-2.5",e.class),...s})),o(r,t),j()}var Ge=m("<span><!></span>");function Oe(r,e){I(e,!0);let a=G(e,"ref",15,null),s=L(e,["$$slots","$$events","$$legacy","ref","class","children"]);var t=Ge();let l;var n=c(t);O(n,()=>e.children??J),d(t),D(t,i=>a(i),()=>a()),S(()=>l=M(t,l,{role:"link","aria-disabled":"true","aria-current":"page",class:F("text-foreground font-normal",e.class),...s})),o(r,t),j()}var Fe=m("<div> </div>"),De=m('<div><h2 class="mb-2 px-4 text-lg font-semibold tracking-tight">Annotations</h2> <div class="space-y-3 px-4"></div></div>'),He=m("<div> </div>"),Je=m('<div><h2 class="mb-2 px-4 text-lg font-semibold tracking-tight">Tags</h2> <div class="space-y-3 px-4"></div></div>'),Le=m('<div class="flex h-full flex-col space-y-4"><h2 class="text-2xl font-semibold tracking-tight"> </h2> <div class="flex flex-1 flex-grow"><div class="w-9/12"><div class="sample flex1 relative h-full overflow-hidden rounded-md border border-gray-200 align-top svelte-8g3qhd"><!> <!></div></div> <div class="w-3/12 space-y-4"><!> <!></div></div></div>');function Me(r,e){I(e,!0);const a=ve(),s=()=>_e(i,"$selectedSampleIds",a);let t=me(null);const l=e.sample.tags,n=be(e.sample.annotations),{selectedSampleIds:i,toggleSampleSelection:$}=Se();var b=Le(),w=c(b),z=c(w);d(w);var u=y(w,2),p=c(u),P=c(p),W=c(P),H=N(()=>s().has(e.sample.sample_id));$e(W,{onSelect:()=>$(e.sample.sample_id),get isSelected(){return v(H)}});var U=y(W,2);ye(U,{get sample(){return e.sample}}),d(P),d(p),D(p,_=>fe(t,_),()=>v(t));var K=y(p,2),V=c(K);R(V,()=>n.size>0,_=>{var f=De(),C=y(c(f),2);ae(C,21,()=>n,re,(x,k,g)=>{var h=Fe();const E=N(()=>le(g).color??""),X=N(()=>le(g).contrastColor??""),Q=N(()=>`background-color: ${v(E)}; color: ${v(X)};`),ie=N(()=>`${F("annotation rounded-lg bg-orange-100 px-4 py-2 text-sm font-semibold")??""} svelte-8g3qhd`);var de=c(h);d(h),S(()=>{se(h,"style",v(Q)),ne(h,v(ie)),Y(de,`${v(k)[0]??""} (${v(k)[1]??""})`)}),o(x,h)}),d(C),d(f),o(_,f)});var A=y(V,2);R(A,()=>l.length>0,_=>{var f=Je(),C=y(c(f),2);ae(C,21,()=>l,re,(x,k)=>{var g=He();const h=N(()=>`${F("rounded-lg border bg-gray-100 px-4 py-2 text-sm font-semibold")??""} svelte-8g3qhd`);var E=c(g,!0);d(g),S(()=>{ne(g,v(h)),Y(E,v(k).name)}),o(x,g)}),d(C),d(f),o(_,f)}),d(K),d(u),d(b),S(()=>{var _,f;Y(z,`Name: "${e.sample.file_name??""}"`),se(P,"style",`--sample-width: ${(((_=v(t))==null?void 0:_.clientWidth)||800)??""}px; --sample-height: ${(((f=v(t))==null?void 0:f.clientHeight)||600)??""}px;`)}),o(r,b),j()}var We=m("<!> <!> <!>",1),Ke=m('<h1 class="text-2xl font-bold">Sample not found</h1>'),Qe=m('<div class="flex h-full flex-col space-y-4 p-4"><!> <div class="h-full"><!></div></div>');function nt(r,e){I(e,!0);var a=Qe(),s=c(a);T(s,()=>Ie,(n,i)=>{i(n,{children:($,b)=>{var w=q(),z=B(w);T(z,()=>qe,(u,p)=>{p(u,{children:(P,W)=>{var H=We(),U=B(H);T(U,()=>oe,(A,_)=>{_(A,{children:(f,C)=>{var x=q(),k=B(x);T(k,()=>Ee,(g,h)=>{h(g,{href:"/",children:(E,X)=>{te();var Q=Z("Samples");o(E,Q)},$$slots:{default:!0}})}),o(f,x)},$$slots:{default:!0}})});var K=y(U,2);T(K,()=>Ae,(A,_)=>{_(A,{})});var V=y(K,2);T(V,()=>oe,(A,_)=>{_(A,{children:(f,C)=>{var x=q(),k=B(x);T(k,()=>Oe,(g,h)=>{h(g,{children:(E,X)=>{te();var Q=Z("Sample details");o(E,Q)},$$slots:{default:!0}})}),o(f,x)},$$slots:{default:!0}})}),o(P,H)},$$slots:{default:!0}})}),o($,w)},$$slots:{default:!0}})});var t=y(s,2),l=c(t);R(l,()=>e.data.sample,n=>{Me(n,{get sample(){return e.data.sample}})},n=>{var i=Ke();o(n,i)}),d(t),d(a),o(r,a),j()}export{nt as component,lt as universal};
