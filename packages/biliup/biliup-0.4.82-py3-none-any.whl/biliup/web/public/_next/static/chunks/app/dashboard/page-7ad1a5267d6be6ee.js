(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{70171:function(e,l,t){Promise.resolve().then(t.bind(t,40130))},40130:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return I}});var i=t(57437),a=t(2265),r=t(88797),s=t(94731),n=t(62146),o=t(87565);let d=(0,o.A)(function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 12a11 11 0 1 1 22 0 11 11 0 0 1-22 0Zm11-8a8 8 0 0 0-8 8h4.71A4.29 4.29 0 0 1 13 16.29c0 .39-.32.71-.71.71H10c-.5 0-.91.5-.91 1.5S10 20 10.5 20H12a8 8 0 0 0 7.9-6.77c-.69.49-1.51.77-2.4.77a4.51 4.51 0 0 1-4.13-3H10c-.55 0-1.01-.45-.91-1 .51-2.81 2.41-4 4.78-3.95.19-.29.4-.55.64-.8.29-.27.24-.78-.14-.9A8 8 0 0 0 12 4Z",fill:"currentColor"}))},"globe");var c=t(85323),h=t(97500),u=t(65582),x=t(21659),f=t(48019),p=t.n(f);let m=(0,o.A)(function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.84 8.06A6.5 6.5 0 1 0 5.18 11 4.5 4.5 0 0 0 5.5 20H17a6 6 0 0 0 .84-11.94Zm-6.16 9.67a.5.5 0 0 0 .64 0l5.15-4.29a.25.25 0 0 0-.16-.44H14V9.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5V13H6.7c-.24 0-.35.3-.17.44l5.15 4.3Z",fill:"currentColor"}))},"download");var b=t(94467),g=()=>{let e=(0,r.XQ)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:p().frameDownload,children:[(0,i.jsxs)("div",{className:p().frameInside,children:[(0,i.jsxs)("div",{className:p().group,children:[(0,i.jsx)("div",{className:p().buttonOnlyIconSecond}),(0,i.jsx)("div",{className:p().lineStory,style:{color:"var(--semi-color-bg-0)",display:"flex"},children:(0,i.jsx)(m,{size:"small"})})]}),(0,i.jsx)("p",{className:p().meegoSharedWebWorkIt,children:"全局下载设置"})]}),(0,i.jsxs)(r.Form.Select,{label:"下载插件（downloader）",field:"downloader",placeholder:"stream-gears（默认）",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["选择全局默认的下载插件, 可选:",(0,i.jsx)("br",{}),"1. streamlink（仅限 hls 流，不支持的流将回退到 ffmpeg。需安装 FFmpeg）",(0,i.jsx)("br",{}),"2. ffmpeg（需安装 FFmpeg）",(0,i.jsx)("br",{}),"3. stream-gears（默认。防 FLV 流花屏）",(0,i.jsx)("br",{}),"4. sync-downloader（流式边录边传，需先为主播设定上传模板。不受 pool2/threads/segment_time 控制，默认 3 线程上传，请确保上传带宽充足。需安装 FFmpeg）"]}),style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"streamlink",children:"streamlink（hls多线程下载）"}),(0,i.jsx)(r.Ph.Option,{value:"ffmpeg",children:"ffmpeg"}),(0,i.jsx)(r.Ph.Option,{value:"stream-gears",children:"stream-gears（默认）"}),(0,i.jsx)(r.Ph.Option,{value:"sync-downloader",children:"sync-downloader（边录边传）"})]}),"sync-downloader"===e.getValue("downloader")?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.Form.Input,{field:"sync_save_dir",label:"边录边传额外保存本地目录（sync_save_dir）",placeholder:"",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,disabled:"sync-downloader"!==e.getValue("downloader"),rules:[{pattern:/^[^*|?"<>]*$/,message:'路径中不能包含Windows不允许的字符 * | ? " < >'},{pattern:/^(?![a-zA-Z]：).*$/,message:"以字母开头时，第二个字符不能是中文冒号"},{pattern:/^[^:]*$|^[a-zA-Z]:[\/\\][^:]*$/,message:"冒号只能出现在第二个字符位置，且后面必须连接斜杠"},{pattern:/^(?!.*?\.{3,})(?!.*?\.{2}(?![\/\\])).*$/,message:"点号最多只能连续出现两次，且后面必须连接斜杠"},{pattern:/^(?!.*\/\\)(?!.*\\\/).*$/,message:"不允许连接正反斜杠"},{pattern:/^(?!.*([\\]{3,}|[\/]{2,})).*$/,message:"反斜杠最多只能连续出现两次，正斜杠最多只能连续出现一次"}],stopValidateWithError:!0})}):null,(0,i.jsx)(r.Form.InputNumber,{label:"视频分段大小（file_size）",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["录像单文件大小限制，超过此大小触发文件分割。下载回放时无法使用。",(0,i.jsx)("br",{}),"单位：Byte，示例：4294967296（4GB）"]}),field:"file_size",placeholder:"",suffix:"Byte",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"segment_time",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["录像单文件时间限制，超过此时长触发文件分割。",(0,i.jsx)("br",{}),"格式：'00:00:00'（时:分:秒）"]}),label:"视频分段时长（segment_time）",placeholder:"01:00:00",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,rules:[{pattern:/^[^：]*$/,message:"请使用英文冒号"},{pattern:/^[0-9:]*$/,message:"只接受数字和英文冒号"},{pattern:/^[0-9]{2,4}:[0-5][0-9]:[0-5][0-9]$/,message:"分或秒不符合规范"}],stopValidateWithError:!0}),(0,i.jsx)(r.Form.Input,{field:"filename_prefix",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["全局文件名模板。可被单个主播文件名模板覆盖。可用变量如下",(0,i.jsx)("br",{}),"{","streamer","}",": 录播备注（必须保留）",(0,i.jsx)("span",{style:{margin:"0 20px"}}),"{","title","}",": 直播标题",(0,i.jsx)("br",{}),"%Y-%m-%d %H_%M_%S: 开始录制时的 年-月-日 时_分_秒"]}),label:"文件名模板（filename_prefix）",placeholder:"{streamer}%Y-%m-%dT%H_%M_%S",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0}),(0,i.jsx)(r.Form.Switch,{field:"segment_processor_parallel",extraText:(0,i.jsx)("div",{style:{fontSize:"14px"},children:"开启后无法保证分段后处理先后执行顺序"}),label:"视频分段后处理并行（segment_processor_parallel)",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.InputNumber,{field:"filtering_threshold",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["小于此大小的视频文件将会被过滤删除。",(0,i.jsx)("br",{}),"单位：MB"]}),label:"碎片过滤（filtering_threshold）",suffix:"MB",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0}),(0,i.jsx)(r.Form.InputNumber,{field:"delay",label:"下播延迟检测（delay)",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["当检测到主播下播后，延迟一定时间再次检测确认，避免特殊情况提早启动上传导致分稿件。",(0,i.jsx)("br",{}),"单位：秒",(0,i.jsx)("br",{}),"默认延迟时间为 0 秒"]}),placeholder:"0",suffix:"s",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0}),(0,i.jsx)(r.Form.InputNumber,{field:"event_loop_interval",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["单个主播检测间隔时间，单位：秒。比如虎牙有10个主播，每个主播会间隔10秒检测",(0,i.jsx)("br",{}),"单位：秒"]}),label:"直播事件检测间隔（event_loop_interval）",suffix:"s",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0}),(0,i.jsx)(r.Form.InputNumber,{field:"pool1_size",extraText:"负责下载事件的线程池大小，用于限制最大同时录制数。",label:"下载线程池大小（pool1_size）",placeholder:5,style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0})]}),(0,i.jsx)(r.T,{}),(0,i.jsxs)("div",{className:p().frameUpload,children:[(0,i.jsxs)("div",{className:p().frameInside,children:[(0,i.jsxs)("div",{className:p().group,children:[(0,i.jsx)("div",{className:p().buttonOnlyIconSecond}),(0,i.jsx)("div",{className:p().lineStory,style:{color:"var(--semi-color-bg-0)",display:"flex"},children:(0,i.jsx)(b.Z,{size:"small"})})]}),(0,i.jsx)("p",{className:p().meegoSharedWebWorkIt,children:"全局上传设置"})]}),(0,i.jsxs)(r.Form.Select,{field:"submit_api",label:"提交接口（submit_api）",extraText:"B站投稿提交接口，默认为自动选择。",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Form.Select.Option,{value:"web",children:"网页端（web）"}),(0,i.jsx)(r.Form.Select.Option,{value:"client",children:"客户端（client）"})]}),(0,i.jsxs)(r.Form.Select,{field:"uploader",label:"上传插件（uploader）",extraText:"全局默认上传插件选择。",placeholder:"biliup-rs",noLabel:!0,style:{width:"100%",display:"none"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,initValue:"Noop",children:[(0,i.jsx)(r.Form.Select.Option,{value:"bili_web",children:"bili_web"}),(0,i.jsx)(r.Form.Select.Option,{value:"biliup-rs",children:"biliup-rs"}),(0,i.jsx)(r.Form.Select.Option,{value:"Noop",children:"Noop（即不上传，但会执行后处理）"})]}),(0,i.jsxs)(r.Form.Select,{field:"lines",label:"上传线路（lines）",extraText:"b站上传线路选择，默认为自动模式，可手动切换为bda, bda2, ws, qn, bldsa, tx, txa",placeholder:"AUTO（自动，默认）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Form.Select.Option,{value:"AUTO",children:"AUTO（自动，默认）"}),(0,i.jsx)(r.Form.Select.Option,{value:"alia",children:"alia（海外-阿里云）"}),(0,i.jsx)(r.Form.Select.Option,{value:"bda2",children:"bda2（大陆-百度云）"}),(0,i.jsx)(r.Form.Select.Option,{value:"bldsa",children:"bldsa（大陆-B站自建）"}),(0,i.jsx)(r.Form.Select.Option,{value:"qn",children:"qn（全球-七牛）"}),(0,i.jsx)(r.Form.Select.Option,{value:"tx",children:"tx（大陆-腾讯云）"}),(0,i.jsx)(r.Form.Select.Option,{value:"txa",children:"txa（海外-腾讯云）"})]}),(0,i.jsx)(r.Form.InputNumber,{field:"threads",placeholder:3,extraText:"单文件并发上传数,未达到带宽上限时,增大此值可提高上传速度(不要设置过大,部分线路限制为8,如速度不佳优先调整上传线路)",label:"上传并发（threads）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0}),(0,i.jsx)(r.Form.InputNumber,{field:"pool2_size",extraText:(0,i.jsx)("div",{style:{fontSize:"14px"},children:"负责上传事件的线程池大小。根据实际带宽设置。"}),placeholder:3,label:"上传线程池大小（pool2_size）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Switch,{field:"use_live_cover",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["使用直播间封面作为投稿封面。此封面优先级低于单个主播指定的自定义封面，保存于cover文件夹下，上传后自动删除。",(0,i.jsx)("br",{}),"目前支持平台：哔哩哔哩，克拉克拉，Twitch，YouTube。"]}),label:"使用直播间封面作为投稿封面（use_live_cover)",fieldStyle:{alignSelf:"stretch",padding:0}})]})]})},y=e=>(e.entity,e.list,(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.UO.Panel,{header:"用户 Cookie",itemKey:"user",children:[(0,i.jsx)(r.Form.Input,{field:"user.kuaishou_cookie",extraText:(0,i.jsx)("div",{className:"semi-form-field-extra",children:"填入 Cookie 降低风控风险。 需要 client_key,kuaishou.live.bfb1s,kuaishou.live.web_st,kuaishou.live.web_ph,userId 的值， 请不要将所有 Cookie 填入。"}),placeholder:"client_key=none;kuaishou.live.bfb1s=none;kuaishou.live.web_st=none;kuaishou.live.web_ph=none;userId=none;",label:"快手 Cookie（kuaishou_cookie）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"user.niconico-email",extraText:"与您的 Niconico 账户相关联的电子邮件或电话号码。",label:"ニコニコ動画 用户名（niconico-email）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"user.niconico-password",mode:"password",extraText:"您的 Niconico 账户的密码。",label:"ニコニコ動画 密码（niconico-password）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"user.niconico-user-session",extraText:"用户会话令牌的值，可作为提供密码的替代方法。",label:"ニコニコ動画 用户会话令牌（niconico-user-session）",mode:"password",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"user.niconico-purge-credentials",extraText:"清除缓存的 Niconico 凭证，以启动一个新的会话并重新认证。",label:"ニコニコ動画 清除凭证缓存（niconico-purge-credentials）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"user.afreecatv_username",extraText:"您的 AfreecaTV 用户名。",label:"AfreecaTV 用户名（afreecatv_username）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"user.afreecatv_password",extraText:"您的 AfreecaTV 密码。",label:"AfreecaTV 密码（afreecatv_password）",mode:"password",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}})]})})),_=e=>{e.entity;let l=e.list;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.UO.Panel,{header:"哔哩哔哩",itemKey:"bilibili",children:[(0,i.jsxs)(r.Form.Select,{field:"bili_qn",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["哔哩哔哩自选画质。默认原画。",(0,i.jsx)("br",{}),"刚开播如果无选择的画质，会先录制原画， 后续视频分段时，如果下载插件为非 stream-gears，会切换到选择的画质。",(0,i.jsx)("br",{}),"如果选择的画质没有提供，会使用次档画质中最接近的画质，免登录原画会使用最高画质。"]}),label:"画质等级（bili_qn）",placeholder:"10000（原画）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:3e4,children:"30000（杜比）"}),(0,i.jsx)(r.Ph.Option,{value:2e4,children:"20000（4k）"}),(0,i.jsx)(r.Ph.Option,{value:1e4,children:"10000（原画）"}),(0,i.jsx)(r.Ph.Option,{value:401,children:"401（蓝光-杜比）"}),(0,i.jsx)(r.Ph.Option,{value:400,children:"400（蓝光）"}),(0,i.jsx)(r.Ph.Option,{value:250,children:"250（超清）"}),(0,i.jsx)(r.Ph.Option,{value:150,children:"150（高清）"}),(0,i.jsx)(r.Ph.Option,{value:80,children:"80（流畅）"}),(0,i.jsx)(r.Ph.Option,{value:0,children:"0（最低画质）"})]}),(0,i.jsx)(r.Form.Switch,{field:"bilibili_danmaku",extraText:"录制哔哩哔哩弹幕，目前不支持视频按时长分段下的弹幕文件自动分段。仅限下载插件为非 stream-gears 时生效，默认关闭。",label:"录制弹幕（bilibili_danmaku）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Switch,{field:"bilibili_danmaku_detail",extraText:"录制的弹幕信息中包含发送者昵称、用户UID，同时保存醒目留言、上舰、礼物信息。仅 bilibili_danmaku 开启时生效，默认关闭（实验性质：可能与弹幕转ass工具不兼容）",label:"录制详细弹幕（bilibili_danmaku_detail）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"user.bili_cookie",extraText:(0,i.jsxs)("div",{className:"semi-form-field-extra",children:["根据格式填入cookie。推荐使用「",(0,i.jsx)("a",{href:"https://github.com/biliup/biliup-rs",title:"「biliup-rs」 Github 项目主页",target:"_blank",children:"biliup-rs"}),"」来获取。",(0,i.jsx)("br",{})]}),placeholder:"SESSDATA=none;bili_jct=none;DedeUserID__ckMd5=none;DedeUserID=none;",label:"哔哩哔哩 Cookie 文本（bili_cookie）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Select,{field:"user.bili_cookie_file",label:"哔哩哔哩 Cookie 文件（bili_cookie_file）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},optionList:l,extraText:"只支持「biliup-rs」生成的文件。与 Cookie 文本 同时存在时，优先使用文件。",showClear:!0}),(0,i.jsxs)(r.Form.Select,{field:"bili_protocol",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["哔哩哔哩直播流协议。",(0,i.jsx)("br",{}),"该设置项遵循 hls_fmp4 转码等待时间（bili_hls_transcode_timeout）。",(0,i.jsx)("br",{}),"stream-gears 尚未支持 hls_fmp4，请切换为 ffmpeg 或 streamlink 来录制。"]}),label:"直播流协议（bili_protocol）",placeholder:"stream（flv，默认）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"stream",children:"stream（flv，默认）"}),(0,i.jsx)(r.Ph.Option,{value:"hls_fmp4",children:"hls_fmp4"})]}),(0,i.jsx)(r.Form.Input,{field:"bili_liveapi",extraText:"自定义哔哩哔哩直播主要 API，用于获取指定区域（大陆或海外）的直播流链接，默认使用官方 API。",label:"哔哩哔哩直播主要API（bili_liveapi）",style:{width:"100%"},placeholder:"https://api.live.bilibili.com",fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,rules:[{pattern:/^https?:\/\/(?:[\w-]+(?::[\w-]+)?@)?([\w-]+\.)+[\w-]+(?::\d+)?(?:\/[\w-/.]*)?$/,message:"请输入有效的API地址，必须以 http:// 或 https:// 开头"}]}),(0,i.jsx)(r.Form.Input,{field:"bili_fallback_api",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["上方的主要 API 不可用或受到区域限制时，回退使用的 API。默认使用官方 API。",(0,i.jsx)("br",{}),"海外机器玩法：哔哩哔哩直播API（bili_liveapi）设置为能获取大陆直播流的 API，并将哔哩哔哩直播回退API（bili_fallback_api）设置为官方 API，然后优选「fmp4」流并使用「streamlink」下载插件（downloader）， 最后设置优选「cn-gotcha204,ov-gotcha05」两个节点。 这样大主播可以使用 cn204 的 fmp4 流稳定录制。"]}),label:"哔哩哔哩直播回退API（bili_fallback_api）",style:{width:"100%"},placeholder:"https://api.live.bilibili.com",fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,rules:[{pattern:/^https?:\/\/(?:[\w-]+(?::[\w-]+)?@)?([\w-]+\.)+[\w-]+(?::\d+)?(?:\/[\w-/.]*)?$/,message:"请输入有效的API地址，必须以 http:// 或 https:// 开头"}]}),(0,i.jsx)(r.Form.TagInput,{field:"bili_cdn",extraText:"哔哩哔哩直播CDN，默认无。",label:"直播CDN（bili_cdn）",placeholder:"例: cn-gotcha204,ov-gotcha05。用英文逗号分隔以批量输入，失焦/Enter保存",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,rules:[{validator:(e,l)=>Array.isArray(l=null!=l?l:[])&&l.every(e=>/^(cn|ov)-gotcha\d+$/.test(e)),message:"例: cn-gotcha204,ov-gotcha05"}]}),(0,i.jsx)(r.Form.Switch,{field:"bili_cdn_fallback",extraText:"CDN 回退（Fallback），默认为关闭。例如海外机器优选 ov05 之后，如果 ov05 流一直无法下载，将会自动回退到 ov07 进行下载。仅限相同流协议。",label:"CDN 回退（bili_cdn_fallback）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Switch,{field:"bili_anonymous_origin",extraText:"使用自定义API获取 master.m3u8 内的 hls_fmp4 原画流，无法录制特殊直播。默认关闭。",label:"免登录原画（bili_anonymous_origin）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Switch,{field:"bili_ov2cn",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["将海外cdn域名替换为大陆cdn域名，默认关闭。",(0,i.jsx)("br",{}),"例：将海外的 ov-gotcha07 替换为 cn-gotcha07，直播 cdn 处仍然填写 ov-gotcha07。"]}),label:"海外转大陆（bili_ov2cn）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Switch,{field:"bili_force_source",extraText:"移除streamName的二压小尾巴（仅限 hls_fmp4 流，且画质等级 bili_qn >= 10000），默认为关闭，不保证可用性。",label:"强制获取真原画（bili_force_source）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Switch,{field:"bili_normalize_cn204",extraText:"去除 cn-gotcha204 后面的小尾巴（-[1-4]）",label:"标准化 CN204（bili_normalize_cn204）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.InputNumber,{field:"bili_hls_transcode_timeout",extraText:"hls_fmp4 转码等待时间，超时后回退到 flv 流。默认 60 秒。",label:"hls_fmp4 转码等待时间（bili_hls_transcode_timeout）",style:{width:"100%"},placeholder:"60",fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0}),(0,i.jsx)(r.Form.TagInput,{allowDuplicates:!1,addOnBlur:!0,separator:",",field:"bili_replace_cn01",extraText:"该功能在 强制获取真原画 之前生效",label:"替换 CN01 sid (bili_replace_cn01)",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,placeholder:"可用英文逗号分隔以批量输入 sid，失焦/Enter 保存",rules:[{validator:(e,l)=>Array.isArray(l=null!=l?l:[])&&l.every(e=>/^cn-[a-z]{2,6}-[a-z]{2,4}(-[0-9]{2}){2}$/.test(e)),message:"例: cn-hjlheb-cu-01-01,cn-tj-ct-01-01"}]})]})})},j=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.UO.Panel,{header:"CC",itemKey:"cc",children:(0,i.jsxs)(r.Form.Select,{field:"cc_protocol",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["CC直播流协议。",(0,i.jsx)("br",{}),"如果录制经常分段，尝试切换。"]}),label:"直播流协议（cc_protocol）",placeholder:"hls（默认）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"flv",children:"flv"}),(0,i.jsx)(r.Ph.Option,{value:"hls",children:"hls（默认）"})]})})}),w=e=>(e.entity,(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.UO.Panel,{header:"抖音",itemKey:"douyin",children:[(0,i.jsxs)(r.Form.Select,{field:"douyin_quality",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["抖音自选画质，没有选中的画质则会自动选择相近的画质优先低清晰度。",(0,i.jsx)("br",{}),"刚开播可能没有除了原画之外的画质，会先录制原画。当使用 ffmpeg 或 streamlink 时，后续视频分段将会录制设置的画质。"]}),label:"画质等级（douyin_quality）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"origin",children:"原画（origin）"}),(0,i.jsx)(r.Ph.Option,{value:"uhd",children:"蓝光（uhd）"}),(0,i.jsx)(r.Ph.Option,{value:"hd",children:"超清（hd）"}),(0,i.jsx)(r.Ph.Option,{value:"sd",children:"高清（sd）"}),(0,i.jsx)(r.Ph.Option,{value:"ld",children:"标清（ld）"}),(0,i.jsx)(r.Ph.Option,{value:"md",children:"流畅（md）"})]}),(0,i.jsx)(r.Form.Switch,{field:"douyin_danmaku",extraText:"录制抖音弹幕，默认关闭。",label:"录制弹幕（douyin_danmaku）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"user.douyin_cookie",extraText:(0,i.jsxs)("div",{className:"semi-form-field-extra",children:["如需要录制抖音 www.douyin.com/user/ 类型链接，或遭到风控，请在此填入 Cookie。",(0,i.jsx)("br",{}),"需要__ac_nonce、__ac_signature、sessionid的值，请不要将所有 Cookie 填入。"]}),placeholder:"__ac_nonce=none;__ac_signature=none;sessionid=none;",label:"抖音 Cookie（douyin_cookie）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0}),(0,i.jsxs)(r.Form.Select,{field:"douyin_protocol",extraText:"hls 仅供测试，请谨慎切换。",label:"直播流协议（douyin_protocol）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"flv",children:"flv（默认）"}),(0,i.jsx)(r.Ph.Option,{value:"hls",children:"hls"})]}),(0,i.jsx)(r.Form.Switch,{field:"douyin_double_screen",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["是否录制抖音双屏直播的原像素拼接流，默认关闭。",(0,i.jsx)("br",{}),"关闭时录制 横像素不变的 缩放拼接流，可能存在画质损失；开启时录制 纵像素不变的 raw 双屏拼接流。"]}),label:"双屏直播录制方式（douyin_double_screen）",fieldStyle:{alignSelf:"stretch",padding:0}})]})})),v=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.UO.Panel,{header:"斗鱼",itemKey:"douyu",children:[(0,i.jsxs)(r.Form.Select,{allowCreate:!0,filter:!0,field:"douyu_rate",extraText:"刚开播可能没有除了原画之外的画质 会先录制原画 后续视频分段(仅ffmpeg streamlink)时录制设置的画质 0 原画,8 蓝光8M,4 蓝光4m,3 超清,2 高清",label:"画质等级（douyu_rate）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},rules:[{pattern:/^\d*$/,message:"请仅输入纯数字"}],showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:0,children:"最高画质（0）"}),(0,i.jsx)(r.Ph.Option,{value:8,children:"蓝光8M（8）"}),(0,i.jsx)(r.Ph.Option,{value:4,children:"蓝光4M（4）"}),(0,i.jsx)(r.Ph.Option,{value:3,children:"超清（3）"}),(0,i.jsx)(r.Ph.Option,{value:2,children:"高清（2）"})]}),(0,i.jsx)(r.Form.Switch,{field:"douyu_danmaku",extraText:"录制斗鱼弹幕，默认关闭",label:"录制弹幕（douyu_danmaku）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsxs)(r.Form.Select,{allowCreate:!0,filter:!0,field:"douyu_cdn",extraText:"如遇到斗鱼录制卡顿可以尝试切换线路。可选以下线路 tctc-h5（线路4）, tct-h5（线路5）, ali-h5（线路6）, hw-h5（线路7）, hs-h5（线路13）",label:"访问线路（douyu_cdn）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"tctc-h5",children:"线路4（tctc-h5）"}),(0,i.jsx)(r.Ph.Option,{value:"tct-h5",children:"线路5（tct-h5）"}),(0,i.jsx)(r.Ph.Option,{value:"ali-h5",children:"线路6（ali-h5）"}),(0,i.jsx)(r.Ph.Option,{value:"hw-h5",children:"线路7（hw-h5）"}),(0,i.jsx)(r.Ph.Option,{value:"hs-h5",children:"线路13（hs-h5）"})]}),(0,i.jsx)(r.Form.Switch,{field:"douyu_disable_interactive_game",extraText:"当主播运行了互动游戏，下个分段拒绝录制。小窗运行互动游戏也算入在内，请谨慎开启。",label:"斗鱼拒绝互动游戏（douyu_disable_interactive_game）",fieldStyle:{alignSelf:"stretch",padding:0}})]})}),S=e=>{let l=e.entity;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.UO.Panel,{header:"虎牙",itemKey:"huya",children:[(0,i.jsxs)(r.Form.Select,{allowCreate:!0,filter:!0,field:"huya_max_ratio",extraText:"虎牙自选录制码率 可以避免录制如20M的码率，每小时8G左右大小，上传及转码耗时过长。 20000（蓝光20M）, 10000（蓝光10M）, 8000（蓝光8M）, 2000（超清）, 500（流畅） 设置为10000则录制小于等于蓝光10M的画质",label:"画质等级（huya_max_ratio）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},rules:[{pattern:/^\d*$/,message:"请输入纯数字"}],showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:0,children:"原画（0）"}),(0,i.jsx)(r.Ph.Option,{value:2e4,children:"蓝光20M（20000）"}),(0,i.jsx)(r.Ph.Option,{value:1e4,children:"蓝光10M（10000）"}),(0,i.jsx)(r.Ph.Option,{value:8e3,children:"蓝光8M（8000）"}),(0,i.jsx)(r.Ph.Option,{value:2e3,children:"超清（2000）"}),(0,i.jsx)(r.Ph.Option,{value:500,children:"流畅（500）"})]}),(0,i.jsx)(r.Form.Switch,{field:"huya_danmaku",extraText:"录制虎牙弹幕，默认关闭",label:"录制弹幕（huya_danmaku）"}),(0,i.jsxs)(r.Form.Select,{allowCreate:!0,filter:!0,field:"huya_cdn",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["如遇到虎牙录制卡顿可以尝试切换线路。可选以下线路",(0,i.jsx)("br",{}),"AL（阿里云 - 直播线路3）, TX（腾讯云 - 直播线路5）, HW（华为云 - 直播线路6）, WS（网宿）, HS（火山引擎 - 直播线路14）, AL13（阿里云）, TX15（腾讯云）, HW16（华为云）",(0,i.jsx)("br",{}),"HY、HYZJ(虎牙自建 - 直播线路66) 已屏蔽。如设置，将切换为首个可用线路。"]}),label:"访问线路（huya_cdn）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"AL",children:"直播线路3（AL）"}),(0,i.jsx)(r.Ph.Option,{value:"TX",children:"直播线路5（TX）"}),(0,i.jsx)(r.Ph.Option,{value:"HW",children:"直播线路6（HW）"}),(0,i.jsx)(r.Ph.Option,{value:"AL13",children:"直播线路13（AL13）"}),(0,i.jsx)(r.Ph.Option,{value:"HS",children:"直播线路14（HS）"}),(0,i.jsx)(r.Ph.Option,{value:"TX15",children:"直播线路15（TX15）"}),(0,i.jsx)(r.Ph.Option,{value:"HW16",children:"直播线路16（HW16）"})]}),(0,i.jsx)(r.Form.Switch,{field:"huya_cdn_fallback",extraText:"当访问线路（huya_cdn）不可用时，尝试其他线路（huya_cdn_fallback）",label:"CDN 回退（huya_cdn_fallback）"}),(0,i.jsxs)(r.Form.Select,{field:"huya_protocol",extraText:"Hls 仅供测试，请谨慎切换。",label:"直播流协议（huya_protocol）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"Flv",children:"Flv（默认）"}),(0,i.jsx)(r.Ph.Option,{value:"Hls",children:"Hls"})]}),(0,i.jsx)(r.Form.Switch,{field:"huya_imgplus",extraText:"是否录制二次编码的直播流。默认为启用，关闭后可能无法下载。部分直播间的分辨率超分（如2k/4k）和HDR画质依赖于二次编码，请谨慎关闭。",label:"虎牙二次编码（huya_imgplus）",initValue:null==l||!l.hasOwnProperty("huya_imgplus")||l.huya_imgplus,fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Switch,{field:"huya_mobile_api",extraText:"使用移动端API可以绕过 PCWEB 端对原画的时长限制",label:"虎牙使用移动端API（huya_mobile_api）",fieldStyle:{alignSelf:"stretch",padding:0}})]})})},O=e=>{let l=e.entity;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.UO.Panel,{header:"Twitch",itemKey:"twitch",children:[(0,i.jsx)(r.Form.Switch,{field:"twitch_danmaku",extraText:"录制Twitch弹幕，默认关闭",label:"录制弹幕（twitch_danmaku）"}),(0,i.jsx)(r.Form.Switch,{initValue:null==l||!l.hasOwnProperty("twitch_disable_ads")||l.twitch_disable_ads,field:"twitch_disable_ads",extraText:"去除Twitch广告功能，默认开启 这个功能会导致Twitch录播分段，因为遇到广告就自动断开了，这就是去广告。若需要录播完整一整段可以关闭这个，但是关了之后就会有紫色屏幕的CommercialTime 还有一个办法是去花钱开一个Turbo会员，然后下面的user里把twitch的cookie填上，也能去除广告",label:"去除广告（twitch_disable_ads）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"user.twitch_cookie",extraText:(0,i.jsxs)("div",{className:"semi-form-field-extra",children:["【仅限Turbo会员】如录制Twitch时遇见视频流中广告过多的情况，可尝试在此填入cookie，可以大幅减少视频流中的twitch广告",(0,i.jsx)("br",{}),"该 Cookie 存在过期风险，Cookie过期后会在日志输出警告，请注意及时更换。",(0,i.jsx)("br",{}),"当 Cookie 失效，录制时将忽略 Cookie。（经作者个人测试，可保持未过期状态四个月以上）",(0,i.jsx)("br",{}),"twitch_cookie 获取方式：在浏览器中打开 twitch.tv ， F12 调出控制台，在控制台中执行如下代码：",(0,i.jsx)("br",{}),(0,i.jsx)("code",{style:{color:"blue"},children:'document.cookie.split("; ").find(item => item.startsWith("auth-token="))?.split("=")[1]'}),(0,i.jsx)("br",{}),'twitch_cookie\xa0需要在\xa0downloader= "ffmpeg"\xa0时候才会生效。']}),label:"Twitch Cookie（twitch_cookie）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}})]})})},k=e=>{let l=e.entity;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.UO.Panel,{header:"YouTube",itemKey:"youtube",children:[(0,i.jsx)(r.Form.Input,{field:"user.youtube_cookie",extraText:(0,i.jsxs)("div",{style:{fontSize:"14px"},children:["使用Cookies登陆YouTube帐号，可用于下载会限、私享等未登录账号无法访问的内容。",(0,i.jsx)("br",{}),(0,i.jsx)("style",{}),"可以使用 Chrome 插件「Get cookies.txt」来生成txt文件，请使用 Netscape 格式的 Cookies 文本路径。"]}),label:"YouTube Cookie（youtube_cookie）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Switch,{initValue:null==l||!l.hasOwnProperty("youtube_enable_download_live")||l.youtube_enable_download_live,field:"youtube_enable_download_live",extraText:"### 是否下载直播 默认开启 关闭后将忽略直播下载（可以下载回放） 避免网络被风控(有些网络只能下载回放无法下载直播)的时候还会尝试下载直播 大量下载时极易风控 如对实时性要求不高推荐关闭 一个人同时开启多个直播只能录制最新录制的那个 如果正在录制直播将无法下载回放 例如录制https://www.youtube.com/@NeneAmanoCh/streams，关闭后将忽略正在直播 ",label:"下载直播（youtube_enable_download_live）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Switch,{initValue:null==l||!l.hasOwnProperty("youtube_enable_download_playback")||l.youtube_enable_download_playback,field:"youtube_enable_download_playback",extraText:"是否下载直播回放 默认开启 关闭后将忽略直播下载回放(不会影响正常的视频下载) 只想录制直播的可以开启 如果正在下载回放将无法录制直播 例如录制https://www.youtube.com/@NeneAmanoCh/streams，关闭后将忽略直播回放 ",label:"下载回放（youtube_enable_download_playback）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"youtube_after_date",extraText:"仅下载该日期之后的视频,默认不限制",label:"下载起始日期（youtube_after_date）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"youtube_before_date",extraText:"仅下载该日期之前的视频（可与上面的youtube_after_date配合使用，构成指定下载范围区间）默认不限制",label:"下载截止日期（youtube_before_date）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"youtube_max_videosize",extraText:"限制单个视频的最大大小 默认不限制 直播无此功能 注意：此参数优先级高于分辨率设置，并且不包括音频部分的大小，仅仅只是视频部分的大小。 此功能在一部分视频上无法使用 推荐使用画质限制不开启此功能",label:"视频大小上限（youtube_max_videosize）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.InputNumber,{field:"youtube_max_resolution",extraText:"设置偏好的YouTube下载最高纵向分辨率 默认不限制 可以用此限制画质 例如设置为1080最高只会下载1080P画质",label:"视频分辨率上限（youtube_max_resolution）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"youtube_prefer_vcodec",label:"偏好视频封装格式（youtube_prefer_vcodec）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"youtube_prefer_acodec",extraText:"设置偏好的YouTube下载封装格式 默认不限制 请务必记得安装ffmpeg 如无特殊需求不建议筛选封装格式 特别是录制直播时 多数直播mp4都是不可用的 bilibili支持 mp4 mkv webm 无需筛选也能上传 支持同时添加多个编码，自动优选指定编码格式里最好的画质/音质版本。 视频：其中avc编码最高可以下载到1080p的内容，vp9最高可以下载到4k以及很少部分8k内容，av01画质不是所有视频都有，但是大部分8k视频的8k画质只有av01编码。 音频：其中opus编码最高48KHz采样，mp4a（AAC）最高44.1KHz采样，理论上来说opus音质会更好一些。 如需指定封装格式，请按以下推荐设置。mp4：avc+mp4a;av01+mp4a. mkv:vp9+mp4a,avc+opus. webm:av01+opus;vp9+opus.",label:"偏好音频封装格式（youtube_prefer_acodec）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}})]})})},F=t(42337),T=()=>{let e=(0,r.XQ)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:p().frameDeveloper,children:[(0,i.jsxs)("div",{className:p().frameInside,children:[(0,i.jsxs)("div",{className:p().group,children:[(0,i.jsx)("div",{className:p().buttonOnlyIconSecond}),(0,i.jsx)("div",{className:p().lineStory,style:{color:"var(--semi-color-bg-0)",display:"flex"},children:(0,i.jsx)(F.Z,{size:"small"})})]}),(0,i.jsx)("p",{className:p().meegoSharedWebWorkIt,children:"开发者选项"})]}),(0,i.jsxs)(r.Form.Select,{label:" 控制台日志输出等级（LOGGING.root.level）",field:"LOGGING.root.level",placeholder:"INFO",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},onChange:()=>{e.setValue("LOGGING.root.handlers",["console"])},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"DEBUG",children:"DEBUG"}),(0,i.jsx)(r.Ph.Option,{value:"INFO",children:"INFO"}),(0,i.jsx)(r.Ph.Option,{value:"WARNING",children:"WARNING"}),(0,i.jsx)(r.Ph.Option,{value:"ERROR",children:"ERROR"}),(0,i.jsx)(r.Ph.Option,{value:"CRITICAL",children:"CRITICAL"})]}),(0,i.jsxs)(r.Form.Select,{label:" 文件日志输出等级（LOGGING.loggers.biliup.level）",field:"LOGGING.loggers.biliup.level",placeholder:"INFO",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},onChange:()=>{e.setValue("LOGGING.loggers.biliup.handlers",["file"])},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"DEBUG",children:"DEBUG"}),(0,i.jsx)(r.Ph.Option,{value:"INFO",children:"INFO"}),(0,i.jsx)(r.Ph.Option,{value:"WARNING",children:"WARNING"}),(0,i.jsx)(r.Ph.Option,{value:"ERROR",children:"ERROR"}),(0,i.jsx)(r.Ph.Option,{value:"CRITICAL",children:"CRITICAL"})]})]})})},P=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(r.UO.Panel,{header:"TwitCasting",itemKey:"twitcasting",children:[(0,i.jsx)(r.Form.Switch,{field:"twitcasting_danmaku",extraText:"录制TwitCasting弹幕，默认关闭",label:"录制弹幕（twitcasting_danmaku）",fieldStyle:{alignSelf:"stretch",padding:0}}),(0,i.jsx)(r.Form.Input,{field:"twitcasting_password",label:"TwitCasting直播间密码（twitcasting_password）",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0}})]})}),C=()=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.UO.Panel,{header:"克拉克拉",itemKey:"kilakila",children:(0,i.jsxs)(r.Form.Select,{field:"kila_protocol",extraText:"直播流协议，默认hls",label:"直播流协议(kila_protocol)",placeholder:"hls",style:{width:"100%"},fieldStyle:{alignSelf:"stretch",padding:0},showClear:!0,children:[(0,i.jsx)(r.Ph.Option,{value:"hls",children:"hls"}),(0,i.jsx)(r.Ph.Option,{value:"flv",children:"flv"})]})})}),I=()=>{let{Header:e,Content:l}=r.Layout,{data:t,error:o,isLoading:f}=(0,c.ZP)("/v1/configuration",h._i),{trigger:m}=(0,u.Z)("/v1/configuration",h.gz),b=(0,a.useRef)(),{biliUsers:F}=(0,x.Bf)();if(f)return(0,i.jsx)(i.Fragment,{children:"Loading"});if(o)return(0,i.jsxs)(i.Fragment,{children:[" error ",JSON.stringify(o)]});let I=null==F?void 0:F.map(e=>({value:e.value,label:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.qE,{size:"extra-small",src:e.face}),(0,i.jsx)("span",{style:{marginLeft:8},children:e.name})]})}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e,{style:{backgroundColor:"var(--semi-color-bg-1)",position:"sticky",top:0,zIndex:1},children:(0,i.jsx)(r.JL,{header:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{backgroundColor:"#6b6c75ff",borderRadius:"var(--semi-border-radius-large)",color:"var(--semi-color-bg-0)",display:"flex",padding:"6px"},children:(0,i.jsx)(s.Z,{size:"large"})}),(0,i.jsx)("h4",{style:{marginLeft:"12px"},children:"空间配置"})]}),footer:(0,i.jsx)(r.zx,{onClick:()=>{var e;null===(e=b.current)||void 0===e||e.submitForm()},icon:(0,i.jsx)(n.Z,{}),theme:"solid",style:{marginRight:10},children:"保存"}),mode:"horizontal"})}),(0,i.jsx)(l,{children:(0,i.jsx)("main",{className:p().rootConfigPanel,children:(0,i.jsx)("div",{className:p().main,children:(0,i.jsx)("div",{className:p().content,children:(0,i.jsxs)(r.Form,{className:p().form,initValues:t,onSubmit:async e=>{try{await m(e),r.FN.success("保存成功")}catch(e){throw r.P_.error({title:"保存失败",content:(0,i.jsx)(r.Typography,{style:{maxWidth:450},children:e.message}),style:{width:"min-content"}}),e}},getFormApi:e=>b.current=e,children:[(0,i.jsxs)(r.mQ,{type:"line",contentStyle:{maxWidth:965,margin:"10px auto 0 auto"},children:[(0,i.jsx)(r.Jm,{tab:"全局设置",itemKey:"1",children:(0,i.jsx)(g,{})}),(0,i.jsx)(r.Jm,{tab:"各平台下载",itemKey:"2",children:(0,i.jsxs)("div",{className:p().framePlatformConfig,children:[(0,i.jsxs)("div",{className:p().frameInside,children:[(0,i.jsx)("div",{className:p().group,children:(0,i.jsx)("div",{className:p().buttonOnlyIconSecond,children:(0,i.jsx)("div",{className:p().lineStory,style:{color:"var(--semi-color-bg-0)",display:"flex"},children:(0,i.jsx)(d,{size:"small"})})})}),(0,i.jsx)("p",{className:p().meegoSharedWebSettin,children:"各平台下载设置"})]}),(0,i.jsxs)(r.UO,{keepDOM:!0,style:{width:"100%"},children:[(0,i.jsx)(_,{entity:t,list:I}),(0,i.jsx)(j,{}),(0,i.jsx)(w,{entity:t}),(0,i.jsx)(v,{}),(0,i.jsx)(S,{entity:t}),(0,i.jsx)(C,{}),(0,i.jsx)(O,{entity:t}),(0,i.jsx)(P,{}),(0,i.jsx)(k,{entity:t}),(0,i.jsx)(y,{entity:t,list:I})]})]})}),(0,i.jsx)(r.Jm,{tab:"开发者选项",itemKey:"3",children:(0,i.jsx)(T,{})})]}),(0,i.jsx)(r.T,{}),(0,i.jsx)(r.T,{style:{height:"160px"}})]})})})})})]})}},97500:function(e,l,t){"use strict";async function i(e,l){let{arg:t}=l,i=await fetch(""+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!(i.status>=200&&i.status<300))throw Error(await i.text());let a=await i.json();if(!i.ok)throw Error(a.message);return a}t.d(l,{_i:function(){return a},gz:function(){return n},hw:function(){return s},sj:function(){return r},wG:function(){return i}});let a=async function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];let i=await fetch(""+l[0],l[1]);if(!i.ok)throw Error(await i.text());return i.json()},r=async(e,l)=>{let t=await fetch(""+e,l);if(!t.ok)throw Error(await t.text());return t};async function s(e,l){let{arg:t}=l,i=await fetch("".concat("").concat(e,"/").concat(t),{method:"DELETE"});if(!i.ok)throw Error(await i.text());return i}async function n(e,l){let{arg:t}=l,i=await fetch("".concat("").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!i.ok)throw Error(await i.text());return i}},21659:function(e,l,t){"use strict";t.d(l,{Bf:function(){return n},JB:function(){return o},ZP:function(){return s}});var i=t(85323),a=t(97500),r=t(2265);function s(){let{data:e,error:l,isLoading:t}=(0,i.ZP)("/v1/streamers",a._i);return{isLoading:t,streamers:e}}function n(){let{data:e,error:l,isLoading:t}=(0,i.ZP)("/v1/users",a._i),[s,n]=(0,r.useState)([]);return(0,r.useEffect)(()=>{if(!e||0===e.length)return;let l=async e=>{try{var l;let t=await (0,a._i)("/bili/space/myinfo?user=".concat(e.value),void 0),i=await (0,a.sj)("/bili/proxy?url=".concat(null===(l=t.data)||void 0===l?void 0:l.face)),r=await i.blob();return{...e,name:t.data.name,face:URL.createObjectURL(r)}}catch(i){console.error(i);let l=await (0,a.sj)("/bili/proxy?url=https://i0.hdslb.com/bfs/face/member/noface.jpg"),t=await l.blob();return{...e,name:"Cookie已失效",face:URL.createObjectURL(t)}}};Promise.all(e.map(l)).then(n)},[e]),{isLoading:t,isError:l,biliUsers:s}}function o(){var e;let{data:l,error:t,isLoading:r}=(0,i.ZP)("/bili/archive/pre",a._i);return{isLoading:r,isError:t,typeTree:null==l?void 0:null===(e=l.data)||void 0===e?void 0:e.typelist.map(e=>({label:e.name,value:e.id,children:e.children}))}}},62146:function(e,l,t){"use strict";var i=t(2265);let a=(0,t(87565).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23a11 11 0 1 0 0-22 11 11 0 0 0 0 22Zm7-11.12a1.5 1.5 0 0 1-1.47 1.52l-4 .07.07 4a1.5 1.5 0 0 1-3 .06l-.07-4-4 .07a1.5 1.5 0 0 1-.06-3l4-.07-.07-4a1.5 1.5 0 1 1 3-.06l.07 4 4-.07A1.5 1.5 0 0 1 19 11.88Z",fill:"currentColor"}))},"plus_circle");l.Z=a},42337:function(e,l,t){"use strict";var i=t(2265);let a=(0,t(87565).A)(function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 5.07c-.8.47-1.8.46-2.6 0l-.24-.15a1.4 1.4 0 0 0-1.82.29c-.64.82-1.16 1.73-1.55 2.7a1.4 1.4 0 0 0 .66 1.71l.24.14a2.57 2.57 0 0 1 0 4.48l-.24.14a1.4 1.4 0 0 0-.66 1.72 11.1 11.1 0 0 0 1.55 2.69 1.4 1.4 0 0 0 1.82.3l.25-.15a2.57 2.57 0 0 1 3.88 2.24v.28c-.01.7.46 1.33 1.16 1.43a11 11 0 0 0 3.1 0 1.4 1.4 0 0 0 1.17-1.43v-.28a2.57 2.57 0 0 1 3.87-2.24l.25.14c.6.36 1.38.26 1.82-.29.64-.82 1.16-1.73 1.55-2.7a1.4 1.4 0 0 0-.66-1.71l-.24-.14a2.57 2.57 0 0 1 0-4.48l.24-.14a1.4 1.4 0 0 0 .66-1.72 11.08 11.08 0 0 0-1.55-2.69 1.4 1.4 0 0 0-1.82-.3l-.25.15a2.57 2.57 0 0 1-3.88-2.24v-.28c.01-.7-.46-1.33-1.16-1.43a10.99 10.99 0 0 0-3.1 0c-.7.1-1.17.72-1.17 1.43v.28C9.3 3.75 8.8 4.61 8 5.07Zm6 10.4a4 4 0 1 0-4-6.93 4 4 0 0 0 4 6.92Z",fill:"currentColor"}))},"setting");l.Z=a},48019:function(e){e.exports={rootConfigPanel:"dashboard_rootConfigPanel__H00R1",main:"dashboard_main__Rc_0B",content:"dashboard_content__hwJmk",item:"dashboard_item__vd6Dr",form:"dashboard_form__ts2vk",frameDownload:"dashboard_frameDownload__vBT0s",frameInside:"dashboard_frameInside__nNRYf",group:"dashboard_group__kyWYT",buttonOnlyIconSecond:"dashboard_buttonOnlyIconSecond__U2c3u",lineStory:"dashboard_lineStory__ARf86",meegoSharedWebWorkIt:"dashboard_meegoSharedWebWorkIt__ZfysV",frameUpload:"dashboard_frameUpload__FCZ0P",framePlatformConfig:"dashboard_framePlatformConfig__4y_44",outlinedVersion:"dashboard_outlinedVersion__aPpHQ",meegoSharedWebSettin:"dashboard_meegoSharedWebSettin__Kvwzx",frameDeveloper:"dashboard_frameDeveloper__bO23h",line:"dashboard_line__dTs9X"}},65582:function(e,l,t){"use strict";t.d(l,{Z:function(){return d}});var i=t(2265),a=t(62827),r=t(85323),s=t(60951);let n=s.I?e=>{e()}:i.startTransition,o=e=>{let[,l]=(0,i.useState)({}),t=(0,i.useRef)(!1),a=(0,i.useRef)(e),r=(0,i.useRef)({data:!1,error:!1,isValidating:!1}),n=(0,i.useCallback)(e=>{let i=!1,s=a.current;for(let l in e)Object.prototype.hasOwnProperty.call(e,l)&&s[l]!==e[l]&&(s[l]=e[l],r.current[l]&&(i=!0));i&&!t.current&&l({})},[]);return(0,s.v)(()=>(t.current=!1,()=>{t.current=!0})),[a,r.current,n]},d=(0,a.xD)(r.ZP,()=>(e,l,t={})=>{let{mutate:r}=(0,a.kY)(),d=(0,i.useRef)(e),c=(0,i.useRef)(l),h=(0,i.useRef)(t),u=(0,i.useRef)(0),[x,f,p]=o({data:s.U,error:s.U,isMutating:!1}),m=x.current,b=(0,i.useCallback)(async(e,l)=>{let[t,i]=(0,s.s)(d.current);if(!c.current)throw Error("Can’t trigger the mutation: missing fetcher.");if(!t)throw Error("Can’t trigger the mutation: missing key.");let a=(0,s.m)((0,s.m)({populateCache:!1,throwOnError:!0},h.current),l),o=(0,s.p)();u.current=o,p({isMutating:!0});try{let l=await r(t,c.current(i,{arg:e}),(0,s.m)(a,{throwOnError:!0}));return u.current<=o&&(n(()=>p({data:l,isMutating:!1,error:void 0})),null==a.onSuccess||a.onSuccess.call(a,l,t,a)),l}catch(e){if(u.current<=o&&(n(()=>p({error:e,isMutating:!1})),null==a.onError||a.onError.call(a,e,t,a),a.throwOnError))throw e}},[]),g=(0,i.useCallback)(()=>{u.current=(0,s.p)(),p({data:s.U,error:s.U,isMutating:!1})},[]);return(0,s.v)(()=>{d.current=e,c.current=l,h.current=t}),{trigger:b,reset:g,get data(){return f.data=!0,m.data},get error(){return f.error=!0,m.error},get isMutating(){return f.isMutating=!0,m.isMutating}}})}},function(e){e.O(0,[308,385,251,157,440,326,152,776,797,323,971,117,744],function(){return e(e.s=70171)}),_N_E=e.O()}]);