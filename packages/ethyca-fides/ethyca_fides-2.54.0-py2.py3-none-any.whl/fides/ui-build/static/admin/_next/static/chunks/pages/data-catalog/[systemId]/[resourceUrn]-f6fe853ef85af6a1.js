(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7740],{74833:function(e,t,i){var r=i(56127),n=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(n,""):e}},56127:function(e){var t=/\s/;e.exports=function(e){for(var i=e.length;i--&&t.test(e.charAt(i)););return i}},66726:function(e,t,i){var r=i(11611),n=i(82846),s=i(91936),a=Math.max,o=Math.min;e.exports=function(e,t,i){var l,c,d,u,f,p,x=0,h=!1,g=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function v(t){var i=l,r=c;return l=c=void 0,x=t,u=e.apply(r,i)}function j(e){var i=e-p,r=e-x;return void 0===p||i>=t||i<0||g&&r>=d}function I(){var e,i,r,s=n();if(j(s))return C(s);f=setTimeout(I,(e=s-p,i=s-x,r=t-e,g?o(r,d-i):r))}function C(e){return(f=void 0,m&&l)?v(e):(l=c=void 0,u)}function _(){var e,i=n(),r=j(i);if(l=arguments,c=this,p=i,r){if(void 0===f)return x=e=p,f=setTimeout(I,t),h?v(e):u;if(g)return clearTimeout(f),f=setTimeout(I,t),v(p)}return void 0===f&&(f=setTimeout(I,t)),u}return t=s(t)||0,r(i)&&(h=!!i.leading,d=(g="maxWait"in i)?a(s(i.maxWait)||0,t):d,m="trailing"in i?!!i.trailing:m),_.cancel=function(){void 0!==f&&clearTimeout(f),x=0,l=p=c=f=void 0},_.flush=function(){return void 0===f?u:C(n())},_}},82846:function(e,t,i){var r=i(77400);e.exports=function(){return r.Date.now()}},91936:function(e,t,i){var r=i(74833),n=i(11611),s=i(55193),a=0/0,o=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return a;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var i=l.test(e);return i||c.test(e)?d(e.slice(2),i?2:8):o.test(e)?a:+e}},76139:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/data-catalog/[systemId]/[resourceUrn]",function(){return i(94414)}])},58665:function(e,t,i){"use strict";var r=i(24246),n=i(78670);t.Z=e=>{let{...t}=e;return(0,r.jsx)(n.kCb,{boxSize:"full",align:"center",justify:"center",children:(0,r.jsx)(n.$jN,{color:"primary",...t})})}},43124:function(e,t,i){"use strict";i.d(t,{Z:function(){return f}});var r=i(24246),n=i(78670),s=i(88038),a=i.n(s),o=i(86677);i(27378);var l=i(11596),c=i(72247),d=i(11032),u=()=>{let e=(0,o.useRouter)();return(0,r.jsx)(n.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,r.jsxs)(n.xuv,{children:[(0,r.jsxs)(n.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,r.jsx)(n.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,r.jsx)(n.wpx,{onClick:()=>{e.push(d.fz)},children:"Configure"})]}),(0,r.jsxs)(n.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=e=>{let{children:t,title:i,padded:s=!0,mainProps:d}=e,f=(0,l.hz)(),p=(0,o.useRouter)(),x="/privacy-requests"===p.pathname||"/datastore-connection"===p.pathname,h=!(f.flags.privacyRequestsConfiguration&&x),{data:g}=(0,c.JE)(void 0,{skip:h}),{data:m}=(0,c.PW)(void 0,{skip:h}),v=f.flags.privacyRequestsConfiguration&&(!g||!m)&&x;return(0,r.jsxs)(n.kCb,{"data-testid":i,direction:"column",h:"100vh",children:[(0,r.jsxs)(a(),{children:[(0,r.jsxs)("title",{children:["Fides Admin UI - ",i]}),(0,r.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(n.kCb,{as:"main",direction:"column",py:s?6:0,px:s?10:0,h:s?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...d,children:[v?(0,r.jsx)(u,{}):null,t]})]})}},37541:function(e,t,i){"use strict";var r=i(24246),n=i(78670),s=i(18622);t.Z=e=>{let{heading:t,breadcrumbItems:i,isSticky:a=!0,children:o,rightContent:l,style:c,...d}=e;return(0,r.jsxs)("div",{...d,style:a?{position:"sticky",top:"-24px",paddingTop:"24px",paddingBottom:"24px",paddingLeft:"40px",marginLeft:"-40px",paddingRight:"40px",marginRight:"-40px",marginTop:"-24px",left:0,zIndex:20,backgroundColor:"white",...c}:{paddingBottom:"24px",...c},children:[(0,r.jsxs)(n.jqI,{justify:"space-between",children:["string"==typeof t?(0,r.jsx)(n.X6q,{className:i||o?"pb-4":void 0,fontSize:"2xl","data-testid":"page-heading",children:t}):t,l&&(0,r.jsx)("div",{"data-testid":"page-header-right-content",children:l})]}),!!i&&(0,r.jsx)(s.m,{className:o?"pb-4":void 0,items:i,"data-testid":"page-breadcrumb"}),o]})}},53359:function(e,t,i){"use strict";i.d(t,{H:function(){return s},V:function(){return r.V}});var r=i(75139),n=i(60136);let s=()=>{let{errorAlert:e}=(0,r.V)();return{handleError:t=>{let i="An unexpected error occurred. Please try again.";(0,n.Ot)(t)?i=t.data.detail:(0,n.tB)(t)&&(i=t.data.detail[0].msg),e(i)}}}},75139:function(e,t,i){"use strict";i.d(t,{V:function(){return s}});var r=i(24246),n=i(78670);let s=()=>{let e=(0,n.pmc)();return{errorAlert:(t,i,s)=>{let a={...s,position:(null==s?void 0:s.position)||"top",render:e=>{let{onClose:s}=e;return(0,r.jsxs)(n.bZj,{alignItems:"normal",status:"error","data-testid":"error-alert",children:[(0,r.jsx)(n.zMQ,{}),(0,r.jsxs)(n.xuv,{children:[i&&(0,r.jsx)(n.CdC,{children:i}),(0,r.jsx)(n.XaZ,{children:t})]}),(0,r.jsx)(n.PZ7,{onClick:s,position:"relative",right:0,size:"sm",top:-1})]})}};(null==s?void 0:s.id)&&e.isActive(s.id)?e.update(s.id,a):e(a)},successAlert:(t,i,s)=>{let a={...s,position:(null==s?void 0:s.position)||"top",render:e=>{let{onClose:s}=e;return(0,r.jsxs)(n.bZj,{alignItems:"normal",status:"success",variant:"subtle","data-testid":"success-alert",children:[(0,r.jsx)(n.zMQ,{}),(0,r.jsxs)(n.xuv,{children:[i&&(0,r.jsx)(n.CdC,{children:i}),(0,r.jsx)(n.XaZ,{children:t})]}),(0,r.jsx)(n.PZ7,{onClick:s,position:"relative",right:0,size:"sm",top:-1})]})}};(null==s?void 0:s.id)&&e.isActive(s.id)?e.update(s.id,a):e(a)}}}},18622:function(e,t,i){"use strict";i.d(t,{m:function(){return c}});var r=i(24246),n=i(78670),s=i(79894),a=i.n(s),o=i(27378);let{Text:l}=n.AntTypography,c=e=>{let{items:t,...i}=e,s=(0,o.useMemo)(()=>null==t?void 0:t.map((e,i)=>{let s=i===t.length-1,o={...e},c=o.onClick&&!o.href;return("string"==typeof o.title&&(o.title=(0,r.jsx)(l,{style:{color:"inherit",maxWidth:s?void 0:400},ellipsis:!s,children:o.title})),c)?o.title=(0,r.jsx)(n.wpx,{type:"text",size:"small",icon:o.icon,onClick:o.onClick,className:"ant-breadcrumb-link -mt-px px-1 text-inherit",children:o.title}):(o.icon&&(o.title=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"anticon align-text-bottom",children:o.icon}),o.title]})),o.href&&o.title&&(o.title=(0,r.jsx)(a(),{href:o.href,className:"ant-breadcrumb-link",children:o.title}),delete o.href)),o}),[t]);return(0,r.jsx)(n.zrq,{items:s,...i})}},55490:function(e,t,i){"use strict";var r=i(24246),n=i(8540),s=i(90049),a=i(6170);t.Z=e=>{let{resource:t}=e;return(0,r.jsx)(n.G3,{value:(0,s.Z)(t),fontWeight:(0,a.Z)(t)?"semibold":"normal"})}},51254:function(e,t,i){"use strict";var r=i(24246),n=i(8540),s=i(70629);let a={[s.e.ATTENTION_REQUIRED]:"red",[s.e.APPROVED]:"green",[s.e.IN_REVIEW]:"yellow",[s.e.CLASSIFYING]:"blue"};t.Z=e=>{let{status:t}=e;return(0,r.jsx)(n.A4,{colorScheme:a[t],value:t})}},99526:function(e,t,i){"use strict";var r=i(24246),n=i(78670);t.Z=()=>(0,r.jsxs)(n.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"empty-state",alignSelf:"center",margin:"auto",children:[(0,r.jsx)(n.xvT,{fontSize:"md",fontWeight:"600",children:"No resources found"}),(0,r.jsx)(n.xvT,{fontSize:"sm",children:"You're up to date!"})]})},70629:function(e,t,i){"use strict";i.d(t,{e:function(){return n},u:function(){return a}});var r,n,s=i(46042);(r=n||(n={})).ATTENTION_REQUIRED="Attention required",r.IN_REVIEW="In review",r.APPROVED="Approved",r.CLASSIFYING="Classifying";let a=e=>{let t=e.diff_status===s.LL.ADDITION||e.diff_status===s.LL.REMOVAL,i=e.child_diff_statuses&&(e.child_diff_statuses[s.LL.ADDITION]||e.child_diff_statuses[s.LL.REMOVAL]);if(t||i)return"Attention required";let r=e.diff_status===s.LL.CLASSIFICATION_QUEUED||e.diff_status===s.LL.CLASSIFYING,n=e.child_diff_statuses&&(e.child_diff_statuses[s.LL.CLASSIFICATION_QUEUED]||e.child_diff_statuses[s.LL.CLASSIFYING]);if(r||n)return"Classifying";let a=e.diff_status===s.LL.CLASSIFICATION_ADDITION||e.diff_status===s.LL.CLASSIFICATION_UPDATE,o=e.child_diff_statuses&&(e.child_diff_statuses[s.LL.CLASSIFICATION_ADDITION]||e.child_diff_statuses[s.LL.CLASSIFICATION_UPDATE]);return a||o?"In review":"Approved"}},22770:function(e,t,i){"use strict";i.d(t,{M:function(){return l}});var r=i(24246),n=i(66726),s=i.n(n),a=i(27378),o=i(33312);let l=e=>{let{value:t,onChange:i}=e,[n,l]=(0,a.useState)(t),c=s()(i,500),d=(0,a.useCallback)(e=>{l(e),c(e)},[]);return(0,r.jsx)(o.Z,{search:n,onChange:d,onClear:()=>{l(""),i("")}})}},94414:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return Z}});var r=i(24246),n=i(86677),s=i(58665),a=i(43124),o=i(11032),l=i(37541),c=i(59003),d=i(92222),u=i(78670),f=i(27378),p=i(8540),x=i(99526),h=i(98320),g=i(53359),m=i(70629),v=i(6111),j=e=>{let{resource:t}=e,{successAlert:i}=(0,g.V)(),n=(0,m.u)(t),[s,{isLoading:a}]=(0,v.v8)(),[o,{isLoading:l}]=(0,v.cM)(),[c,{isLoading:d}]=(0,v.vi)(),f=async()=>{var e;await s({staged_resource_urn:t.urn,monitor_config_id:t.monitor_config_id,unmute_children:!0,classify_monitored_resources:!0}),i("Started classification on ".concat(null!==(e=t.name)&&void 0!==e?e:"this resource"))},p=async()=>{var e;await o({staged_resource_urn:t.urn}),i("Approved ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},x=async()=>{var e;await c({staged_resource_urn:t.urn}),i("Hid ".concat(null!==(e=t.name)&&void 0!==e?e:" resource"))},h=a||l||d;return(0,r.jsxs)(u.kCb,{gap:2,justify:"space-between",children:[n===m.e.ATTENTION_REQUIRED&&(0,r.jsx)(u.wpx,{size:"small",onClick:f,loading:a,disabled:h,"data-testid":"classify-btn",children:"Classify"}),n===m.e.IN_REVIEW&&(0,r.jsx)(u.wpx,{size:"small",onClick:p,loading:l,disabled:h,"data-testid":"approve-btn",children:"Approve"}),(0,r.jsxs)(u.v2r,{children:[(0,r.jsx)(u.j2t,{as:u.wpx,size:"small",type:"text",className:"max-w-4",icon:(0,r.jsx)(u.nXP,{transform:"rotate(90deg)",ml:2}),"data-testid":"resource-actions-menu"}),(0,r.jsx)(u.qyq,{children:(0,r.jsx)(u.sNh,{onClick:x,"data-testid":"hide-action",children:"Hide"})})]})]})},I=i(55490),C=i(51254),_=i(67690),y=i(61934),L=i(59104);let A=(0,d.Cl)();var b=e=>{let t=[];return e?e===L.X.TABLE?[A.display({id:"name",cell:e=>{let{row:t}=e;return(0,r.jsx)(I.Z,{resource:t.original})},header:"Table"}),A.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(C.Z,{status:(0,m.u)(t.original)})},header:"Status"}),A.display({id:"category",cell:e=>{let{row:t}=e;return(0,r.jsx)(_.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),A.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(p.G3,{value:e.getValue()}),header:"Description"}),A.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(h.Cy,{time:e.getValue()}),header:"Updated"}),A.display({id:"actions",cell:e=>{let{row:t}=e;return(0,r.jsx)(j,{resource:t.original})},header:"Actions",meta:{disableRowClick:!0}})]:e===L.X.FIELD?[A.display({id:"name",cell:e=>{let{row:t}=e;return(0,r.jsx)(I.Z,{resource:t.original})},header:"Field"}),A.display({id:"status",cell:e=>{let{row:t}=e;return(0,r.jsx)(C.Z,{status:(0,m.u)(t.original)})},header:"Status"}),A.accessor(e=>e.data_type,{id:"dataType",cell:e=>(0,r.jsx)(y.Z,{type:e.getValue()}),header:"Data type"}),A.display({id:"category",cell:e=>{let{row:t}=e;return(0,r.jsx)(_.Z,{resource:t.original})},header:"Data categories",minSize:280,meta:{disableRowClick:!0}}),A.accessor(e=>e.description,{id:"description",cell:e=>(0,r.jsx)(p.G3,{value:e.getValue()}),header:"Description"}),A.accessor(e=>e.updated_at,{id:"lastUpdated",cell:e=>(0,r.jsx)(h.Cy,{time:e.getValue()}),header:"Updated"}),A.display({id:"actions",cell:e=>{let{row:t}=e;return(0,r.jsx)(j,{resource:t.original})},header:"Actions",meta:{disableRowClick:!0}})]:t:t},N=i(22770),T=i(52962),E=i(6170),S=i(46042);let w=[S.LL.ADDITION,S.LL.CLASSIFYING,S.LL.CLASSIFICATION_ADDITION,S.LL.CLASSIFICATION_QUEUED,S.LL.CLASSIFICATION_UPDATE,S.LL.MONITORED,S.LL.PROMOTING,S.LL.REMOVAL,S.LL.REMOVING],R={items:[],total:0,page:1,size:50,pages:1};var k=e=>{var t;let{resourceUrn:i,system:s}=e,a=(0,n.useRouter)(),{PAGE_SIZES:l,pageSize:h,setPageSize:g,onPreviousPageClick:m,isPreviousPageDisabled:j,onNextPageClick:I,isNextPageDisabled:C,startRange:_,endRange:y,pageIndex:A,setTotalPages:S,resetPageIndexToDefault:k}=(0,p.oi)(),[D,O]=(0,f.useState)("");(0,f.useEffect)(()=>{k()},[i,k]);let{isFetching:Z,isLoading:P,data:z}=(0,v.z8)({staged_resource_urn:i,page:A,size:h,diff_status:w,search:D}),{items:F,total:U,pages:V}=(0,f.useMemo)(()=>null!=z?z:R,[z]);(0,f.useEffect)(()=>{S(V)},[V,S]);let M=b((0,T.G)(null!==(t=F[0])&&void 0!==t?t:L.X.NONE)),q=(0,c.b7)({getCoreRowModel:(0,d.sC)(),getGroupedRowModel:(0,d.qe)(),getExpandedRowModel:(0,d.rV)(),columns:M,manualPagination:!0,data:F,columnResizeMode:"onChange",getRowId:e=>e.urn});return P||Z?(0,r.jsx)(p.I4,{rowHeight:36,numRows:36}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Q$,{children:(0,r.jsx)(u.kCb,{gap:6,align:"center",children:(0,r.jsx)(u.xuv,{flexShrink:0,children:(0,r.jsx)(N.M,{value:D,onChange:O})})})}),(0,r.jsx)(p.ZK,{tableInstance:q,emptyTableNotice:(0,r.jsx)(x.Z,{}),getRowIsClickable:e=>(0,E.Z)(e),onRowClick:e=>a.push("".concat(o.mX,"/").concat(s.fides_key,"/").concat(e.urn))}),(0,r.jsx)(p.s8,{totalRows:U||0,pageSizes:l,setPageSize:g,onPreviousPageClick:m,isPreviousPageDisabled:j,onNextPageClick:I,isNextPageDisabled:C,startRange:_,endRange:y})]})},D=(e,t)=>{if(!e)return[];let i=e.split("."),r=[];return i.reduce((e,i)=>{let n="".concat(e,".").concat(i);return r.push({title:i,href:"".concat(t,"/").concat(n)}),n}),r},O=i(22153),Z=()=>{var e,t;let{query:i}=(0,n.useRouter)(),c=i.systemId,d=i.resourceUrn,{data:u,isLoading:f}=(0,O.rn)(c),p=null!==(e=D(d,"".concat(o.mX,"/").concat(c)))&&void 0!==e?e:[];return f?(0,r.jsx)(s.Z,{}):(0,r.jsxs)(a.Z,{title:"Data catalog",children:[(0,r.jsx)(l.Z,{heading:"Data catalog",breadcrumbItems:[{title:"All systems",href:o.mX},{title:null!==(t=null==u?void 0:u.name)&&void 0!==t?t:null==u?void 0:u.fides_key,href:"".concat(o.mX,"/").concat(c)},...p]}),(0,r.jsx)(k,{resourceUrn:d,system:u})]})}}},function(e){e.O(0,[8033,5559,4554,2866,9278,8540,1451,2888,9774,179],function(){return e(e.s=76139)}),_N_E=e.O()}]);