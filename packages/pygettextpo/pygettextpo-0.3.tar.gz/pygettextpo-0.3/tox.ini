[tox]
envlist =
    py38,py39,py310,py311,py312,py313,lint

[testenv]
commands =
    pytest tests {posargs} 
deps =
    pytest
    testtools

[testenv:lint]
basepython =
    python3.12
deps =
    pre-commit
commands =
    pre-commit run --all-files

[testenv:coverage]
basepython =
    python3.12
deps =
    .[testing,test]
commands =
    coverage erase
    coverage run -m pytest tests {posargs}
    coverage combine
    coverage html
    coverage report -m --fail-under=91

[flake8]
ignore =
    # Incompatible with Black.
    E203,
    W503

[isort]
known_first_party = pygettextpo
line_length = 79
profile = black