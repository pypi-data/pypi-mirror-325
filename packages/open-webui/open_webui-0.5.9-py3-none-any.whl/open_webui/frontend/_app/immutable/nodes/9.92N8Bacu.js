import{s as ot,y as Se,A as Fe,p as Ot,j as Ae,e as g,c as v,a as $,d as u,f as _,i as L,r as qt,v as Zt,w as Jt,x as Kt,k as C,o as M,L as Qt,t as q,b as Z,g as m,h as K,E as It,F as Dt,m as Xt,I as et,C as Vt,u as He,H as Yt,q as jt,D as en,n as tn,l as Ht}from"../chunks/scheduler.Dg_Xn4WQ.js";import{S as it,i as ft,f as Le,b as O,d as j,m as G,t as F,a as T,e as x,g as Oe,c as je}from"../chunks/index.gNonUo3Z.js";import{f as Ue,W as nn,e as ln,m as Pe}from"../chunks/index.KoZSVF7z.js";import{a as at,f as sn,g as Ye,t as rn,h as an,i as on,c as fn}from"../chunks/index.DL1CPvp7.js";import{e as St,u as un,o as cn}from"../chunks/each.dwVHsGX8.js";import{t as _e}from"../chunks/Toaster.svelte_svelte_type_style_lang.CM0nbnqF.js";import{f as dn}from"../chunks/FileSaver.min.CimDdHIv.js";import{g as Ct}from"../chunks/entry.RLaQsWRp.js";import{T as qe}from"../chunks/Tooltip.FP-CxtJW.js";import{C as Mt}from"../chunks/ConfirmDialog.BuoJh2qp.js";import{g as Re}from"../chunks/index._RAtQEyy.js";import"../chunks/updater.B0HmoELl.js";import{D as mn,M as We}from"../chunks/Dropdown.TmwXbC8a.js";import{b as _n}from"../chunks/menu-trigger.qJyZyepX.js";import{f as pn}from"../chunks/index.BFuekP1B.js";import{G as Gt}from"../chunks/GarbageBin.C8M1SI2a.js";import{S as hn,D as gn}from"../chunks/DocumentDuplicate.CbixP_2L.js";import{A as vn}from"../chunks/ArrowDownTray.B6lNvHfw.js";import{S as xt}from"../chunks/Switch.BbmWI4o0.js";import{G as $n}from"../chunks/GlobeAlt.9X3ui2HX.js";import{E as wn}from"../chunks/EllipsisHorizontal.Dc0c2jlw.js";import{M as bn,V as kn}from"../chunks/ManifestModal.OeNNOBk3.js";import{H as yn}from"../chunks/Heart.DruJa4pv.js";import{S as En}from"../chunks/Search.x77u7Tsb.js";import{P as In}from"../chunks/Plus.BU_HhSNR.js";import{C as Dn}from"../chunks/ChevronRight.BEWpFLO1.js";function Vn(s){let e;const n=s[11].default,t=qt(n,s,s[20],null);return{c(){t&&t.c()},l(r){t&&t.l(r)},m(r,o){t&&t.m(r,o),e=!0},p(r,o){t&&t.p&&(!e||o&1048576)&&Zt(t,n,r,r[20],e?Kt(n,r[20],o,null):Jt(r[20]),null)},i(r){e||(F(t,r),e=!0)},o(r){T(t,r),e=!1},d(r){t&&t.d(r)}}}function Hn(s){let e,n;return e=new qe({props:{content:s[9].t("More"),$$slots:{default:[Vn]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,r){G(e,t,r),n=!0},p(t,r){const o={};r&512&&(o.content=t[9].t("More")),r&1048576&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Ft(s){let e,n,t,r,o,a=s[9].t("Global")+"",l,f,h,w,D,V,I,B;t=new $n({});function b(c){s[12](c)}let i={};return s[0].is_global!==void 0&&(i.state=s[0].is_global),w=new xt({props:i}),Se.push(()=>Le(w,"state",b)),w.$on("change",function(){Qt(s[6])&&s[6].apply(this,arguments)}),{c(){e=g("div"),n=g("div"),O(t.$$.fragment),r=C(),o=g("div"),l=q(a),f=C(),h=g("div"),O(w.$$.fragment),V=C(),I=g("hr"),this.h()},l(c){e=v(c,"DIV",{class:!0});var y=$(e);n=v(y,"DIV",{class:!0});var E=$(n);j(t.$$.fragment,E),r=M(E),o=v(E,"DIV",{class:!0});var S=$(o);l=Z(S,a),S.forEach(u),E.forEach(u),f=M(y),h=v(y,"DIV",{});var N=$(h);j(w.$$.fragment,N),N.forEach(u),y.forEach(u),V=M(c),I=v(c,"HR",{class:!0}),this.h()},h(){_(o,"class","flex items-center"),_(n,"class","flex gap-2 items-center"),_(e,"class","flex gap-2 justify-between items-center px-3 py-2 text-sm font-medium cursor-pointerrounded-md"),_(I,"class","border-gray-100 dark:border-gray-800 my-1")},m(c,y){L(c,e,y),m(e,n),G(t,n,null),m(n,r),m(n,o),m(o,l),m(e,f),m(e,h),G(w,h,null),L(c,V,y),L(c,I,y),B=!0},p(c,y){s=c,(!B||y&512)&&a!==(a=s[9].t("Global")+"")&&K(l,a);const E={};!D&&y&1&&(D=!0,E.state=s[0].is_global,Fe(()=>D=!1)),w.$set(E)},i(c){B||(F(t.$$.fragment,c),F(w.$$.fragment,c),B=!0)},o(c){T(t.$$.fragment,c),T(w.$$.fragment,c),B=!1},d(c){c&&(u(e),u(V),u(I)),x(t),x(w)}}}function Sn(s){let e,n,t,r,o=s[9].t("Edit")+"",a;return{c(){e=It("svg"),n=It("path"),t=C(),r=g("div"),a=q(o),this.h()},l(l){e=Dt(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var f=$(e);n=Dt(f,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),$(n).forEach(u),f.forEach(u),t=M(l),r=v(l,"DIV",{class:!0});var h=$(r);a=Z(h,o),h.forEach(u),this.h()},h(){_(n,"stroke-linecap","round"),_(n,"stroke-linejoin","round"),_(n,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"fill","none"),_(e,"viewBox","0 0 24 24"),_(e,"stroke-width","1.5"),_(e,"stroke","currentColor"),_(e,"class","w-4 h-4"),_(r,"class","flex items-center")},m(l,f){L(l,e,f),m(e,n),L(l,t,f),L(l,r,f),m(r,a)},p(l,f){f&512&&o!==(o=l[9].t("Edit")+"")&&K(a,o)},d(l){l&&(u(e),u(t),u(r))}}}function Cn(s){let e,n,t,r=s[9].t("Share")+"",o,a;return e=new hn({}),{c(){O(e.$$.fragment),n=C(),t=g("div"),o=q(r),this.h()},l(l){j(e.$$.fragment,l),n=M(l),t=v(l,"DIV",{class:!0});var f=$(t);o=Z(f,r),f.forEach(u),this.h()},h(){_(t,"class","flex items-center")},m(l,f){G(e,l,f),L(l,n,f),L(l,t,f),m(t,o),a=!0},p(l,f){(!a||f&512)&&r!==(r=l[9].t("Share")+"")&&K(o,r)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){T(e.$$.fragment,l),a=!1},d(l){l&&(u(n),u(t)),x(e,l)}}}function Mn(s){let e,n,t,r=s[9].t("Clone")+"",o,a;return e=new gn({}),{c(){O(e.$$.fragment),n=C(),t=g("div"),o=q(r),this.h()},l(l){j(e.$$.fragment,l),n=M(l),t=v(l,"DIV",{class:!0});var f=$(t);o=Z(f,r),f.forEach(u),this.h()},h(){_(t,"class","flex items-center")},m(l,f){G(e,l,f),L(l,n,f),L(l,t,f),m(t,o),a=!0},p(l,f){(!a||f&512)&&r!==(r=l[9].t("Clone")+"")&&K(o,r)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){T(e.$$.fragment,l),a=!1},d(l){l&&(u(n),u(t)),x(e,l)}}}function Fn(s){let e,n,t,r=s[9].t("Export")+"",o,a;return e=new vn({}),{c(){O(e.$$.fragment),n=C(),t=g("div"),o=q(r),this.h()},l(l){j(e.$$.fragment,l),n=M(l),t=v(l,"DIV",{class:!0});var f=$(t);o=Z(f,r),f.forEach(u),this.h()},h(){_(t,"class","flex items-center")},m(l,f){G(e,l,f),L(l,n,f),L(l,t,f),m(t,o),a=!0},p(l,f){(!a||f&512)&&r!==(r=l[9].t("Export")+"")&&K(o,r)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){T(e.$$.fragment,l),a=!1},d(l){l&&(u(n),u(t)),x(e,l)}}}function Ln(s){let e,n,t,r=s[9].t("Delete")+"",o,a;return e=new Gt({props:{strokeWidth:"2"}}),{c(){O(e.$$.fragment),n=C(),t=g("div"),o=q(r),this.h()},l(l){j(e.$$.fragment,l),n=M(l),t=v(l,"DIV",{class:!0});var f=$(t);o=Z(f,r),f.forEach(u),this.h()},h(){_(t,"class","flex items-center")},m(l,f){G(e,l,f),L(l,n,f),L(l,t,f),m(t,o),a=!0},p(l,f){(!a||f&512)&&r!==(r=l[9].t("Delete")+"")&&K(o,r)},i(l){a||(F(e.$$.fragment,l),a=!0)},o(l){T(e.$$.fragment,l),a=!1},d(l){l&&(u(n),u(t)),x(e,l)}}}function Tn(s){let e=["filter","action"].includes(s[0].type),n,t,r,o,a,l,f,h,w,D,V,I,B,b=e&&Ft(s);return t=new We({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Sn]},$$scope:{ctx:s}}}),t.$on("click",s[13]),o=new We({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Cn]},$$scope:{ctx:s}}}),o.$on("click",s[14]),l=new We({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Mn]},$$scope:{ctx:s}}}),l.$on("click",s[15]),h=new We({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Fn]},$$scope:{ctx:s}}}),h.$on("click",s[16]),I=new We({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[Ln]},$$scope:{ctx:s}}}),I.$on("click",s[17]),{c(){b&&b.c(),n=C(),O(t.$$.fragment),r=C(),O(o.$$.fragment),a=C(),O(l.$$.fragment),f=C(),O(h.$$.fragment),w=C(),D=g("hr"),V=C(),O(I.$$.fragment),this.h()},l(i){b&&b.l(i),n=M(i),j(t.$$.fragment,i),r=M(i),j(o.$$.fragment,i),a=M(i),j(l.$$.fragment,i),f=M(i),j(h.$$.fragment,i),w=M(i),D=v(i,"HR",{class:!0}),V=M(i),j(I.$$.fragment,i),this.h()},h(){_(D,"class","border-gray-100 dark:border-gray-800 my-1")},m(i,c){b&&b.m(i,c),L(i,n,c),G(t,i,c),L(i,r,c),G(o,i,c),L(i,a,c),G(l,i,c),L(i,f,c),G(h,i,c),L(i,w,c),L(i,D,c),L(i,V,c),G(I,i,c),B=!0},p(i,c){c&1&&(e=["filter","action"].includes(i[0].type)),e?b?(b.p(i,c),c&1&&F(b,1)):(b=Ft(i),b.c(),F(b,1),b.m(n.parentNode,n)):b&&(Oe(),T(b,1,1,()=>{b=null}),je());const y={};c&1049088&&(y.$$scope={dirty:c,ctx:i}),t.$set(y);const E={};c&1049088&&(E.$$scope={dirty:c,ctx:i}),o.$set(E);const S={};c&1049088&&(S.$$scope={dirty:c,ctx:i}),l.$set(S);const N={};c&1049088&&(N.$$scope={dirty:c,ctx:i}),h.$set(N);const z={};c&1049088&&(z.$$scope={dirty:c,ctx:i}),I.$set(z)},i(i){B||(F(b),F(t.$$.fragment,i),F(o.$$.fragment,i),F(l.$$.fragment,i),F(h.$$.fragment,i),F(I.$$.fragment,i),B=!0)},o(i){T(b),T(t.$$.fragment,i),T(o.$$.fragment,i),T(l.$$.fragment,i),T(h.$$.fragment,i),T(I.$$.fragment,i),B=!1},d(i){i&&(u(n),u(r),u(a),u(f),u(w),u(D),u(V)),b&&b.d(i),x(t,i),x(o,i),x(l,i),x(h,i),x(I,i)}}}function Nn(s){let e,n,t;return n=new _n({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow",sideOffset:-2,side:"bottom",align:"start",transition:pn,$$slots:{default:[Tn]},$$scope:{ctx:s}}}),{c(){e=g("div"),O(n.$$.fragment),this.h()},l(r){e=v(r,"DIV",{slot:!0});var o=$(e);j(n.$$.fragment,o),o.forEach(u),this.h()},h(){_(e,"slot","content")},m(r,o){L(r,e,o),G(n,e,null),t=!0},p(r,o){const a={};o&1049215&&(a.$$scope={dirty:o,ctx:r}),n.$set(a)},i(r){t||(F(n.$$.fragment,r),t=!0)},o(r){T(n.$$.fragment,r),t=!1},d(r){r&&u(e),x(n)}}}function Bn(s){let e,n,t;function r(a){s[18](a)}let o={$$slots:{content:[Nn],default:[Hn]},$$scope:{ctx:s}};return s[8]!==void 0&&(o.show=s[8]),e=new mn({props:o}),Se.push(()=>Le(e,"show",r)),e.$on("change",s[19]),{c(){O(e.$$.fragment)},l(a){j(e.$$.fragment,a)},m(a,l){G(e,a,l),t=!0},p(a,[l]){const f={};l&1049215&&(f.$$scope={dirty:l,ctx:a}),!n&&l&256&&(n=!0,f.show=a[8],Fe(()=>n=!1)),e.$set(f)},i(a){t||(F(e.$$.fragment,a),t=!0)},o(a){T(e.$$.fragment,a),t=!1},d(a){x(e,a)}}}function An(s,e,n){let t,{$$slots:r={},$$scope:o}=e;const a=Ot("i18n");Ae(s,a,H=>n(9,t=H));let{func:l}=e,{editHandler:f}=e,{shareHandler:h}=e,{cloneHandler:w}=e,{exportHandler:D}=e,{deleteHandler:V}=e,{toggleGlobalHandler:I}=e,{onClose:B}=e,b=!1;function i(H){s.$$.not_equal(l.is_global,H)&&(l.is_global=H,n(0,l))}const c=()=>{f()},y=()=>{h()},E=()=>{w()},S=()=>{D()},N=()=>{V()};function z(H){b=H,n(8,b)}const J=H=>{H.detail===!1&&B()};return s.$$set=H=>{"func"in H&&n(0,l=H.func),"editHandler"in H&&n(1,f=H.editHandler),"shareHandler"in H&&n(2,h=H.shareHandler),"cloneHandler"in H&&n(3,w=H.cloneHandler),"exportHandler"in H&&n(4,D=H.exportHandler),"deleteHandler"in H&&n(5,V=H.deleteHandler),"toggleGlobalHandler"in H&&n(6,I=H.toggleGlobalHandler),"onClose"in H&&n(7,B=H.onClose),"$$scope"in H&&n(20,o=H.$$scope)},[l,f,h,w,D,V,I,B,b,t,a,r,i,c,y,E,S,N,z,J,o]}class Un extends it{constructor(e){super(),ft(this,e,An,Bn,ot,{func:0,editHandler:1,shareHandler:2,cloneHandler:3,exportHandler:4,deleteHandler:5,toggleGlobalHandler:6,onClose:7})}}function Lt(s,e,n){const t=s.slice();return t[45]=e[n],t[46]=e,t[47]=n,t}function Tt(s){var o,a,l;let e,n,t=(((l=(a=(o=s[45])==null?void 0:o.meta)==null?void 0:a.manifest)==null?void 0:l.version)??"")+"",r;return{c(){e=g("div"),n=q("v"),r=q(t),this.h()},l(f){e=v(f,"DIV",{class:!0});var h=$(e);n=Z(h,"v"),r=Z(h,t),h.forEach(u),this.h()},h(){_(e,"class","text-xs font-bold px-1 rounded line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(f,h){L(f,e,h),m(e,n),m(e,r)},p(f,h){var w,D,V;h[0]&512&&t!==(t=(((V=(D=(w=f[45])==null?void 0:w.meta)==null?void 0:D.manifest)==null?void 0:V.version)??"")+"")&&K(r,t)},d(f){f&&u(e)}}}function On(s){var I,B,b;let e,n,t,r,o,a=(((b=(B=(I=s[45])==null?void 0:I.meta)==null?void 0:B.manifest)==null?void 0:b.funding_url)??!1)&&Nt(s);n=new qe({props:{content:s[10].t("Valves"),$$slots:{default:[xn]},$$scope:{ctx:s}}});function l(){return s[25](s[45])}function f(){return s[26](s[45])}function h(){return s[27](s[45])}function w(){return s[28](s[45])}function D(){return s[29](s[45])}function V(){return s[30](s[45])}return r=new Un({props:{func:s[45],editHandler:l,shareHandler:f,cloneHandler:h,exportHandler:w,deleteHandler:D,toggleGlobalHandler:V,onClose:Jn,$$slots:{default:[zn]},$$scope:{ctx:s}}}),{c(){a&&a.c(),e=C(),O(n.$$.fragment),t=C(),O(r.$$.fragment)},l(i){a&&a.l(i),e=M(i),j(n.$$.fragment,i),t=M(i),j(r.$$.fragment,i)},m(i,c){a&&a.m(i,c),L(i,e,c),G(n,i,c),L(i,t,c),G(r,i,c),o=!0},p(i,c){var S,N,z;s=i,((z=(N=(S=s[45])==null?void 0:S.meta)==null?void 0:N.manifest)==null?void 0:z.funding_url)??!1?a?(a.p(s,c),c[0]&512&&F(a,1)):(a=Nt(s),a.c(),F(a,1),a.m(e.parentNode,e)):a&&(Oe(),T(a,1,1,()=>{a=null}),je());const y={};c[0]&1024&&(y.content=s[10].t("Valves")),c[0]&704|c[1]&131072&&(y.$$scope={dirty:c,ctx:s}),n.$set(y);const E={};c[0]&512&&(E.func=s[45]),c[0]&512&&(E.editHandler=l),c[0]&512&&(E.shareHandler=f),c[0]&512&&(E.cloneHandler=h),c[0]&512&&(E.exportHandler=w),c[0]&896&&(E.deleteHandler=D),c[0]&512&&(E.toggleGlobalHandler=V),c[1]&131072&&(E.$$scope={dirty:c,ctx:s}),r.$set(E)},i(i){o||(F(a),F(n.$$.fragment,i),F(r.$$.fragment,i),o=!0)},o(i){T(a),T(n.$$.fragment,i),T(r.$$.fragment,i),o=!1},d(i){i&&(u(e),u(t)),a&&a.d(i),x(n,i),x(r,i)}}}function jn(s){let e,n;return e=new qe({props:{content:s[10].t("Delete"),$$slots:{default:[Pn]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,r){G(e,t,r),n=!0},p(t,r){const o={};r[0]&1024&&(o.content=t[10].t("Delete")),r[0]&512|r[1]&131072&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Nt(s){let e,n;return e=new qe({props:{content:s[10].t("Support"),$$slots:{default:[Gn]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,r){G(e,t,r),n=!0},p(t,r){const o={};r[0]&1024&&(o.content=t[10].t("Support")),r[0]&672|r[1]&131072&&(o.$$scope={dirty:r,ctx:t}),e.$set(o)},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Gn(s){let e,n,t,r,o;n=new yn({});function a(){return s[23](s[45])}return{c(){e=g("button"),O(n.$$.fragment),this.h()},l(l){e=v(l,"BUTTON",{class:!0,type:!0});var f=$(e);j(n.$$.fragment,f),f.forEach(u),this.h()},h(){_(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),_(e,"type","button")},m(l,f){L(l,e,f),G(n,e,null),t=!0,r||(o=He(e,"click",a),r=!0)},p(l,f){s=l},i(l){t||(F(n.$$.fragment,l),t=!0)},o(l){T(n.$$.fragment,l),t=!1},d(l){l&&u(e),x(n),r=!1,o()}}}function xn(s){let e,n='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>',t,r;function o(){return s[24](s[45])}return{c(){e=g("button"),e.innerHTML=n,this.h()},l(a){e=v(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),et(e)!=="svelte-1d80tim"&&(e.innerHTML=n),this.h()},h(){_(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),_(e,"type","button")},m(a,l){L(a,e,l),t||(r=He(e,"click",o),t=!0)},p(a,l){s=a},d(a){a&&u(e),t=!1,r()}}}function zn(s){let e,n,t;return n=new wn({props:{className:"size-5"}}),{c(){e=g("button"),O(n.$$.fragment),this.h()},l(r){e=v(r,"BUTTON",{class:!0,type:!0});var o=$(e);j(n.$$.fragment,o),o.forEach(u),this.h()},h(){_(e,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),_(e,"type","button")},m(r,o){L(r,e,o),G(n,e,null),t=!0},p:tn,i(r){t||(F(n.$$.fragment,r),t=!0)},o(r){T(n.$$.fragment,r),t=!1},d(r){r&&u(e),x(n)}}}function Pn(s){let e,n,t,r,o;n=new Gt({});function a(){return s[22](s[45])}return{c(){e=g("button"),O(n.$$.fragment),this.h()},l(l){e=v(l,"BUTTON",{class:!0,type:!0});var f=$(e);j(n.$$.fragment,f),f.forEach(u),this.h()},h(){_(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),_(e,"type","button")},m(l,f){L(l,e,f),G(n,e,null),t=!0,r||(o=He(e,"click",a),r=!0)},p(l,f){s=l},i(l){t||(F(n.$$.fragment,l),t=!0)},o(l){T(n.$$.fragment,l),t=!1},d(l){l&&u(e),x(n),r=!1,o()}}}function Rn(s){let e,n,t;function r(l){s[31](l,s[45])}function o(...l){return s[32](s[45],...l)}let a={};return s[45].is_active!==void 0&&(a.state=s[45].is_active),e=new xt({props:a}),Se.push(()=>Le(e,"state",r)),e.$on("change",o),{c(){O(e.$$.fragment)},l(l){j(e.$$.fragment,l)},m(l,f){G(e,l,f),t=!0},p(l,f){s=l;const h={};!n&&f[0]&512&&(n=!0,h.state=s[45].is_active,Fe(()=>n=!1)),e.$set(h)},i(l){t||(F(e.$$.fragment,l),t=!0)},o(l){T(e.$$.fragment,l),t=!1},d(l){x(e,l)}}}function Bt(s,e){var Ie,Ve,he;let n,t,r,o,a,l,f=e[45].type+"",h,w,D,V,I=e[45].name+"",B,b,i,c,y=e[45].id+"",E,S,N,z=e[45].meta.description+"",J,H,ie,te,R,U,Ee,pe,ne,fe,Q,X=((he=(Ve=(Ie=e[45])==null?void 0:Ie.meta)==null?void 0:Ve.manifest)==null?void 0:he.version)&&Tt(e);const me=[jn,On],re=[];function $e(le,P){return le[1]?0:1}return R=$e(e),U=re[R]=me[R](e),ne=new qe({props:{content:e[45].is_active?e[10].t("Enabled"):e[10].t("Disabled"),$$slots:{default:[Rn]},$$scope:{ctx:e}}}),{key:s,first:null,c(){n=g("div"),t=g("a"),r=g("div"),o=g("div"),a=g("div"),l=g("div"),h=q(f),w=C(),X&&X.c(),D=C(),V=g("div"),B=q(I),b=C(),i=g("div"),c=g("div"),E=q(y),S=C(),N=g("div"),J=q(z),ie=C(),te=g("div"),U.c(),Ee=C(),pe=g("div"),O(ne.$$.fragment),fe=C(),this.h()},l(le){n=v(le,"DIV",{class:!0});var P=$(n);t=v(P,"A",{class:!0,href:!0});var se=$(t);r=v(se,"DIV",{class:!0});var ce=$(r);o=v(ce,"DIV",{class:!0});var de=$(o);a=v(de,"DIV",{class:!0});var ue=$(a);l=v(ue,"DIV",{class:!0});var ge=$(l);h=Z(ge,f),ge.forEach(u),w=M(ue),X&&X.l(ue),D=M(ue),V=v(ue,"DIV",{class:!0});var p=$(V);B=Z(p,I),p.forEach(u),ue.forEach(u),b=M(de),i=v(de,"DIV",{class:!0});var A=$(i);c=v(A,"DIV",{class:!0});var W=$(c);E=Z(W,y),W.forEach(u),S=M(A),N=v(A,"DIV",{class:!0});var ae=$(N);J=Z(ae,z),ae.forEach(u),A.forEach(u),de.forEach(u),ce.forEach(u),se.forEach(u),ie=M(P),te=v(P,"DIV",{class:!0});var Y=$(te);U.l(Y),Ee=M(Y),pe=v(Y,"DIV",{class:!0});var ve=$(pe);j(ne.$$.fragment,ve),ve.forEach(u),Y.forEach(u),fe=M(P),P.forEach(u),this.h()},h(){_(l,"class","text-xs font-bold px-1 rounded uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200"),_(V,"class","line-clamp-1"),_(a,"class","font-semibold flex items-center gap-1.5"),_(c,"class","text-gray-500 text-xs font-medium flex-shrink-0"),_(N,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),_(i,"class","flex gap-1.5 px-1"),_(o,"class","flex-1 self-center pl-1"),_(r,"class","flex items-center text-left"),_(t,"class","flex flex-1 space-x-3.5 cursor-pointer w-full"),_(t,"href",H=`/admin/functions/edit?id=${encodeURIComponent(e[45].id)}`),_(pe,"class","self-center mx-1"),_(te,"class","flex flex-row gap-0.5 self-center"),_(n,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl"),this.first=n},m(le,P){L(le,n,P),m(n,t),m(t,r),m(r,o),m(o,a),m(a,l),m(l,h),m(a,w),X&&X.m(a,null),m(a,D),m(a,V),m(V,B),m(o,b),m(o,i),m(i,c),m(c,E),m(i,S),m(i,N),m(N,J),m(n,ie),m(n,te),re[R].m(te,null),m(te,Ee),m(te,pe),G(ne,pe,null),m(n,fe),Q=!0},p(le,P){var de,ue,ge;e=le,(!Q||P[0]&512)&&f!==(f=e[45].type+"")&&K(h,f),(ge=(ue=(de=e[45])==null?void 0:de.meta)==null?void 0:ue.manifest)!=null&&ge.version?X?X.p(e,P):(X=Tt(e),X.c(),X.m(a,D)):X&&(X.d(1),X=null),(!Q||P[0]&512)&&I!==(I=e[45].name+"")&&K(B,I),(!Q||P[0]&512)&&y!==(y=e[45].id+"")&&K(E,y),(!Q||P[0]&512)&&z!==(z=e[45].meta.description+"")&&K(J,z),(!Q||P[0]&512&&H!==(H=`/admin/functions/edit?id=${encodeURIComponent(e[45].id)}`))&&_(t,"href",H);let se=R;R=$e(e),R===se?re[R].p(e,P):(Oe(),T(re[se],1,1,()=>{re[se]=null}),je(),U=re[R],U?U.p(e,P):(U=re[R]=me[R](e),U.c()),F(U,1),U.m(te,Ee));const ce={};P[0]&1536&&(ce.content=e[45].is_active?e[10].t("Enabled"):e[10].t("Disabled")),P[0]&512|P[1]&131072&&(ce.$$scope={dirty:P,ctx:e}),ne.$set(ce)},i(le){Q||(F(U),F(ne.$$.fragment,le),Q=!0)},o(le){T(U),T(ne.$$.fragment,le),Q=!1},d(le){le&&u(n),X&&X.d(),re[R].d(),x(ne)}}}function At(s){let e,n,t=s[10].t("Made by OpenWebUI Community")+"",r,o,a,l,f,h=s[10].t("Discover a function")+"",w,D,V,I=s[10].t("Discover, download, and explore custom functions")+"",B,b,i,c,y,E;return y=new Dn({}),{c(){e=g("div"),n=g("div"),r=q(t),o=C(),a=g("a"),l=g("div"),f=g("div"),w=q(h),D=C(),V=g("div"),B=q(I),b=C(),i=g("div"),c=g("div"),O(y.$$.fragment),this.h()},l(S){e=v(S,"DIV",{class:!0});var N=$(e);n=v(N,"DIV",{class:!0});var z=$(n);r=Z(z,t),z.forEach(u),o=M(N),a=v(N,"A",{class:!0,href:!0,target:!0});var J=$(a);l=v(J,"DIV",{class:!0});var H=$(l);f=v(H,"DIV",{class:!0});var ie=$(f);w=Z(ie,h),ie.forEach(u),D=M(H),V=v(H,"DIV",{class:!0});var te=$(V);B=Z(te,I),te.forEach(u),H.forEach(u),b=M(J),i=v(J,"DIV",{});var R=$(i);c=v(R,"DIV",{});var U=$(c);j(y.$$.fragment,U),U.forEach(u),R.forEach(u),J.forEach(u),N.forEach(u),this.h()},h(){_(n,"class","text-xl font-medium mb-1 line-clamp-1"),_(f,"class","font-semibold line-clamp-1"),_(V,"class","text-sm line-clamp-1"),_(l,"class","self-center"),_(a,"class","flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition"),_(a,"href","https://openwebui.com/#open-webui-community"),_(a,"target","_blank"),_(e,"class","my-16")},m(S,N){L(S,e,N),m(e,n),m(n,r),m(e,o),m(e,a),m(a,l),m(l,f),m(f,w),m(l,D),m(l,V),m(V,B),m(a,b),m(a,i),m(i,c),G(y,c,null),E=!0},p(S,N){(!E||N[0]&1024)&&t!==(t=S[10].t("Made by OpenWebUI Community")+"")&&K(r,t),(!E||N[0]&1024)&&h!==(h=S[10].t("Discover a function")+"")&&K(w,h),(!E||N[0]&1024)&&I!==(I=S[10].t("Discover, download, and explore custom functions")+"")&&K(B,I)},i(S){E||(F(y.$$.fragment,S),E=!0)},o(S){T(y.$$.fragment,S),E=!1},d(S){S&&u(e),x(y)}}}function Wn(s){let e,n=s[10].t("This will delete")+"",t,r,o,a=s[7].name+"",l,f;return{c(){e=g("div"),t=q(n),r=C(),o=g("span"),l=q(a),f=q("."),this.h()},l(h){e=v(h,"DIV",{class:!0});var w=$(e);t=Z(w,n),r=M(w),o=v(w,"SPAN",{class:!0});var D=$(o);l=Z(D,a),D.forEach(u),f=Z(w,"."),w.forEach(u),this.h()},h(){_(o,"class","font-semibold"),_(e,"class","text-sm text-gray-500")},m(h,w){L(h,e,w),m(e,t),m(e,r),m(e,o),m(o,l),m(e,f)},p(h,w){w[0]&1024&&n!==(n=h[10].t("This will delete")+"")&&K(t,n),w[0]&128&&a!==(a=h[7].name+"")&&K(l,a)},d(h){h&&u(e)}}}function qn(s){let e,n,t,r="Please carefully review the following warnings:",o,a,l,f=s[10].t("Functions allow arbitrary code execution.")+"",h,w,D,V=s[10].t("Do not install functions from sources you do not fully trust.")+"",I,B,b,i=s[10].t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")+"",c;return{c(){e=g("div"),n=g("div"),t=g("div"),t.textContent=r,o=C(),a=g("ul"),l=g("li"),h=q(f),w=C(),D=g("li"),I=q(V),B=C(),b=g("div"),c=q(i),this.h()},l(y){e=v(y,"DIV",{class:!0});var E=$(e);n=v(E,"DIV",{class:!0});var S=$(n);t=v(S,"DIV",{"data-svelte-h":!0}),et(t)!=="svelte-1a6manw"&&(t.textContent=r),o=M(S),a=v(S,"UL",{class:!0});var N=$(a);l=v(N,"LI",{});var z=$(l);h=Z(z,f),z.forEach(u),w=M(N),D=v(N,"LI",{});var J=$(D);I=Z(J,V),J.forEach(u),N.forEach(u),S.forEach(u),B=M(E),b=v(E,"DIV",{class:!0});var H=$(b);c=Z(H,i),H.forEach(u),E.forEach(u),this.h()},h(){_(a,"class","mt-1 list-disc pl-4 text-xs"),_(n,"class","bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-4 py-3"),_(b,"class","my-3"),_(e,"class","text-sm text-gray-500")},m(y,E){L(y,e,E),m(e,n),m(n,t),m(n,o),m(n,a),m(a,l),m(l,h),m(a,w),m(a,D),m(D,I),m(e,B),m(e,b),m(b,c)},p(y,E){E[0]&1024&&f!==(f=y[10].t("Functions allow arbitrary code execution.")+"")&&K(h,f),E[0]&1024&&V!==(V=y[10].t("Do not install functions from sources you do not fully trust.")+"")&&K(I,V),E[0]&1024&&i!==(i=y[10].t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")+"")&&K(c,i)},d(y){y&&u(e)}}}function Zn(s){var ht,gt,vt,$t;let e,n,t,r,o,a=s[10].t("Functions")+"",l,f,h,w,D,V=s[9].length+"",I,B,b,i,c,y,E,S,N,z,J,H,ie,te,R,U=[],Ee=new Map,pe,ne,fe,Q,X,me,re,$e=s[10].t("Import Functions")+"",Ie,Ve,he,le='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',P,se,ce,de=s[10].t("Export Functions")+"",ue,ge,p,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',W,ae,Y,ve,Ze,De,tt,Je,we,nt,Ke,be,lt,ke,st,ut;document.title=e=`
		`+s[10].t("Functions")+" | "+s[11]+`
	`,y=new En({props:{className:"size-3.5"}}),ie=new In({props:{className:"size-3.5"}});let Ge=St(s[9]);const ct=d=>d[45].id;for(let d=0;d<Ge.length;d+=1){let k=Lt(s,Ge,d),oe=ct(k);Ee.set(oe,U[d]=Bt(oe,k))}let ee=((ht=s[12])==null?void 0:ht.features.enable_community_sharing)&&At(s);function zt(d){s[38](d)}let dt={title:s[10].t("Delete function?"),$$slots:{default:[Wn]},$$scope:{ctx:s}};s[8]!==void 0&&(dt.show=s[8]),Y=new Mt({props:dt}),Se.push(()=>Le(Y,"show",zt)),Y.$on("confirm",s[39]);function Pt(d){s[40](d)}let mt={manifest:((vt=(gt=s[7])==null?void 0:gt.meta)==null?void 0:vt.manifest)??{}};s[5]!==void 0&&(mt.show=s[5]),De=new bn({props:mt}),Se.push(()=>Le(De,"show",Pt));function Rt(d){s[41](d)}let _t={type:"function",id:(($t=s[7])==null?void 0:$t.id)??null};s[6]!==void 0&&(_t.show=s[6]),we=new kn({props:_t}),Se.push(()=>Le(we,"show",Rt)),we.$on("save",s[42]);function Wt(d){s[43](d)}let pt={$$slots:{default:[qn]},$$scope:{ctx:s}};return s[4]!==void 0&&(pt.show=s[4]),be=new Mt({props:pt}),Se.push(()=>Le(be,"show",Wt)),be.$on("confirm",s[44]),{c(){n=C(),t=g("div"),r=g("div"),o=g("div"),l=q(a),f=C(),h=g("div"),w=C(),D=g("span"),I=q(V),B=C(),b=g("div"),i=g("div"),c=g("div"),O(y.$$.fragment),E=C(),S=g("input"),z=C(),J=g("div"),H=g("a"),O(ie.$$.fragment),te=C(),R=g("div");for(let d=0;d<U.length;d+=1)U[d].c();pe=C(),ne=g("div"),fe=g("div"),Q=g("input"),X=C(),me=g("button"),re=g("div"),Ie=q($e),Ve=C(),he=g("div"),he.innerHTML=le,P=C(),se=g("button"),ce=g("div"),ue=q(de),ge=C(),p=g("div"),p.innerHTML=A,W=C(),ee&&ee.c(),ae=C(),O(Y.$$.fragment),Ze=C(),O(De.$$.fragment),Je=C(),O(we.$$.fragment),Ke=C(),O(be.$$.fragment),this.h()},l(d){Xt("svelte-6oeup7",document.head).forEach(u),n=M(d),t=v(d,"DIV",{class:!0});var oe=$(t);r=v(oe,"DIV",{class:!0});var Te=$(r);o=v(Te,"DIV",{class:!0});var ye=$(o);l=Z(ye,a),f=M(ye),h=v(ye,"DIV",{class:!0}),$(h).forEach(u),w=M(ye),D=v(ye,"SPAN",{class:!0});var Ne=$(D);I=Z(Ne,V),Ne.forEach(u),ye.forEach(u),Te.forEach(u),B=M(oe),b=v(oe,"DIV",{class:!0});var Ce=$(b);i=v(Ce,"DIV",{class:!0});var Me=$(i);c=v(Me,"DIV",{class:!0});var xe=$(c);j(y.$$.fragment,xe),xe.forEach(u),E=M(Me),S=v(Me,"INPUT",{class:!0,placeholder:!0}),Me.forEach(u),z=M(Ce),J=v(Ce,"DIV",{});var ze=$(J);H=v(ze,"A",{class:!0,href:!0});var wt=$(H);j(ie.$$.fragment,wt),wt.forEach(u),ze.forEach(u),Ce.forEach(u),oe.forEach(u),te=M(d),R=v(d,"DIV",{class:!0});var bt=$(R);for(let rt=0;rt<U.length;rt+=1)U[rt].l(bt);bt.forEach(u),pe=M(d),ne=v(d,"DIV",{class:!0});var kt=$(ne);fe=v(kt,"DIV",{class:!0});var Be=$(fe);Q=v(Be,"INPUT",{id:!0,type:!0,accept:!0}),X=M(Be),me=v(Be,"BUTTON",{class:!0});var Qe=$(me);re=v(Qe,"DIV",{class:!0});var yt=$(re);Ie=Z(yt,$e),yt.forEach(u),Ve=M(Qe),he=v(Qe,"DIV",{class:!0,"data-svelte-h":!0}),et(he)!=="svelte-aqr4dt"&&(he.innerHTML=le),Qe.forEach(u),P=M(Be),se=v(Be,"BUTTON",{class:!0});var Xe=$(se);ce=v(Xe,"DIV",{class:!0});var Et=$(ce);ue=Z(Et,de),Et.forEach(u),ge=M(Xe),p=v(Xe,"DIV",{class:!0,"data-svelte-h":!0}),et(p)!=="svelte-1n7zye"&&(p.innerHTML=A),Xe.forEach(u),Be.forEach(u),kt.forEach(u),W=M(d),ee&&ee.l(d),ae=M(d),j(Y.$$.fragment,d),Ze=M(d),j(De.$$.fragment,d),Je=M(d),j(we.$$.fragment,d),Ke=M(d),j(be.$$.fragment,d),this.h()},h(){_(h,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),_(D,"class","text-base font-lg text-gray-500 dark:text-gray-300"),_(o,"class","flex md:self-center text-xl items-center font-medium px-0.5"),_(r,"class","flex justify-between items-center"),_(c,"class","self-center ml-1 mr-3"),_(S,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),_(S,"placeholder",N=s[10].t("Search Functions")),_(i,"class","flex flex-1"),_(H,"class","px-2 py-2 rounded-xl hover:bg-gray-700/10 dark:hover:bg-gray-100/10 dark:text-gray-300 dark:hover:text-white transition font-medium text-sm flex items-center space-x-1"),_(H,"href","/admin/functions/create"),_(b,"class","flex w-full space-x-2"),_(t,"class","flex flex-col gap-1 mt-1.5 mb-2"),_(R,"class","mb-5"),_(Q,"id","documents-import-input"),_(Q,"type","file"),_(Q,"accept",".json"),Q.hidden=!0,_(re,"class","self-center mr-2 font-medium line-clamp-1"),_(he,"class","self-center"),_(me,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),_(ce,"class","self-center mr-2 font-medium line-clamp-1"),_(p,"class","self-center"),_(se,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),_(fe,"class","flex space-x-2"),_(ne,"class","flex justify-end w-full mb-2")},m(d,k){L(d,n,k),L(d,t,k),m(t,r),m(r,o),m(o,l),m(o,f),m(o,h),m(o,w),m(o,D),m(D,I),m(t,B),m(t,b),m(b,i),m(i,c),G(y,c,null),m(i,E),m(i,S),Vt(S,s[0]),m(b,z),m(b,J),m(J,H),G(ie,H,null),L(d,te,k),L(d,R,k);for(let oe=0;oe<U.length;oe+=1)U[oe]&&U[oe].m(R,null);L(d,pe,k),L(d,ne,k),m(ne,fe),m(fe,Q),s[33](Q),m(fe,X),m(fe,me),m(me,re),m(re,Ie),m(me,Ve),m(me,he),m(fe,P),m(fe,se),m(se,ce),m(ce,ue),m(se,ge),m(se,p),L(d,W,k),ee&&ee.m(d,k),L(d,ae,k),G(Y,d,k),L(d,Ze,k),G(De,d,k),L(d,Je,k),G(we,d,k),L(d,Ke,k),G(be,d,k),ke=!0,st||(ut=[He(S,"input",s[21]),He(Q,"change",s[34]),He(Q,"change",s[35]),He(me,"click",s[36]),He(se,"click",s[37])],st=!0)},p(d,k){var Ce,Me,xe,ze;(!ke||k[0]&3072)&&e!==(e=`
		`+d[10].t("Functions")+" | "+d[11]+`
	`)&&(document.title=e),(!ke||k[0]&1024)&&a!==(a=d[10].t("Functions")+"")&&K(l,a),(!ke||k[0]&512)&&V!==(V=d[9].length+"")&&K(I,V),(!ke||k[0]&1024&&N!==(N=d[10].t("Search Functions")))&&_(S,"placeholder",N),k[0]&1&&S.value!==d[0]&&Vt(S,d[0]),k[0]&1017826&&(Ge=St(d[9]),Oe(),U=un(U,k,ct,1,d,Ge,Ee,R,cn,Bt,null,Lt),je()),(!ke||k[0]&1024)&&$e!==($e=d[10].t("Import Functions")+"")&&K(Ie,$e),(!ke||k[0]&1024)&&de!==(de=d[10].t("Export Functions")+"")&&K(ue,de),(Ce=d[12])!=null&&Ce.features.enable_community_sharing?ee?(ee.p(d,k),k[0]&4096&&F(ee,1)):(ee=At(d),ee.c(),F(ee,1),ee.m(ae.parentNode,ae)):ee&&(Oe(),T(ee,1,1,()=>{ee=null}),je());const oe={};k[0]&1024&&(oe.title=d[10].t("Delete function?")),k[0]&1152|k[1]&131072&&(oe.$$scope={dirty:k,ctx:d}),!ve&&k[0]&256&&(ve=!0,oe.show=d[8],Fe(()=>ve=!1)),Y.$set(oe);const Te={};k[0]&128&&(Te.manifest=((xe=(Me=d[7])==null?void 0:Me.meta)==null?void 0:xe.manifest)??{}),!tt&&k[0]&32&&(tt=!0,Te.show=d[5],Fe(()=>tt=!1)),De.$set(Te);const ye={};k[0]&128&&(ye.id=((ze=d[7])==null?void 0:ze.id)??null),!nt&&k[0]&64&&(nt=!0,ye.show=d[6],Fe(()=>nt=!1)),we.$set(ye);const Ne={};k[0]&1024|k[1]&131072&&(Ne.$$scope={dirty:k,ctx:d}),!lt&&k[0]&16&&(lt=!0,Ne.show=d[4],Fe(()=>lt=!1)),be.$set(Ne)},i(d){if(!ke){F(y.$$.fragment,d),F(ie.$$.fragment,d);for(let k=0;k<Ge.length;k+=1)F(U[k]);F(ee),F(Y.$$.fragment,d),F(De.$$.fragment,d),F(we.$$.fragment,d),F(be.$$.fragment,d),ke=!0}},o(d){T(y.$$.fragment,d),T(ie.$$.fragment,d);for(let k=0;k<U.length;k+=1)T(U[k]);T(ee),T(Y.$$.fragment,d),T(De.$$.fragment,d),T(we.$$.fragment,d),T(be.$$.fragment,d),ke=!1},d(d){d&&(u(n),u(t),u(te),u(R),u(pe),u(ne),u(W),u(ae),u(Ze),u(Je),u(Ke)),x(y),x(ie);for(let k=0;k<U.length;k+=1)U[k].d();s[33](null),ee&&ee.d(d),x(Y,d),x(De,d),x(we,d),x(be,d),st=!1,Yt(ut)}}}const Jn=()=>{};function Kn(s,e,n){let t,r,o,a;Ae(s,Ue,p=>n(20,r=p)),Ae(s,nn,p=>n(11,o=p)),Ae(s,ln,p=>n(12,a=p));const{saveAs:l}=dn,f=Ot("i18n");Ae(s,f,p=>n(10,t=p));let h=!1,w,D,V=!1,I="",B=!1,b=!1,i=null,c=!1,y=[];const E=async p=>{const A=await at(localStorage.token,p.id).catch(ve=>(_e.error(`${ve}`),null));_e.success(t.t("Redirecting you to OpenWebUI Community"));const W="https://openwebui.com",ae=await window.open(`${W}/functions/create`,"_blank"),Y=ve=>{ve.origin===W&&ve.data==="loaded"&&(ae.postMessage(JSON.stringify(A),"*"),window.removeEventListener("message",Y))};window.addEventListener("message",Y,!1),console.log(A)},S=async p=>{const A=await at(localStorage.token,p.id).catch(W=>(_e.error(`${W}`),null));A&&(sessionStorage.function=JSON.stringify({...A,id:`${A.id}_clone`,name:`${A.name} (Clone)`}),Ct("/admin/functions/create"))},N=async p=>{const A=await at(localStorage.token,p.id).catch(W=>(_e.error(`${W}`),null));if(A){let W=new Blob([JSON.stringify([A])],{type:"application/json"});l(W,`function-${A.id}-export-${Date.now()}.json`)}},z=async p=>{await sn(localStorage.token,p.id).catch(W=>(_e.error(`${W}`),null))&&(_e.success(t.t("Function deleted successfully")),Ue.set(await Ye(localStorage.token)),Pe.set(await Re(localStorage.token)))},J=async p=>{await rn(localStorage.token,p.id).catch(W=>{_e.error(`${W}`)})&&(p.is_global?p.type==="filter"?_e.success(t.t("Filter is now globally enabled")):_e.success(t.t("Function is now globally enabled")):p.type==="filter"?_e.success(t.t("Filter is now globally disabled")):_e.success(t.t("Function is now globally disabled")),Ue.set(await Ye(localStorage.token)),Pe.set(await Re(localStorage.token)))};jt(()=>{const p=ae=>{ae.key==="Shift"&&n(1,h=!0)},A=ae=>{ae.key==="Shift"&&n(1,h=!1)},W=()=>{n(1,h=!1)};return window.addEventListener("keydown",p),window.addEventListener("keyup",A),window.addEventListener("blur",W),()=>{window.removeEventListener("keydown",p),window.removeEventListener("keyup",A),window.removeEventListener("blur",W)}});function H(){I=this.value,n(0,I)}const ie=p=>{z(p)},te=p=>{n(7,i=p),n(5,B=!0)},R=p=>{n(7,i=p),n(6,b=!0)},U=p=>{Ct(`/admin/functions/edit?id=${encodeURIComponent(p.id)}`)},Ee=p=>{E(p)},pe=p=>{S(p)},ne=p=>{N(p)},fe=async p=>{n(7,i=p),n(8,c=!0)},Q=p=>{["filter","action"].includes(p.type)&&J(p)};function X(p,A){s.$$.not_equal(A.is_active,p)&&(A.is_active=p,n(9,y),n(20,r),n(0,I))}const me=async(p,A)=>{an(localStorage.token,p.id),Pe.set(await Re(localStorage.token))};function re(p){Se[p?"unshift":"push"](()=>{w=p,n(2,w)})}function $e(){D=this.files,n(3,D)}const Ie=()=>{console.log(D),n(4,V=!0)},Ve=()=>{w.click()},he=async()=>{const p=await on(localStorage.token).catch(A=>(_e.error(`${A}`),null));if(p){let A=new Blob([JSON.stringify(p)],{type:"application/json"});l(A,`functions-export-${Date.now()}.json`)}};function le(p){c=p,n(8,c)}const P=()=>{z(i)};function se(p){B=p,n(5,B)}function ce(p){b=p,n(6,b)}const de=async()=>{await en(),Pe.set(await Re(localStorage.token))};function ue(p){V=p,n(4,V)}const ge=()=>{const p=new FileReader;p.onload=async A=>{const W=JSON.parse(A.target.result);console.log(W);for(const ae of W)await fn(localStorage.token,ae).catch(Y=>(_e.error(`${Y}`),null));_e.success(t.t("Functions imported successfully")),Ue.set(await Ye(localStorage.token)),Pe.set(await Re(localStorage.token))},p.readAsText(D[0])};return s.$$.update=()=>{s.$$.dirty[0]&1048577&&n(9,y=r.filter(p=>I===""||p.name.toLowerCase().includes(I.toLowerCase())||p.id.toLowerCase().includes(I.toLowerCase())).sort((p,A)=>p.type.localeCompare(A.type)||p.name.localeCompare(A.name)))},[I,h,w,D,V,B,b,i,c,y,t,o,a,l,f,E,S,N,z,J,r,H,ie,te,R,U,Ee,pe,ne,fe,Q,X,me,re,$e,Ie,Ve,he,le,P,se,ce,de,ue,ge]}class Qn extends it{constructor(e){super(),ft(this,e,Kn,Zn,ot,{},null,[-1,-1])}}function Ut(s){let e,n;return e=new Qn({}),{c(){O(e.$$.fragment)},l(t){j(e.$$.fragment,t)},m(t,r){G(e,t,r),n=!0},i(t){n||(F(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function Xn(s){let e,n,t=s[0]!==null&&Ut();return{c(){t&&t.c(),e=Ht()},l(r){t&&t.l(r),e=Ht()},m(r,o){t&&t.m(r,o),L(r,e,o),n=!0},p(r,[o]){r[0]!==null?t?o&1&&F(t,1):(t=Ut(),t.c(),F(t,1),t.m(e.parentNode,e)):t&&(Oe(),T(t,1,1,()=>{t=null}),je())},i(r){n||(F(t),n=!0)},o(r){T(t),n=!1},d(r){r&&u(e),t&&t.d(r)}}}function Yn(s,e,n){let t;return Ae(s,Ue,r=>n(0,t=r)),jt(async()=>{await Promise.all([(async()=>{Ue.set(await Ye(localStorage.token))})()])}),[t]}class Dl extends it{constructor(e){super(),ft(this,e,Yn,Xn,ot,{})}}export{Dl as component};
//# sourceMappingURL=9.92N8Bacu.js.map
