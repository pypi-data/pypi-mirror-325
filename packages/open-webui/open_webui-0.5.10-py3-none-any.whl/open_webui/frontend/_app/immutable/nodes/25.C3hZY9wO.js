import{s as y,l as f,i as b,d as h,j as g,p as k,q as S,n as M}from"../chunks/scheduler.Dg_Xn4WQ.js";import{S as $,i as D,a as p,c as E,t as u,b as N,d as P,m as q,e as v,g as C}from"../chunks/index.gNonUo3Z.js";import{t as m}from"../chunks/Toaster.svelte_svelte_type_style_lang.CM0nbnqF.js";import{g as J}from"../chunks/entry.C1o6s8Km.js";import{m as _}from"../chunks/index.C2zJs1dP.js";import{c as O}from"../chunks/index.BOwZ_VJX.js";import{g as j}from"../chunks/index.ttVds5UM.js";import{M as A}from"../chunks/ModelEditor.DLCaX9ZX.js";function w(n){let a,s;return a=new A({props:{model:n[0],onSubmit:n[2]}}),{c(){N(a.$$.fragment)},l(e){P(a.$$.fragment,e)},m(e,t){q(a,e,t),s=!0},p(e,t){const o={};t&1&&(o.model=e[0]),a.$set(o)},i(e){s||(u(a.$$.fragment,e),s=!0)},o(e){p(a.$$.fragment,e),s=!1},d(e){v(a,e)}}}function L(n){let a=n[0],s,e,t=w(n);return{c(){t.c(),s=f()},l(o){t.l(o),s=f()},m(o,i){t.m(o,i),b(o,s,i),e=!0},p(o,[i]){i&1&&y(a,a=o[0])?(C(),p(t,1,1,M),E(),t=w(o),t.c(),u(t,1),t.m(s.parentNode,s)):t.p(o,i)},i(o){e||(u(t),e=!0)},o(o){p(t),e=!1},d(o){o&&h(s),t.d(o)}}}function x(n,a,s){let e,t;g(n,_,r=>s(4,t=r));const o=k("i18n");g(n,o,r=>s(3,e=r));const i=async r=>{if(t.find(d=>d.id===r.id)){m.error(`Error: A model with the ID '${r.id}' already exists. Please select a different ID to proceed.`);return}if(r.id===""){m.error("Error: Model ID cannot be empty. Please enter a valid ID to proceed.");return}r&&await O(localStorage.token,{...r,meta:{...r.meta,profile_image_url:r.meta.profile_image_url??"/static/favicon.png",suggestion_prompts:r.meta.suggestion_prompts?r.meta.suggestion_prompts.filter(l=>l.content!==""):null},params:{...r.params}}).catch(l=>(m.error(`${l}`),null))&&(await _.set(await j(localStorage.token)),m.success(e.t("Model created successfully!")),await J("/workspace/models"))};let c=null;return S(async()=>{window.addEventListener("message",async r=>{["https://openwebui.com","https://www.openwebui.com","http://localhost:5173"].includes(r.origin)&&s(0,c=JSON.parse(r.data))}),(window.opener??!1)&&window.opener.postMessage("loaded","*"),sessionStorage.model&&(s(0,c=JSON.parse(sessionStorage.model)),sessionStorage.removeItem("model"))}),[c,o,i]}class T extends ${constructor(a){super(),D(this,a,x,L,y,{})}}export{T as component};
//# sourceMappingURL=25.C3hZY9wO.js.map
