{
    "$id": "https://alwaysai.co/modelParameters.json",
    "$schema": "https://json-schema.org/draft/2019-09/schema",
    "type": "object",
    "properties": {
        "model_parameters": {
            "type": "object",
            "required": [
                "model_file",
                "mean",
                "scalefactor",
                "size",
                "purpose",
                "crop",
                "swaprb",
                "framework_type"
            ],
            "unevaluatedProperties": false,
            "properties": {
                "colors_file": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "crop": {
                    "type": "boolean"
                },
                "framework_type": {
                    "type": "string",
                    "$ref": "modelFrameworkEnum"
                },
                "label_file": {
                    "type": [
                        "string",
                        "null"
                    ]
                },
                "mean": {
                    "items": {
                        "type": "number"
                    },
                    "type": "array",
                    "minItems": 3,
                    "maxItems": 3
                },
                "model_file": {
                    "type": "string"
                },
                "output_layer_names": {
                    "oneOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "null"
                        }
                    ]
                },
                "purpose": {
                    "type": "string",
                    "$ref": "modelPurposeEnum"
                },
                "scalefactor": {
                    "type": "number"
                },
                "size": {
                    "items": {
                        "type": "number"
                    },
                    "type": "array",
                    "minItems": 2,
                    "maxItems": 2
                },
                "softmax": {
                    "type": "boolean"
                },
                "swaprb": {
                    "type": "boolean"
                }
            },
            "allOf": [
                {
                    "if": {
                        "type": "object",
                        "properties": {
                            "framework_type": {
                                "const": "enet"
                            }
                        }
                    },
                    "then": {
                        "type": "object",
                        "properties": {},
                        "required": []
                    }
                },
                {
                    "if": {
                        "type": "object",
                        "properties": {
                            "framework_type": {
                                "const": "darknet"
                            }
                        }
                    },
                    "then": {
                        "type": "object",
                        "properties": {
                            "config_file": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "config_file"
                        ]
                    }
                },
                {
                    "if": {
                        "type": "object",
                        "properties": {
                            "framework_type": {
                                "const": "caffe"
                            }
                        }
                    },
                    "then": {
                        "type": "object",
                        "properties": {
                            "config_file": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "config_file"
                        ]
                    }
                },
                {
                    "if": {
                        "type": "object",
                        "properties": {
                            "framework_type": {
                                "const": "tensorflow"
                            }
                        }
                    },
                    "then": {
                        "type": "object",
                        "properties": {
                            "config_file": {
                                "type": "string"
                            }
                        },
                        "required": [
                            "config_file"
                        ]
                    }
                },
                {
                    "if": {
                        "type": "object",
                        "properties": {
                            "framework_type": {
                                "const": "torch"
                            }
                        }
                    },
                    "then": {
                        "type": "object",
                        "properties": {
                            "hub_repo": {
                                "type": "string"
                            },
                            "hub_model": {
                                "type": "string"
                            },
                            "hub_pretrained": {
                                "type": "boolean"
                            },
                            "hub_force_reload": {
                                "type": "boolean"
                            }
                        },
                        "required": [
                            "hub_repo",
                            "hub_model"
                        ]
                    }
                },
                {
                    "if": {
                        "type": "object",
                        "properties": {
                            "framework_type": {
                                "const": "onnx"
                            }
                        }
                    },
                    "then": {
                        "$ref": "https://alwaysai.co/onnxModelParameters.json#/properties/onnxModelProperties"
                    }
                },
                {
                    "if": {
                        "type": "object",
                        "properties": {
                            "framework_type": {
                                "const": "hailo"
                            }
                        }
                    },
                    "then": {
                        "$ref": "https://alwaysai.co/hailoModelParameters.json#/properties/hailoModelProperties"
                    }
                },
                {
                    "if": {
                        "type": "object",
                        "properties": {
                            "framework_type": {
                                "const": "tensor-rt"
                            }
                        }
                    },
                    "then": {
                        "$ref": "https://alwaysai.co/tensorrtModelParameters.json#/properties/tensorrtModelProperties"
                    }
                },
                {
                    "if": {
                        "type": "object",
                        "properties": {
                            "framework_type": {
                                "const": "qaic"
                            }
                        }
                    },
                    "then": {
                        "$ref": "https://alwaysai.co/qaicModelParameters.json#/properties/qaicModelProperties"
                    }
                }
            ]
        },
        "modelFrameworkEnum": {
            "$id": "modelFrameworkEnum",
            "type": "string",
            "enum": [
                "tensorflow",
                "caffe",
                "enet",
                "darknet",
                "onnx",
                "tensor-rt",
                "hailo",
                "qaic",
                "torch"
            ]
        },
        "modelPurposeEnum": {
            "$id": "modelPurposeEnum",
            "enum": [
                "Classification",
                "InstanceSegmentation",
                "ObjectDetection",
                "PoseEstimation",
                "SemanticSegmentation",
                "ReIdentification"
            ],
            "type": "string"
        }
        }
}