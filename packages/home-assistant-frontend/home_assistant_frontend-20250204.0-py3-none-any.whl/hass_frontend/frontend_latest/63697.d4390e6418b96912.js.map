{"version":3,"file":"63697.d4390e6418b96912.js","sources":["https://raw.githubusercontent.com/home-assistant/frontend/20250204.0/src/common/decorators/storage.ts","https://raw.githubusercontent.com/home-assistant/frontend/20250204.0/src/panels/lovelace/cards/energy/hui-energy-devices-detail-graph-card.ts"],"names":["StorageClass","constructor","storage","window","localStorage","_storage","_listeners","this","addEventListener","ev","key","hasKey","newValue","JSON","parse","forEach","listener","oldValue","addFromStorage","storageKey","data","getItem","subscribeChanges","callback","push","unsubscribeChanges","index","indexOf","splice","getValue","setValue","value","undefined","removeItem","setItem","stringify","_err","storages","options","clsElement","storageName","storageInstance","String","initVal","initializer","subscribe","el","_newValue","requestUpdate","deserializer","kind","placement","descriptor","set","state","serializer","get","enumerable","configurable","finisher","cls","connectedCallback","prototype","disconnectedCallback","call","createProperty","noAccessor","stateOptions","UNIT","HuiEnergyDevicesDetailGraphCard","_decorate","customElement","_initialize","_SubscribeMixin","F","args","d","decorators","property","attribute","startOfToday","endOfToday","getEnergyDataCollection","hass","_config","collection_key","_data","_processStatistics","config","changedProps","hasConfigChanged","size","has","html","title","classMap","_chartData","_createOptions","_start","_end","locale","_compareStart","_compareEnd","_datasetHidden","_datasetUnhidden","nothing","total","localize","num","formatNumber","unit","_hiddenStats","detail","name","filter","stat","memoizeOne","start","end","compareStart","compareEnd","getCommonOptions","_formatTotal","legend","show","type","animationDurationUpdate","selected","reduce","acc","icon","grid","bottom","left","right","containLabel","energyData","startCompare","endCompare","stats","compareData","statsCompare","computedStyle","getComputedStyle","growthValues","prefs","device_consumption","device","stat_consumption","calculateStatisticSumGrowth","sorted_devices","map","sort","a","b","datasets","summedData","compareSummedData","getSummedData","showUntracked","consumption","consumptionData","compareConsumption","consumptionCompareData","computeConsumptionData","processedCompareData","_processDataSet","statsMetadata","untrackedCompareData","_processUntracked","firstId","id","stack","processedData","untrackedData","fillDataGapsAndRoundCaps","compare","totalDeviceConsumption","datapoint","compareTransform","getCompareTransform","untrackedConsumption","Object","keys","time","dataPoint","Date","order","now","cursor","itemStyle","borderColor","getEnergyColor","themes","darkMode","barMaxWidth","color","statistics","statisticsMetaData","devices","compareOffset","getTime","source","idx","max_devices","console","warn","getGraphColorByIndex","prevStart","point","change","getStatisticLabel","find","includes","static","css","SubscribeMixin","LitElement"],"mappings":"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"}