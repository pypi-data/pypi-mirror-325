"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["87593"],{57982:function(e,t,o){o.a(e,(async function(e,i){try{o.d(t,{t:()=>n});var r=o(46467),a=o(33570),l=e([r,a]);function n(e,t,o,i){const l=i/60/24,s=new Date(e);if(l>88)return 0===s.getMonth()?`{bold|${(0,r.NC)(s,t,o)}}`:(0,r.Nh)(s,t,o);if(l>35)return 1===s.getDate()?`{bold|${(0,r.ud)(s,t,o)}}`:(0,r.ud)(s,t,o);if(l>7){const e=(0,r.ud)(s,t,o);return 1===s.getDate()?`{bold|${e}}`:e}return l>2?(0,r.U8)(s,t,o):i&&i<5?(0,a.Vu)(s,t,o):0===s.getHours()&&0===s.getMinutes()&&0===s.getSeconds()?`{bold|${(0,r.ud)(s,t,o)}}`:(0,a.mr)(s,t,o)}[r,a]=l.then?(await l)():l,i()}catch(s){i(s)}}))},25179:function(e,t,o){o.a(e,(async function(e,i){try{o.d(t,{Q:()=>P});var r=o(61701),a=o(72621),l=(o(71695),o(92745),o(19423),o(40251),o(39527),o(41360),o(13334),o(47021),o(60738)),s=o(18672),n=o(5376),d=o(57243),c=o(50778),h=o(35359),u=o(69634),p=o(50875),y=o(36522),v=o(62201),m=o(30635),g=o(94134),k=(o(23334),o(57982)),f=e([s,k]);[s,k]=f.then?(await f)():f;let x,_,b,w=e=>e;const V="M12,4C14.1,4 16.1,4.8 17.6,6.3C20.7,9.4 20.7,14.5 17.6,17.6C15.8,19.5 13.3,20.2 10.9,19.9L11.4,17.9C13.1,18.1 14.9,17.5 16.2,16.2C18.5,13.9 18.5,10.1 16.2,7.7C15.1,6.6 13.5,6 12,6V10.6L7,5.6L12,0.6V4M6.3,17.6C3.7,15 3.3,11 5.1,7.9L6.6,9.4C5.5,11.6 5.9,14.4 7.8,16.2C8.3,16.7 8.9,17.1 9.6,17.4L9,19.4C8,19 7.1,18.4 6.3,17.6Z",P=3e5;(0,r.Z)([(0,c.Mo)("ha-chart-base")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",key:"chart",value:void 0},{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"data",value(){return[]}},{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"options",value:void 0},{kind:"field",decorators:[(0,c.Cb)({type:String})],key:"height",value:void 0},{kind:"field",decorators:[(0,c.Cb)({attribute:"external-hidden",type:Boolean})],key:"externalHidden",value(){return!1}},{kind:"field",decorators:[(0,c.SB)(),(0,l.F_)({context:m.LW,subscribe:!0})],key:"_themes",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_isZoomed",value(){return!1}},{kind:"field",decorators:[(0,c.SB)()],key:"_zoomRatio",value(){return 1}},{kind:"field",decorators:[(0,c.SB)()],key:"_minutesDifference",value(){return 1440}},{kind:"field",key:"_modifierPressed",value(){return!1}},{kind:"field",key:"_isTouchDevice",value(){return"ontouchstart"in window}},{kind:"field",key:"_resizeController",value(){return new s.Z(this,{callback:()=>{var e;return null===(e=this.chart)||void 0===e?void 0:e.resize()}})}},{kind:"field",key:"_loading",value(){return!1}},{kind:"field",key:"_reducedMotion",value(){return!1}},{kind:"field",key:"_listeners",value(){return[]}},{kind:"method",key:"disconnectedCallback",value:function(){var e;for((0,a.Z)(i,"disconnectedCallback",this,3)([]);this._listeners.length;)this._listeners.pop()();null===(e=this.chart)||void 0===e||e.dispose()}},{kind:"method",key:"connectedCallback",value:function(){(0,a.Z)(i,"connectedCallback",this,3)([]),this.hasUpdated&&this._setupChart(),this._listeners.push((0,v.K)("(prefers-reduced-motion)",(e=>{var t;this._reducedMotion=e,null===(t=this.chart)||void 0===t||t.setOption({animation:!this._reducedMotion})})));const e=e=>{var t,o;(g.V&&e.metaKey||!g.V&&e.ctrlKey)&&(this._modifierPressed=!0,null!==(t=this.options)&&void 0!==t&&t.dataZoom||null===(o=this.chart)||void 0===o||o.setOption({dataZoom:this._getDataZoomConfig()}))},t=e=>{var t,o;(g.V&&"Meta"===e.key||!g.V&&"Control"===e.key)&&(this._modifierPressed=!1,null!==(t=this.options)&&void 0!==t&&t.dataZoom||null===(o=this.chart)||void 0===o||o.setOption({dataZoom:this._getDataZoomConfig()}))};window.addEventListener("keydown",e),window.addEventListener("keyup",t),this._listeners.push((()=>window.removeEventListener("keydown",e)),(()=>window.removeEventListener("keyup",t)))}},{kind:"method",key:"firstUpdated",value:function(){this._setupChart()}},{kind:"method",key:"willUpdate",value:function(e){(0,a.Z)(i,"willUpdate",this,3)([e]),this.hasUpdated&&this.chart&&(e.has("_themes")?this._setupChart():(e.has("data")&&this.chart.setOption({series:this.data},{lazyUpdate:!0,replaceMerge:["series"]}),(e.has("options")||e.has("_isZoomed"))&&this.chart.setOption(this._createOptions(),{lazyUpdate:!0,replaceMerge:["grid"]})))}},{kind:"method",key:"render",value:function(){var e,t;return(0,d.dy)(x||(x=w` <div class="${0}" style="${0}" @wheel="${0}"> <div class="chart"></div> ${0} </div> `),(0,h.$)({"chart-container":!0,"has-legend":!(null===(e=this.options)||void 0===e||!e.legend)}),(0,u.V)({height:null!==(t=this.height)&&void 0!==t?t:`${this._getDefaultHeight()}px`}),this._handleWheel,this._isZoomed?(0,d.dy)(_||(_=w`<ha-icon-button class="zoom-reset" .path="${0}" @click="${0}" title="${0}"></ha-icon-button>`),V,this._handleZoomReset,this.hass.localize("ui.components.history_charts.zoom_reset")):d.Ld)}},{kind:"field",key:"_formatTimeLabel",value(){return e=>(0,k.t)(e,this.hass.locale,this.hass.config,this._minutesDifference*this._zoomRatio)}},{kind:"method",key:"_setupChart",value:async function(){if(this._loading)return;const e=this.renderRoot.querySelector(".chart");this._loading=!0;try{this.chart&&this.chart.dispose();const t=(await Promise.all([o.e("79525"),o.e("58884"),o.e("42974")]).then(o.bind(o,85803))).default;t.registerTheme("custom",this._createTheme()),this.chart=t.init(e,"custom"),this.chart.on("legendselectchanged",(e=>{if(this.externalHidden){e.selected[e.name]?(0,y.B)(this,"dataset-unhidden",{name:e.name}):(0,y.B)(this,"dataset-hidden",{name:e.name})}})),this.chart.on("datazoom",(e=>{var t,o;const{start:i,end:r}=null!==(t=null===(o=e.batch)||void 0===o?void 0:o[0])&&void 0!==t?t:e;this._isZoomed=0!==i||100!==r,this._zoomRatio=(r-i)/100})),this.chart.on("click",(e=>{(0,y.B)(this,"chart-click",e)})),this.chart.on("mousemove",(e=>{var t;"series"===e.componentType&&"custom"===e.componentSubType&&(null===(t=this.chart)||void 0===t||null===(t=t.getZr())||void 0===t||t.setCursorStyle("default"))})),this.chart.setOption(Object.assign(Object.assign({},this._createOptions()),{},{series:this.data}))}finally{this._loading=!1}}},{kind:"method",key:"_getDataZoomConfig",value:function(){var e,t,o,i,r,a;const l=null!==(e=null===(t=this.options)||void 0===t||null===(t=t.xAxis)||void 0===t?void 0:t[0])&&void 0!==e?e:null===(o=this.options)||void 0===o?void 0:o.xAxis,s=null!==(i=null===(r=this.options)||void 0===r||null===(r=r.yAxis)||void 0===r?void 0:r[0])&&void 0!==i?i:null===(a=this.options)||void 0===a?void 0:a.yAxis;if("value"!==l.type||"category"!==s.type)return{id:"dataZoom",type:"inside",orient:"horizontal",filterMode:"none",moveOnMouseMove:this._isZoomed,preventDefaultMouseMove:this._isZoomed,zoomLock:!this._isTouchDevice&&!this._modifierPressed}}},{kind:"method",key:"_createOptions",value:function(){var e,t;let o=null===(e=this.options)||void 0===e?void 0:e.xAxis;o&&(o=Array.isArray(o)?o:[o],o=o.map((e=>{if("time"!==e.type||!1===e.show)return e;e.max&&e.min&&(this._minutesDifference=(0,n.X)(e.max,e.min));const t=this._minutesDifference/60/24;let o;return t&&(o=t>=89?24192e5:t>2?864e5:void 0),Object.assign(Object.assign({axisLine:{show:!1},splitLine:{show:!0}},e),{},{axisLabel:Object.assign({formatter:this._formatTimeLabel,rich:{bold:{fontWeight:"bold"}},hideOverlap:!0},e.axisLabel),minInterval:o})})));const i=Object.assign(Object.assign({animation:!this._reducedMotion,darkMode:null!==(t=this._themes.darkMode)&&void 0!==t&&t,aria:{show:!0},dataZoom:this._getDataZoomConfig()},this.options),{},{xAxis:o});if(window.matchMedia("all and (max-width: 450px), all and (max-height: 500px)").matches&&i.tooltip){const e=Array.isArray(i.tooltip)?i.tooltip:[i.tooltip];e.forEach((e=>{e.confine=!0,e.appendTo=void 0,e.triggerOn="click"})),i.tooltip=e}return i}},{kind:"method",key:"_createTheme",value:function(){const e=getComputedStyle(this);return{color:(0,p.o9)(e),backgroundColor:"transparent",textStyle:{color:e.getPropertyValue("--primary-text-color")},title:{textStyle:{color:e.getPropertyValue("--primary-text-color")},subtextStyle:{color:e.getPropertyValue("--secondary-text-color")}},line:{lineStyle:{width:1.5},symbolSize:1,symbol:"circle",smooth:!1},bar:{itemStyle:{barBorderWidth:1.5}},categoryAxis:{axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!0,color:e.getPropertyValue("--primary-text-color")},splitLine:{show:!1,lineStyle:{color:e.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[e.getPropertyValue("--divider-color")+"3F",e.getPropertyValue("--divider-color")+"7F"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisTick:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisLabel:{show:!0,color:e.getPropertyValue("--primary-text-color")},splitLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[e.getPropertyValue("--divider-color")+"3F",e.getPropertyValue("--divider-color")+"7F"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisTick:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisLabel:{show:!0,color:e.getPropertyValue("--primary-text-color")},splitLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[e.getPropertyValue("--divider-color")+"3F",e.getPropertyValue("--divider-color")+"7F"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisTick:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},axisLabel:{show:!0,color:e.getPropertyValue("--primary-text-color")},splitLine:{show:!0,lineStyle:{color:e.getPropertyValue("--divider-color")}},splitArea:{show:!1,areaStyle:{color:[e.getPropertyValue("--divider-color")+"3F",e.getPropertyValue("--divider-color")+"7F"]}}},legend:{textStyle:{color:e.getPropertyValue("--primary-text-color")},inactiveColor:e.getPropertyValue("--disabled-text-color"),pageIconColor:e.getPropertyValue("--primary-text-color"),pageIconInactiveColor:e.getPropertyValue("--disabled-text-color"),pageTextStyle:{color:e.getPropertyValue("--secondary-text-color")}},tooltip:{backgroundColor:e.getPropertyValue("--card-background-color"),borderColor:e.getPropertyValue("--divider-color"),textStyle:{color:e.getPropertyValue("--primary-text-color"),fontSize:12},axisPointer:{lineStyle:{color:e.getPropertyValue("--divider-color")},crossStyle:{color:e.getPropertyValue("--divider-color")}}},timeline:{}}}},{kind:"method",key:"_getDefaultHeight",value:function(){return Math.max(this.clientWidth/2,200)}},{kind:"method",key:"_handleZoomReset",value:function(){var e;null===(e=this.chart)||void 0===e||e.dispatchAction({type:"dataZoom",start:0,end:100}),this._modifierPressed=!1}},{kind:"method",key:"_handleWheel",value:function(e){var t;if(null===(t=this.options)||void 0===t||!t.dataZoom){const t=g.V&&e.metaKey||!g.V&&e.ctrlKey;var o;if(t&&e.preventDefault(),t!==this._modifierPressed)this._modifierPressed=t,null===(o=this.chart)||void 0===o||o.setOption({dataZoom:this._getDataZoomConfig()})}}},{kind:"field",static:!0,key:"styles",value(){return(0,d.iv)(b||(b=w`:host{display:block;position:relative;letter-spacing:normal}.chart-container{position:relative;max-height:var(--chart-max-height,350px)}.chart{width:100%;height:100%}.zoom-reset{position:absolute;top:16px;right:4px;background:var(--card-background-color);border-radius:4px;--mdc-icon-button-size:32px;color:var(--primary-color);border:1px solid var(--divider-color)}.has-legend .zoom-reset{top:64px}`))}}]}}),d.oi);i()}catch(x){i(x)}}))},94134:function(e,t,o){o.d(t,{V:()=>i});o(19134),o(5740);const i=/Mac/i.test(navigator.userAgent)}}]);
//# sourceMappingURL=87593.010259b320f1785c.js.map